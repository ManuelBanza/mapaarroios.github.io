<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="static/choices/styles/css/choices.min.css">
		<link rel="stylesheet" type="text/css" href="static/style.css">
		<style id="choices-styles"></style>
	<title>Habitação m2 vs Remuneração Base</title></head>
	<body>
		<!-- This empty element starts both weights of fonts to load, avoiding a transition interruption when the fontWatcher is called -->
		<p style="position: fixed; visibility: hidden; left: -10000px; top: -10000px"><strong>-</strong></p>
	

<script>window.Flourish = {"static_prefix":"static","environment":"preview"};</script><script>var template=function(t){"use strict";var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},E=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i&&i)||Function("return this")(),_=function(t){try{return!!t()}catch(t){return!0}},h=!_(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),o={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s,l,p={f:a&&!o.call({1:2},1)?function t(e){var n=a(this,e);return!!n&&n.enumerable}:o},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},u={}.toString,d=function(t){return u.call(t).slice(8,-1)},f="".split,b=_(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==d(t)?f.call(t,""):Object(t)}:Object,g=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return b(g(t))},L=function(t){return"object"==typeof t?null!==t:"function"==typeof t},D=function(t,e){if(!L(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!L(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!L(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!L(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,C=function(t,e){return m.call(t,e)},v=E.document,x=L(v)&&L(v.createElement),w=function(t){return x?v.createElement(t):{}},M=!h&&!_(function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a}),k=Object.getOwnPropertyDescriptor,j,O={f:h?k:function t(e,n){if(e=y(e),n=D(n,!0),M)try{return k(e,n)}catch(t){}if(C(e,n))return c(!p.f.call(e,n),e[n])}},I=function(t){if(!L(t))throw TypeError(String(t)+" is not an object");return t},A=Object.defineProperty,T,P={f:h?A:function t(e,n,r){if(I(e),n=D(n,!0),I(r),M)try{return A(e,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[n]=r.value),e}},R=h?function(t,e,n){return P.f(t,e,c(1,n))}:function(t,e,n){return t[e]=n,t},N=function(e,n){try{R(E,e,n)}catch(t){E[e]=n}return n},z="__core-js_shared__",S,Y=E[z]||N(z,{}),U=Function.toString;"function"!=typeof Y.inspectSource&&(Y.inspectSource=function(t){return U.call(t)});var F=Y.inspectSource,B=E.WeakMap,Z="function"==typeof B&&/native code/.test(F(B)),H=!1,G=n(function(t){(t.exports=function(t,e){return Y[t]||(Y[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Q=0,q=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Q+q).toString(36)},W=G("keys"),$=function(t){return W[t]||(W[t]=V(t))},X={},J=E.WeakMap,K,tt,et,nt=function(t){return et(t)?tt(t):K(t,{})},rt=function(n){return function(t){var e;if(!L(t)||(e=tt(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}},it,ot,at,st,K,tt,et,lt;et=Z?(it=new J,ot=it.get,at=it.has,st=it.set,K=function(t,e){return st.call(it,t,e),e},tt=function(t){return ot.call(it,t)||{}},function(t){return at.call(it,t)}):(lt=$("state"),X[lt]=!0,K=function(t,e){return R(t,lt,e),e},tt=function(t){return C(t,lt)?t[lt]:{}},function(t){return C(t,lt)});var ct={set:K,get:tt,has:et,enforce:nt,getterFor:rt},ut=n(function(t){var e=ct.get,s=ct.enforce,l=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||C(n,"name")||R(n,"name",e),s(n).source=l.join("string"==typeof e?e:"")),t!==E?(i?!a&&t[e]&&(o=!0):delete t[e],o?t[e]=n:R(t,e,n)):o?t[e]=n:N(e,n)})(Function.prototype,"toString",function t(){return"function"==typeof this&&e(this).source||F(this)})}),dt=E,ft=function(t){return"function"==typeof t?t:void 0},ht=function(t,e){return arguments.length<2?ft(dt[t])||ft(E[t]):dt[t]&&dt[t][e]||E[t]&&E[t][e]},pt=Math.ceil,gt=Math.floor,_t=function(t){return isNaN(t=+t)?0:(0<t?gt:pt)(t)},yt=Math.min,mt=function(t){return 0<t?yt(_t(t),9007199254740991):0},vt=Math.max,bt=Math.min,xt=function(t,e){var n=_t(t);return n<0?vt(n+e,0):bt(n,e)},wt=function(s){return function(t,e,n){var r=y(t),i=mt(r.length),o=xt(n,i),a;if(s&&e!=e){for(;o<i;)if((a=r[o++])!=a)return!0}else for(;o<i;o++)if((s||o in r)&&r[o]===e)return s||o||0;return!s&&-1}},Mt={includes:wt(!0),indexOf:wt(!1)},kt=Mt.indexOf,jt=function(t,e){var n=y(t),r=0,i=[],o;for(o in n)!C(X,o)&&C(n,o)&&i.push(o);for(;e.length>r;)C(n,o=e[r++])&&(~kt(i,o)||i.push(o));return i},At=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],It=At.concat("length","prototype"),Tt,Nt={f:Object.getOwnPropertyNames||function t(e){return jt(e,It)}},zt,St={f:Object.getOwnPropertySymbols},Et=ht("Reflect","ownKeys")||function t(e){var n=Nt.f(I(e)),r=St.f;return r?n.concat(r(e)):n},Lt=function(t,e){for(var n=Et(e),r=P.f,i=O.f,o=0;o<n.length;o++){var a=n[o];C(t,a)||r(t,a,i(e,a))}},Dt=/#|\.prototype\./,Ct=function(t,e){var n=Pt[Ot(t)];return n==Yt||n!=Rt&&("function"==typeof e?_(e):!!e)},Ot=Ct.normalize=function(t){return String(t).replace(Dt,".").toLowerCase()},Pt=Ct.data={},Rt=Ct.NATIVE="N",Yt=Ct.POLYFILL="P",Ut=Ct,Ft=O.f,Bt=function(t,e){var n=t.target,r=t.global,i=t.stat,o,a,s,l,c,u,a=r?E:i?E[n]||N(n,{}):(E[n]||{}).prototype;if(a)for(s in e){if(c=e[s],l=t.noTargetGet?(u=Ft(a,s))&&u.value:a[s],!(o=Ut(r?s:n+(i?".":"#")+s,t.forced))&&void 0!==l){if(typeof c==typeof l)continue;Lt(c,l)}(t.sham||l&&l.sham)&&R(c,"sham",!0),ut(a,s,c,t)}},Zt=!!Object.getOwnPropertySymbols&&!_(function(){return!String(Symbol())}),Ht=Zt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Gt=Array.isArray||function t(e){return"Array"==d(e)},Qt=function(t){return Object(g(t))},qt=Object.keys||function t(e){return jt(e,At)},Vt=h?Object.defineProperties:function t(e,n){I(e);for(var r=qt(n),i=r.length,o=0,a;o<i;)P.f(e,a=r[o++],n[a]);return e},Wt=ht("document","documentElement"),$t=">",Xt="<",Jt="prototype",Kt="script",te=$("IE_PROTO"),ee=function(){},ne=function(t){return Xt+Kt+$t+t+Xt+"/"+Kt+$t},re=function(t){t.write(ne("")),t.close();var e=t.parentWindow.Object;return t=null,e},ie=function(){var t=w("iframe"),e="javascript:",n;return t.style.display="none",Wt.appendChild(t),t.src=String(e),(n=t.contentWindow.document).open(),n.write(ne("document.F=Object")),n.close(),n.F},oe,ae=function(){try{oe=document.domain&&new ActiveXObject("htmlfile")}catch(t){}ae=oe?re(oe):ie();for(var t=At.length;t--;)delete ae[Jt][At[t]];return ae()};X[te]=!0;var se=Object.create||function t(e,n){var r;return null!==e?(ee[Jt]=I(e),r=new ee,ee[Jt]=null,r[te]=e):r=ae(),void 0===n?r:Vt(r,n)},le=Nt.f,ce={}.toString,ue="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],de=function(t){try{return le(t)}catch(t){return ue.slice()}},fe,he={f:function t(e){return ue&&"[object Window]"==ce.call(e)?de(e):le(y(e))}},pe=G("wks"),ge=E.Symbol,_e=Ht?ge:ge&&ge.withoutSetter||V,ye=function(t){return C(pe,t)||(Zt&&C(ge,t)?pe[t]=ge[t]:pe[t]=_e("Symbol."+t)),pe[t]},me,ve={f:ye},be=P.f,xe=function(t){var e=dt.Symbol||(dt.Symbol={});C(e,t)||be(e,t,{value:ve.f(t)})},we=P.f,Me=ye("toStringTag"),ke=function(t,e,n){t&&!C(t=n?t:t.prototype,Me)&&we(t,Me,{configurable:!0,value:e})},je=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Ae=function(r,i,t){if(je(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}},Ie=ye("species"),Te=function(t,e){var n;return Gt(t)&&("function"==typeof(n=t.constructor)&&(n===Array||Gt(n.prototype))||L(n)&&null===(n=n[Ie]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ne=[].push,ze=function(h){var p=1==h,g=2==h,_=3==h,y=4==h,m=6==h,v=5==h||m;return function(t,e,n,r){for(var i=Qt(t),o=b(i),a=Ae(e,n,3),s=mt(o.length),l=0,c=r||Te,u=p?c(t,s):g?c(t,0):void 0,d,f;l<s;l++)if((v||l in o)&&(f=a(d=o[l],l,i),h))if(p)u[l]=f;else if(f)switch(h){case 3:return!0;case 5:return d;case 6:return l;case 2:Ne.call(u,d)}else if(y)return!1;return m?-1:_||y?y:u}},Se={forEach:ze(0),map:ze(1),filter:ze(2),some:ze(3),every:ze(4),find:ze(5),findIndex:ze(6)},Ee=Se.forEach,Le=$("hidden"),De="Symbol",Ce="prototype",Oe=ye("toPrimitive"),Pe=ct.set,Re=ct.getterFor(De),Ye=Object[Ce],Ue=E.Symbol,Fe=ht("JSON","stringify"),Be=O.f,Ze=P.f,He=he.f,Ge=p.f,Qe=G("symbols"),qe=G("op-symbols"),Ve=G("string-to-symbol-registry"),We=G("symbol-to-string-registry"),$e=G("wks"),Xe=E.QObject,Je=!Xe||!Xe[Ce]||!Xe[Ce].findChild,Ke=h&&_(function(){return 7!=se(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Be(Ye,e);r&&delete Ye[e],Ze(t,e,n),r&&t!==Ye&&Ze(Ye,e,r)}:Ze,tn=function(t,e){var n=Qe[t]=se(Ue[Ce]);return Pe(n,{type:De,tag:t,description:e}),h||(n.description=e),n},en=Ht?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Ue},nn=function t(e,n,r){e===Ye&&nn(qe,n,r),I(e);var i=D(n,!0);return I(r),C(Qe,i)?(r.enumerable?(C(e,Le)&&e[Le][i]&&(e[Le][i]=!1),r=se(r,{enumerable:c(0,!1)})):(C(e,Le)||Ze(e,Le,c(1,{})),e[Le][i]=!0),Ke(e,i,r)):Ze(e,i,r)},rn=function t(e,n){I(e);var r=y(n),i=qt(r).concat(cn(r));return Ee(i,function(t){h&&!an.call(r,t)||nn(e,t,r[t])}),e},on=function t(e,n){return void 0===n?se(e):rn(se(e),n)},an=function t(e){var n=D(e,!0),r=Ge.call(this,n);return!(this===Ye&&C(Qe,n)&&!C(qe,n))&&(!(r||!C(this,n)||!C(Qe,n)||C(this,Le)&&this[Le][n])||r)},sn=function t(e,n){var r=y(e),i=D(n,!0);if(r!==Ye||!C(Qe,i)||C(qe,i)){var o=Be(r,i);return!o||!C(Qe,i)||C(r,Le)&&r[Le][i]||(o.enumerable=!0),o}},ln=function t(e){var n=He(y(e)),r=[];return Ee(n,function(t){C(Qe,t)||C(X,t)||r.push(t)}),r},cn=function t(e){var n=e===Ye,r=He(n?qe:y(e)),i=[];return Ee(r,function(t){!C(Qe,t)||n&&!C(Ye,t)||i.push(Qe[t])}),i},un;Zt||(ut((Ue=function t(e){if(this instanceof Ue)throw TypeError("Symbol is not a constructor");var n=arguments.length&&void 0!==e?String(e):void 0,r=V(n),i=function(t){this===Ye&&i.call(qe,t),C(this,Le)&&C(this[Le],r)&&(this[Le][r]=!1),Ke(this,r,c(1,t))};return h&&Je&&Ke(Ye,r,{configurable:!0,set:i}),tn(r,n)})[Ce],"toString",function t(){return Re(this).tag}),ut(Ue,"withoutSetter",function(t){return tn(V(t),t)}),p.f=an,P.f=nn,O.f=sn,Nt.f=he.f=ln,St.f=cn,ve.f=function(t){return tn(ye(t),t)},h&&(Ze(Ue[Ce],"description",{configurable:!0,get:function t(){return Re(this).description}}),ut(Ye,"propertyIsEnumerable",an,{unsafe:!0}))),Bt({global:!0,wrap:!0,forced:!Zt,sham:!Zt},{Symbol:Ue}),Ee(qt($e),function(t){xe(t)}),Bt({target:De,stat:!0,forced:!Zt},{for:function(t){var e=String(t);if(C(Ve,e))return Ve[e];var n=Ue(e);return Ve[e]=n,We[n]=e,n},keyFor:function t(e){if(!en(e))throw TypeError(e+" is not a symbol");if(C(We,e))return We[e]},useSetter:function(){Je=!0},useSimple:function(){Je=!1}}),Bt({target:"Object",stat:!0,forced:!Zt,sham:!h},{create:on,defineProperty:nn,defineProperties:rn,getOwnPropertyDescriptor:sn}),Bt({target:"Object",stat:!0,forced:!Zt},{getOwnPropertyNames:ln,getOwnPropertySymbols:cn}),Bt({target:"Object",stat:!0,forced:_(function(){St.f(1)})},{getOwnPropertySymbols:function t(e){return St.f(Qt(e))}}),Fe&&(un=!Zt||_(function(){var t=Ue();return"[null]"!=Fe([t])||"{}"!=Fe({a:t})||"{}"!=Fe(Object(t))}),Bt({target:"JSON",stat:!0,forced:un},{stringify:function t(e,n,r){for(var i=[e],o=1,a;o<arguments.length;)i.push(arguments[o++]);if((L(a=n)||void 0!==e)&&!en(e))return Gt(n)||(n=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!en(e))return e}),i[1]=n,Fe.apply(null,i)}})),Ue[Ce][Oe]||R(Ue[Ce],Oe,Ue[Ce].valueOf),ke(Ue,De),X[Le]=!0,xe("asyncIterator");var dn=P.f,fn=E.Symbol,hn,pn,gn,_n,yn,mn;!h||"function"!=typeof fn||"description"in fn.prototype&&void 0===fn().description||(hn={},Lt(pn=function t(e){var n=arguments.length<1||void 0===e?void 0:String(e),r=this instanceof pn?new fn(n):void 0===n?fn():fn(n);return""===n&&(hn[r]=!0),r},fn),(gn=pn.prototype=fn.prototype).constructor=pn,_n=gn.toString,yn="Symbol(test)"==String(fn("test")),mn=/^Symbol\((.*)\)[^)]+$/,dn(gn,"description",{configurable:!0,get:function t(){var e=L(this)?this.valueOf():this,n=_n.call(e);if(C(hn,e))return"";var r=yn?n.slice(7,-1):n.replace(mn,"$1");return""===r?void 0:r}}),Bt({global:!0,forced:!0},{Symbol:pn})),xe("hasInstance"),xe("isConcatSpreadable"),xe("iterator"),xe("match"),xe("matchAll"),xe("replace"),xe("search"),xe("species"),xe("split"),xe("toPrimitive"),xe("toStringTag"),xe("unscopables");var vn=Object.assign,bn=Object.defineProperty,xn=!vn||_(function(){if(h&&1!==vn({b:1},vn(bn({},"a",{enumerable:!0,get:function(){bn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=vn({},t)[n]||qt(vn({},e)).join("")!=r})?function t(e,n){for(var r=Qt(e),i=arguments.length,o=1,a=St.f,s=p.f;o<i;)for(var l=b(arguments[o++]),c=a?qt(l).concat(a(l)):qt(l),u=c.length,d=0,f;d<u;)f=c[d++],h&&!s.call(l,f)||(r[f]=l[f]);return r}:vn;Bt({target:"Object",stat:!0,forced:Object.assign!==xn},{assign:xn}),Bt({target:"Object",stat:!0,sham:!h},{create:se}),Bt({target:"Object",stat:!0,forced:!h,sham:!h},{defineProperty:P.f}),Bt({target:"Object",stat:!0,forced:!h,sham:!h},{defineProperties:Vt});var wn=p.f,Mn=function(s){return function(t){for(var e=y(t),n=qt(e),r=n.length,i=0,o=[],a;i<r;)a=n[i++],h&&!wn.call(e,a)||o.push(s?[a,e[a]]:e[a]);return o}},kn={entries:Mn(!0),values:Mn(!1)},jn=kn.entries;Bt({target:"Object",stat:!0},{entries:function t(e){return jn(e)}});var An=!_(function(){return Object.isExtensible(Object.preventExtensions({}))}),In=n(function(t){var e=P.f,n=V("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=function(t,e){if(!L(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!C(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},s=function(t,e){if(!C(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},l=function(t){return An&&c.REQUIRED&&i(t)&&!C(t,n)&&o(t),t},c=t.exports={REQUIRED:!1,fastKey:a,getWeakData:s,onFreeze:l};X[n]=!0}),Tn=In.REQUIRED,Nn=In.fastKey,zn=In.getWeakData,Sn=In.onFreeze,En=In.onFreeze,Ln=Object.freeze,Dn=_(function(){Ln(1)});Bt({target:"Object",stat:!0,forced:Dn,sham:!An},{freeze:function t(e){return Ln&&L(e)?Ln(En(e)):e}});var Cn={},On=ye("iterator"),Pn=Array.prototype,Rn=function(t){return void 0!==t&&(Cn.Array===t||Pn[On]===t)},Yn,Un={};Un[ye("toStringTag")]="z";var Fn="[object z]"===String(Un),Bn=ye("toStringTag"),Zn="Arguments"==d(function(){return arguments}()),Hn=function(t,e){try{return t[e]}catch(t){}},Gn=Fn?d:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Hn(e=Object(t),Bn))?n:Zn?d(e):"Object"==(r=d(e))&&"function"==typeof e.callee?"Arguments":r},Qn=ye("iterator"),qn=function(t){if(null!=t)return t[Qn]||t["@@iterator"]||Cn[Gn(t)]},Vn=function(e,t,n,r){try{return r?t(I(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&I(i.call(e)),t}},Wn=n(function(t){var h=function(t,e){this.stopped=t,this.result=e},e;(t.exports=function(t,e,n,r,i){var o=Ae(e,n,r?2:1),a,s,l,c,u,d,f;if(i)a=t;else{if("function"!=typeof(s=qn(t)))throw TypeError("Target is not iterable");if(Rn(s)){for(l=0,c=mt(t.length);l<c;l++)if((u=r?o(I(f=t[l])[0],f[1]):o(t[l]))&&u instanceof h)return u;return new h(!1)}a=s.call(t)}for(d=a.next;!(f=d.call(a)).done;)if("object"==typeof(u=Vn(a,o,f.value,r))&&u&&u instanceof h)return u;return new h(!1)}).stop=function(t){return new h(!0,t)}}),$n=function(t,e,n){var r=D(e);r in t?P.f(t,r,c(0,n)):t[r]=n};Bt({target:"Object",stat:!0},{fromEntries:function t(e){var n={};return Wn(e,function(t,e){$n(n,t,e)},void 0,!0),n}});var Xn=O.f,Jn=_(function(){Xn(1)}),Kn;Bt({target:"Object",stat:!0,forced:!h||Jn,sham:!h},{getOwnPropertyDescriptor:function t(e,n){return Xn(y(e),n)}}),Bt({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function t(e){for(var n=y(e),r=O.f,i=Et(n),o={},a=0,s,l;i.length>a;)void 0!==(l=r(n,s=i[a++]))&&$n(o,s,l);return o}});var tr=he.f,er=_(function(){return!Object.getOwnPropertyNames(1)});Bt({target:"Object",stat:!0,forced:er},{getOwnPropertyNames:tr});var nr=!_(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),rr=$("IE_PROTO"),ir=Object.prototype,or=nr?Object.getPrototypeOf:function(t){return t=Qt(t),C(t,rr)?t[rr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ir:null},ar=_(function(){or(1)});Bt({target:"Object",stat:!0,forced:ar,sham:!nr},{getPrototypeOf:function t(e){return or(Qt(e))}});var sr=Object.is||function t(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n};Bt({target:"Object",stat:!0},{is:sr});var lr=Object.isExtensible,cr=_(function(){lr(1)});Bt({target:"Object",stat:!0,forced:cr},{isExtensible:function t(e){return!!L(e)&&(!lr||lr(e))}});var ur=Object.isFrozen,dr=_(function(){ur(1)});Bt({target:"Object",stat:!0,forced:dr},{isFrozen:function t(e){return!L(e)||!!ur&&ur(e)}});var fr=Object.isSealed,hr=_(function(){fr(1)});Bt({target:"Object",stat:!0,forced:hr},{isSealed:function t(e){return!L(e)||!!fr&&fr(e)}});var pr=_(function(){qt(1)});Bt({target:"Object",stat:!0,forced:pr},{keys:function t(e){return qt(Qt(e))}});var gr=In.onFreeze,_r=Object.preventExtensions,yr=_(function(){_r(1)});Bt({target:"Object",stat:!0,forced:yr,sham:!An},{preventExtensions:function t(e){return _r&&L(e)?_r(gr(e)):e}});var mr=In.onFreeze,vr=Object.seal,br=_(function(){vr(1)});Bt({target:"Object",stat:!0,forced:br,sham:!An},{seal:function t(e){return vr&&L(e)?vr(mr(e)):e}});var xr=function(t){if(!L(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},wr=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},i;try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function t(e,n){return I(e),xr(n),r?i.call(e,n):e.__proto__=n,e}}():void 0);Bt({target:"Object",stat:!0},{setPrototypeOf:wr});var Mr=kn.values;Bt({target:"Object",stat:!0},{values:function t(e){return Mr(e)}});var kr=Fn?{}.toString:function t(){return"[object "+Gn(this)+"]"};Fn||ut(Object.prototype,"toString",kr,{unsafe:!0});var jr=!_(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete E[t]});h&&Bt({target:"Object",proto:!0,forced:jr},{__defineGetter__:function t(e,n){P.f(Qt(this),e,{get:je(n),enumerable:!0,configurable:!0})}}),h&&Bt({target:"Object",proto:!0,forced:jr},{__defineSetter__:function t(e,n){P.f(Qt(this),e,{set:je(n),enumerable:!0,configurable:!0})}});var Ar=O.f;h&&Bt({target:"Object",proto:!0,forced:jr},{__lookupGetter__:function t(e){var n=Qt(this),r=D(e,!0),i;do{if(i=Ar(n,r))return i.get}while(n=or(n))}});var Ir=O.f;h&&Bt({target:"Object",proto:!0,forced:jr},{__lookupSetter__:function t(e){var n=Qt(this),r=D(e,!0),i;do{if(i=Ir(n,r))return i.set}while(n=or(n))}});var Tr=[].slice,Nr={},zr=function(t,e,n){if(!(e in Nr)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";Nr[e]=Function("C,a","return new C("+r.join(",")+")")}return Nr[e](t,n)},Sr=Function.bind||function t(n){var r=je(this),i=Tr.call(arguments,1),o=function t(){var e=i.concat(Tr.call(arguments));return this instanceof o?zr(r,e.length,e):r.apply(n,e)};return L(r.prototype)&&(o.prototype=r.prototype),o};Bt({target:"Function",proto:!0},{bind:Sr});var Er=P.f,Lr=Function.prototype,Dr=Lr.toString,Cr=/^\s*function ([^ (]*)/,Or="name";!h||Or in Lr||Er(Lr,Or,{configurable:!0,get:function(){try{return Dr.call(this).match(Cr)[1]}catch(t){return""}}});var Pr=ye("hasInstance"),Rr=Function.prototype;Pr in Rr||P.f(Rr,Pr,{value:function(t){if("function"!=typeof this||!L(t))return!1;if(!L(this.prototype))return t instanceof this;for(;t=or(t);)if(this.prototype===t)return!0;return!1}}),Bt({global:!0},{globalThis:E});var Yr=function t(e,n,r){var i=Qt(e),o="function"==typeof this?this:Array,a=arguments.length,s=1<a?n:void 0,l=void 0!==s,c=qn(i),u=0,d,f,h,p,g,_;if(l&&(s=Ae(s,2<a?r:void 0,2)),null==c||o==Array&&Rn(c))for(f=new o(d=mt(i.length));u<d;u++)_=l?s(i[u],u):i[u],$n(f,u,_);else for(g=(p=c.call(i)).next,f=new o;!(h=g.call(p)).done;u++)_=l?Vn(p,s,[h.value,u],!0):h.value,$n(f,u,_);return f.length=u,f},Ur=ye("iterator"),Fr=!1;try{var Br=0,Zr={next:function(){return{done:!!Br++}},return:function(){Fr=!0}};Zr[Ur]=function(){return this},Array.from(Zr,function(){throw 2})}catch(t){}var Hr=function(t,e){if(!e&&!Fr)return!1;var n=!1;try{var r={};r[Ur]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Gr=!Hr(function(t){Array.from(t)});Bt({target:"Array",stat:!0,forced:Gr},{from:Yr}),Bt({target:"Array",stat:!0},{isArray:Gt});var Qr=_(function(){function t(){}return!(Array.of.call(t)instanceof t)});Bt({target:"Array",stat:!0,forced:Qr},{of:function t(){for(var e=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);e<n;)$n(r,e,arguments[e++]);return r.length=n,r}});var qr=ht("navigator","userAgent")||"",Vr=E.process,Wr=Vr&&Vr.versions,$r=Wr&&Wr.v8,Xr,Jr;$r?Jr=(Xr=$r.split("."))[0]+Xr[1]:qr&&(!(Xr=qr.match(/Edge\/(\d+)/))||74<=Xr[1])&&(Xr=qr.match(/Chrome\/(\d+)/))&&(Jr=Xr[1]);var Kr=Jr&&+Jr,ti=ye("species"),ei=function(n){return 51<=Kr||!_(function(){var t=[],e;return(t.constructor={})[ti]=function(){return{foo:1}},1!==t[n](Boolean).foo})},ni=ye("isConcatSpreadable"),ri=9007199254740991,ii="Maximum allowed index exceeded",oi=51<=Kr||!_(function(){var t=[];return t[ni]=!1,t.concat()[0]!==t}),ai=ei("concat"),si=function(t){if(!L(t))return!1;var e=t[ni];return void 0!==e?!!e:Gt(t)},li;Bt({target:"Array",proto:!0,forced:!oi||!ai},{concat:function t(e){for(var n=Qt(this),r=Te(n,0),i=0,o,a,s,l,c,o=-1,s=arguments.length;o<s;o++)if(si(c=-1===o?n:arguments[o])){if(l=mt(c.length),ri<i+l)throw TypeError(ii);for(a=0;a<l;a++,i++)a in c&&$n(r,i,c[a])}else{if(ri<=i)throw TypeError(ii);$n(r,i++,c)}return r.length=i,r}});var ci=Math.min,ui=[].copyWithin||function t(e,n,r){var i=Qt(this),o=mt(i.length),a=xt(e,o),s=xt(n,o),l=2<arguments.length?r:void 0,c=ci((void 0===l?o:xt(l,o))-s,o-a),u=1;for(s<a&&a<s+c&&(u=-1,s+=c-1,a+=c-1);0<c--;)s in i?i[a]=i[s]:delete i[a],a+=u,s+=u;return i},di=ye("unscopables"),fi=Array.prototype;null==fi[di]&&P.f(fi,di,{configurable:!0,value:se(null)});var hi=function(t){fi[di][t]=!0};Bt({target:"Array",proto:!0},{copyWithin:ui}),hi("copyWithin");var pi=function(t,e){var n=[][t];return!!n&&_(function(){n.call(null,e||function(){throw 1},1)})},gi=Object.defineProperty,_i={},yi=function(t){throw t},mi=function(t,e){if(C(_i,t))return _i[t];var n=[][t],r=!!C(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=C(e,0)?e[0]:yi,o=C(e,1)?e[1]:void 0;return _i[t]=!!n&&!_(function(){if(r&&!h)return 1;var t={length:-1};r?gi(t,1,{enumerable:!0,get:yi}):t[1]=1,n.call(t,i,o)})},vi=Se.every,bi=pi("every"),xi=mi("every");Bt({target:"Array",proto:!0,forced:!bi||!xi},{every:function t(e,n){return vi(this,e,1<arguments.length?n:void 0)}});var wi=function t(e,n,r){for(var i=Qt(this),o=mt(i.length),a=arguments.length,s=xt(1<a?n:void 0,o),l=2<a?r:void 0,c=void 0===l?o:xt(l,o);s<c;)i[s++]=e;return i};Bt({target:"Array",proto:!0},{fill:wi}),hi("fill");var Mi=Se.filter,ki=ei("filter"),ji=mi("filter");Bt({target:"Array",proto:!0,forced:!ki||!ji},{filter:function t(e,n){return Mi(this,e,1<arguments.length?n:void 0)}});var Ai=Se.find,Ii="find",Ti=!0,Ni=mi(Ii);Ii in[]&&Array(1)[Ii](function(){Ti=!1}),Bt({target:"Array",proto:!0,forced:Ti||!Ni},{find:function t(e,n){return Ai(this,e,1<arguments.length?n:void 0)}}),hi(Ii);var zi=Se.findIndex,Si="findIndex",Ei=!0,Li=mi(Si);Si in[]&&Array(1)[Si](function(){Ei=!1}),Bt({target:"Array",proto:!0,forced:Ei||!Li},{findIndex:function t(e,n){return zi(this,e,1<arguments.length?n:void 0)}}),hi(Si);var Di=function(t,e,n,r,i,o,a,s){for(var l=i,c=0,u=!!a&&Ae(a,s,3),d;c<r;){if(c in n){if(d=u?u(n[c],c,e):n[c],0<o&&Gt(d))l=Di(t,e,d,mt(d.length),l,o-1)-1;else{if(9007199254740991<=l)throw TypeError("Exceed the acceptable array length");t[l]=d}l++}c++}return l},Ci=Di;Bt({target:"Array",proto:!0},{flat:function t(e){var n=arguments.length?e:void 0,r=Qt(this),i=mt(r.length),o=Te(r,0);return o.length=Ci(o,r,r,i,0,void 0===n?1:_t(n)),o}}),Bt({target:"Array",proto:!0},{flatMap:function t(e,n){var r=Qt(this),i=mt(r.length),o;return je(e),(o=Te(r,0)).length=Ci(o,r,r,i,0,1,e,1<arguments.length?n:void 0),o}});var Oi=Se.forEach,Pi=pi("forEach"),Ri=mi("forEach"),Yi=Pi&&Ri?[].forEach:function t(e,n){return Oi(this,e,1<arguments.length?n:void 0)};Bt({target:"Array",proto:!0,forced:[].forEach!=Yi},{forEach:Yi});var Ui=Mt.includes,Fi=mi("indexOf",{ACCESSORS:!0,1:0});Bt({target:"Array",proto:!0,forced:!Fi},{includes:function t(e,n){return Ui(this,e,1<arguments.length?n:void 0)}}),hi("includes");var Bi=Mt.indexOf,Zi=[].indexOf,Hi=!!Zi&&1/[1].indexOf(1,-0)<0,Gi=pi("indexOf"),Qi=mi("indexOf",{ACCESSORS:!0,1:0});Bt({target:"Array",proto:!0,forced:Hi||!Gi||!Qi},{indexOf:function t(e,n){return Hi?Zi.apply(this,arguments)||0:Bi(this,e,1<arguments.length?n:void 0)}});var qi=[].join,Vi=b!=Object,Wi=pi("join",",");Bt({target:"Array",proto:!0,forced:Vi||!Wi},{join:function t(e){return qi.call(y(this),void 0===e?",":e)}});var $i=Math.min,Xi=[].lastIndexOf,Ji=!!Xi&&1/[1].lastIndexOf(1,-0)<0,Ki=pi("lastIndexOf"),to=mi("indexOf",{ACCESSORS:!0,1:0}),eo,no=Ji||!Ki||!to?function t(e,n){if(Ji)return Xi.apply(this,arguments)||0;var r=y(this),i=mt(r.length),o=i-1;for(1<arguments.length&&(o=$i(o,_t(n))),o<0&&(o=i+o);0<=o;o--)if(o in r&&r[o]===e)return o||0;return-1}:Xi;Bt({target:"Array",proto:!0,forced:no!==[].lastIndexOf},{lastIndexOf:no});var ro=Se.map,io=ei("map"),oo=mi("map");Bt({target:"Array",proto:!0,forced:!io||!oo},{map:function t(e,n){return ro(this,e,1<arguments.length?n:void 0)}});var ao=function(c){return function(t,e,n,r){je(e);var i=Qt(t),o=b(i),a=mt(i.length),s=c?a-1:0,l=c?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=l;break}if(s+=l,c?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=s:s<a;s+=l)s in o&&(r=e(r,o[s],s,i));return r}},so={left:ao(!1),right:ao(!0)},lo=so.left,co=pi("reduce"),uo=mi("reduce",{1:0});Bt({target:"Array",proto:!0,forced:!co||!uo},{reduce:function t(e,n){return lo(this,e,arguments.length,1<arguments.length?n:void 0)}});var fo=so.right,ho=pi("reduceRight"),po=mi("reduce",{1:0});Bt({target:"Array",proto:!0,forced:!ho||!po},{reduceRight:function t(e,n){return fo(this,e,arguments.length,1<arguments.length?n:void 0)}});var go=[].reverse,_o=[1,2];Bt({target:"Array",proto:!0,forced:String(_o)===String(_o.reverse())},{reverse:function t(){return Gt(this)&&(this.length=this.length),go.call(this)}});var yo=ei("slice"),mo=mi("slice",{ACCESSORS:!0,0:0,1:2}),vo=ye("species"),bo=[].slice,xo=Math.max;Bt({target:"Array",proto:!0,forced:!yo||!mo},{slice:function t(e,n){var r=y(this),i=mt(r.length),o=xt(e,i),a=xt(void 0===n?i:n,i),s,l,c;if(Gt(r)&&(("function"==typeof(s=r.constructor)&&(s===Array||Gt(s.prototype))||L(s)&&null===(s=s[vo]))&&(s=void 0),s===Array||void 0===s))return bo.call(r,o,a);for(l=new(void 0===s?Array:s)(xo(a-o,0)),c=0;o<a;o++,c++)o in r&&$n(l,c,r[o]);return l.length=c,l}});var wo=Se.some,Mo=pi("some"),ko=mi("some");Bt({target:"Array",proto:!0,forced:!Mo||!ko},{some:function t(e,n){return wo(this,e,1<arguments.length?n:void 0)}});var jo=[],Ao=jo.sort,Io=_(function(){jo.sort(void 0)}),To=_(function(){jo.sort(null)}),No=pi("sort"),zo;Bt({target:"Array",proto:!0,forced:Io||!To||!No},{sort:function t(e){return void 0===e?Ao.call(Qt(this)):Ao.call(Qt(this),je(e))}});var So=ei("splice"),Eo=mi("splice",{ACCESSORS:!0,0:0,1:2}),Lo=Math.max,Do=Math.min,Co=9007199254740991,Oo="Maximum allowed length exceeded";Bt({target:"Array",proto:!0,forced:!So||!Eo},{splice:function t(e,n){var r=Qt(this),i=mt(r.length),o=xt(e,i),a=arguments.length,s,l,c,u,d,f;if(0===a?s=l=0:l=1===a?(s=0,i-o):(s=a-2,Do(Lo(_t(n),0),i-o)),Co<i+s-l)throw TypeError(Oo);for(c=Te(r,l),u=0;u<l;u++)(d=o+u)in r&&$n(c,u,r[d]);if(s<(c.length=l)){for(u=o;u<i-l;u++)f=u+s,(d=u+l)in r?r[f]=r[d]:delete r[f];for(u=i;i-l+s<u;u--)delete r[u-1]}else if(l<s)for(u=i-l;o<u;u--)f=u+s-1,(d=u+l-1)in r?r[f]=r[d]:delete r[f];for(u=0;u<s;u++)r[u+o]=arguments[u+2];return r.length=i-l+s,c}});var Po=ye("species"),Ro=function(t){var e=ht(t),n=P.f;h&&e&&!e[Po]&&n(e,Po,{configurable:!0,get:function(){return this}})};Ro("Array"),hi("flat"),hi("flatMap");var Yo=ye("iterator"),Uo=!1,Fo=function(){return this},Bo,Zo,Ho;[].keys&&("next"in(Ho=[].keys())?(Zo=or(or(Ho)))!==Object.prototype&&(Bo=Zo):Uo=!0),null==Bo&&(Bo={}),C(Bo,Yo)||R(Bo,Yo,Fo);var Go={IteratorPrototype:Bo,BUGGY_SAFARI_ITERATORS:Uo},Qo=Go.IteratorPrototype,qo=function(){return this},Vo=function(t,e,n){var r=e+" Iterator";return t.prototype=se(Qo,{next:c(1,n)}),ke(t,r,!1),Cn[r]=qo,t},Wo=Go.IteratorPrototype,$o=Go.BUGGY_SAFARI_ITERATORS,Xo=ye("iterator"),Jo="keys",Ko="values",ta="entries",ea=function(){return this},na=function(t,e,n,r,i,o,a){Vo(n,e,r);var s=function(e){if(e===i&&f)return f;if(!$o&&e in u)return u[e];switch(e){case Jo:return function t(){return new n(this,e)};case Ko:return function t(){return new n(this,e)};case ta:return function t(){return new n(this,e)}}return function(){return new n(this)}},l=e+" Iterator",c=!1,u=t.prototype,d=u[Xo]||u["@@iterator"]||i&&u[i],f=!$o&&d||s(i),h="Array"==e&&u.entries||d,p,g,_;if(h&&(p=or(h.call(new t)),Wo!==Object.prototype&&p.next&&(or(p)!==Wo&&(wr?wr(p,Wo):"function"!=typeof p[Xo]&&R(p,Xo,ea)),ke(p,l,!0))),i==Ko&&d&&d.name!==Ko&&(c=!0,f=function t(){return d.call(this)}),u[Xo]!==f&&R(u,Xo,f),Cn[e]=f,i)if(g={values:s(Ko),keys:o?f:s(Jo),entries:s(ta)},a)for(_ in g)!$o&&!c&&_ in u||ut(u,_,g[_]);else Bt({target:e,proto:!0,forced:$o||c},g);return g},ra="Array Iterator",ia=ct.set,oa=ct.getterFor(ra),aa=na(Array,"Array",function(t,e){ia(this,{type:ra,target:y(t),index:0,kind:e})},function(){var t=oa(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Cn.Arguments=Cn.Array,hi("keys"),hi("values"),hi("entries");var sa=String.fromCharCode,la=String.fromCodePoint,ca=!!la&&1!=la.length;Bt({target:"String",stat:!0,forced:ca},{fromCodePoint:function t(e){for(var n=[],r=arguments.length,i=0,o;i<r;){if(o=+arguments[i++],xt(o,1114111)!==o)throw RangeError(o+" is not a valid code point");n.push(o<65536?sa(o):sa(55296+((o-=65536)>>10),o%1024+56320))}return n.join("")}}),Bt({target:"String",stat:!0},{raw:function t(e){for(var n=y(e.raw),r=mt(n.length),i=arguments.length,o=[],a=0;a<r;)o.push(String(n[a++])),a<i&&o.push(String(arguments[a]));return o.join("")}});var ua=function(s){return function(t,e){var n=String(g(t)),r=_t(e),i=n.length,o,a;return r<0||i<=r?s?"":void 0:(o=n.charCodeAt(r))<55296||56319<o||r+1===i||(a=n.charCodeAt(r+1))<56320||57343<a?s?n.charAt(r):o:s?n.slice(r,r+2):a-56320+(o-55296<<10)+65536}},da={codeAt:ua(!1),charAt:ua(!0)},fa=da.codeAt;Bt({target:"String",proto:!0},{codePointAt:function t(e){return fa(this,e)}});var ha=ye("match"),pa=function(t){var e;return L(t)&&(void 0!==(e=t[ha])?!!e:"RegExp"==d(t))},ga=function(t){if(pa(t))throw TypeError("The method doesn't accept regular expressions");return t},_a=ye("match"),ya=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[_a]=!1,"/./"[e](n)}catch(t){}}return!1},ma=O.f,va="".endsWith,ba=Math.min,xa=ya("endsWith"),wa=!(xa||(!(Ma=ma(String.prototype,"endsWith"))||Ma.writable)),Ma;Bt({target:"String",proto:!0,forced:!wa&&!xa},{endsWith:function t(e,n){var r=String(g(this));ga(e);var i=1<arguments.length?n:void 0,o=mt(r.length),a=void 0===i?o:ba(mt(i),o),s=String(e);return va?va.call(r,s,a):r.slice(a-s.length,a)===s}}),Bt({target:"String",proto:!0,forced:!ya("includes")},{includes:function t(e,n){return!!~String(g(this)).indexOf(ga(e),1<arguments.length?n:void 0)}});var ka=function(){var t=I(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ja(t,e){return RegExp(t,e)}var Aa,Ia,Ta={UNSUPPORTED_Y:_(function(){var t=ja("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:_(function(){var t=ja("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},Na=RegExp.prototype.exec,za=String.prototype.replace,Sa=Na,Ea=(La=/a/,Da=/b*/g,Na.call(La,"a"),Na.call(Da,"a"),0!==La.lastIndex||0!==Da.lastIndex),La,Da,Ca=Ta.UNSUPPORTED_Y||Ta.BROKEN_CARET,Oa=void 0!==/()??/.exec("")[1],Pa;(Ea||Oa||Ca)&&(Sa=function t(e){var n=this,r,i,o,a,s=Ca&&n.sticky,l=ka.call(n),c=n.source,u=0,d=e;return s&&(-1===(l=l.replace("y","")).indexOf("g")&&(l+="g"),d=String(e).slice(n.lastIndex),0<n.lastIndex&&(!n.multiline||n.multiline&&"\n"!==e[n.lastIndex-1])&&(c="(?: "+c+")",d=" "+d,u++),i=new RegExp("^(?:"+c+")",l)),Oa&&(i=new RegExp("^"+c+"$(?!\\s)",l)),Ea&&(r=n.lastIndex),o=Na.call(s?i:n,d),s?o?(o.input=o.input.slice(u),o[0]=o[0].slice(u),o.index=n.lastIndex,n.lastIndex+=o[0].length):n.lastIndex=0:Ea&&o&&(n.lastIndex=n.global?o.index+o[0].length:r),Oa&&o&&1<o.length&&za.call(o[0],i,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)}),o});var Ra=Sa;Bt({target:"RegExp",proto:!0,forced:/./.exec!==Ra},{exec:Ra});var Ya=ye("species"),Ua=!_(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Fa="$0"==="a".replace(/./,"$0"),Ba=ye("replace"),Za=!!/./[Ba]&&""===/./[Ba]("a","$0"),Ha=!_(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Ga=function(n,t,e,r){var i=ye(n),o=!_(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),a=o&&!_(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[Ya]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t}),s,l,c,u;o&&a&&("replace"!==n||Ua&&Fa&&!Za)&&("split"!==n||Ha)||(s=/./[i],c=(l=e(i,""[n],function(t,e,n,r,i){return e.exec===Ra?o&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:Fa,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Za}))[0],u=l[1],ut(String.prototype,n,c),ut(RegExp.prototype,i,2==t?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})),r&&R(RegExp.prototype[i],"sham",!0)},Qa=da.charAt,qa=function(t,e,n){return e+(n?Qa(t,e).length:1)},Va=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==d(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ra.call(t,e)};Ga("match",1,function(i,c,u){return[function t(e){var n=g(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n):new RegExp(e)[i](String(n))},function(t){var e=u(c,t,this);if(e.done)return e.value;var n=I(t),r=String(this);if(!n.global)return Va(n,r);for(var i=n.unicode,o=[],a=n.lastIndex=0,s;null!==(s=Va(n,r));){var l=String(s[0]);""===(o[a]=l)&&(n.lastIndex=qa(r,mt(n.lastIndex),i)),a++}return 0===a?null:o}]});var Wa=ye("species"),$a=function(t,e){var n=I(t).constructor,r;return void 0===n||null==(r=I(n)[Wa])?e:je(r)},Xa=ye("matchAll"),Ja="RegExp String",Ka=Ja+" Iterator",ts=ct.set,es=ct.getterFor(Ka),ns=RegExp.prototype,rs=ns.exec,is="".matchAll,os=!!is&&!_(function(){"a".matchAll(/./)}),as=function(t,e){var n=t.exec,r;if("function"!=typeof n)return rs.call(t,e);if("object"!=typeof(r=n.call(t,e)))throw TypeError("Incorrect exec result");return r},ss=Vo(function t(e,n,r,i){ts(this,{type:Ka,regexp:e,string:n,global:r,unicode:i,done:!1})},Ja,function t(){var e=es(this);if(e.done)return{value:void 0,done:!0};var n=e.regexp,r=e.string,i=as(n,r);return null===i?{value:void 0,done:e.done=!0}:e.global?(""==String(i[0])&&(n.lastIndex=qa(r,mt(n.lastIndex),e.unicode)),{value:i,done:!1}):{value:i,done:!(e.done=!0)}}),ls=function(t){var e=I(this),n=String(t),r,i,o,a,s,l,r=$a(e,RegExp),i=e.flags;return void 0===i&&e instanceof RegExp&&!("flags"in ns)&&(i=ka.call(e)),o=void 0===i?"":String(i),a=new r(r===RegExp?e.source:e,o),s=!!~o.indexOf("g"),l=!!~o.indexOf("u"),a.lastIndex=mt(e.lastIndex),new ss(a,n,s,l)};Bt({target:"String",proto:!0,forced:os},{matchAll:function t(e){var n=g(this),r,i,o,a;if(null!=e){if(pa(e)&&!~(r=String(g("flags"in ns?e.flags:ka.call(e)))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(os)return is.apply(n,arguments);if(null!=(o=e[Xa]))return je(o).call(e,n)}else if(os)return is.apply(n,arguments);return i=String(n),(a=new RegExp(e,"g"))[Xa](i)}}),Xa in ns||R(ns,Xa,ls);var cs="".repeat||function t(e){var n=String(g(this)),r="",i=_t(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;0<i;(i>>>=1)&&(n+=n))1&i&&(r+=n);return r},us=Math.ceil,ds=function(c){return function(t,e,n){var r=String(g(t)),i=r.length,o=void 0===n?" ":String(n),a=mt(e),s,l;return a<=i||""==o?r:(s=a-i,(l=cs.call(o,us(s/o.length))).length>s&&(l=l.slice(0,s)),c?r+l:l+r)}},fs={start:ds(!1),end:ds(!0)},hs=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(qr),ps=fs.end;Bt({target:"String",proto:!0,forced:hs},{padEnd:function t(e,n){return ps(this,e,1<arguments.length?n:void 0)}});var gs=fs.start;Bt({target:"String",proto:!0,forced:hs},{padStart:function t(e,n){return gs(this,e,1<arguments.length?n:void 0)}}),Bt({target:"String",proto:!0},{repeat:cs});var _s=Math.max,ys=Math.min,ms=Math.floor,vs=/\$([$&'`]|\d\d?|<[^>]*>)/g,bs=/\$([$&'`]|\d\d?)/g,xs=function(t){return void 0===t?t:String(t)};Ga("replace",2,function(o,x,w,t){var M=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=t.REPLACE_KEEPS_$0,j=M?"$":"$0";return[function t(e,n){var r=g(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,r,n):x.call(String(r),e,n)},function(t,e){if(!M&&k||"string"==typeof e&&-1===e.indexOf(j)){var n=w(x,t,this,e);if(n.done)return n.value}var r=I(t),i=String(this),o="function"==typeof e;o||(e=String(e));var a=r.global,s;a&&(s=r.unicode,r.lastIndex=0);for(var l=[];;){var c=Va(r,i),u;if(null===c)break;if(l.push(c),!a)break;""===String(c[0])&&(r.lastIndex=qa(i,mt(r.lastIndex),s))}for(var d="",f=0,h=0;h<l.length;h++){c=l[h];for(var p=String(c[0]),g=_s(ys(_t(c.index),i.length),0),_=[],y=1;y<c.length;y++)_.push(xs(c[y]));var m=c.groups,v,b,b=o?(v=[p].concat(_,g,i),void 0!==m&&v.push(m),String(e.apply(void 0,v))):A(p,i,g,_,m,e);f<=g&&(d+=i.slice(f,g)+b,f=g+p.length)}return d+i.slice(f)}];function A(o,a,s,l,c,t){var u=s+o.length,d=l.length,e=bs;return void 0!==c&&(c=Qt(c),e=vs),x.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(u);case"<":n=c[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(d<r){var i=ms(r/10);return 0===i?t:i<=d?void 0===l[i-1]?e.charAt(1):l[i-1]+e.charAt(1):t}n=l[r-1]}return void 0===n?"":n})}}),Ga("search",1,function(i,a,s){return[function t(e){var n=g(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n):new RegExp(e)[i](String(n))},function(t){var e=s(a,t,this);if(e.done)return e.value;var n=I(t),r=String(this),i=n.lastIndex;sr(i,0)||(n.lastIndex=0);var o=Va(n,r);return sr(n.lastIndex,i)||(n.lastIndex=i),null===o?-1:o.index}]});var ws=[].push,Ms=Math.min,ks=4294967295,js=!_(function(){return!RegExp(ks,"y")});Ga("split",2,function(o,_,y){var m,m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(g(this)),r=void 0===e?ks:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!pa(t))return _.call(n,t,r);for(var i=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),a=0,s=new RegExp(t.source,o+"g"),l,c,u;(l=Ra.call(s,n))&&!(a<(c=s.lastIndex)&&(i.push(n.slice(a,l.index)),1<l.length&&l.index<n.length&&ws.apply(i,l.slice(1)),u=l[0].length,a=c,i.length>=r));)s.lastIndex===l.index&&s.lastIndex++;return a===n.length?!u&&s.test("")||i.push(""):i.push(n.slice(a)),i.length>r?i.slice(0,r):i}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:_.call(this,t,e)}:_;return[function t(e,n){var r=g(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,r,n):m.call(String(r),e,n)},function(t,e){var n=y(m,t,this,e,m!==_);if(n.done)return n.value;var r=I(t),i=String(this),o=$a(r,RegExp),a=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(js?"y":"g"),l=new o(js?r:"^(?:"+r.source+")",s),c=void 0===e?ks:e>>>0;if(0==c)return[];if(0===i.length)return null===Va(l,i)?[i]:[];for(var u=0,d=0,f=[];d<i.length;){l.lastIndex=js?d:0;var h=Va(l,js?i:i.slice(d)),p;if(null===h||(p=Ms(mt(l.lastIndex+(js?0:d)),i.length))===u)d=qa(i,d,a);else{if(f.push(i.slice(u,d)),f.length===c)return f;for(var g=1;g<=h.length-1;g++)if(f.push(h[g]),f.length===c)return f;d=u=p}}return f.push(i.slice(u)),f}]},!js);var As=O.f,Is="".startsWith,Ts=Math.min,Ns=ya("startsWith"),zs=!(Ns||(!(Ss=As(String.prototype,"startsWith"))||Ss.writable)),Ss;Bt({target:"String",proto:!0,forced:!zs&&!Ns},{startsWith:function t(e,n){var r=String(g(this));ga(e);var i=mt(Ts(1<arguments.length?n:void 0,r.length)),o=String(e);return Is?Is.call(r,o,i):r.slice(i,i+o.length)===o}});var Es="\t\n\v\f\r                　\u2028\u2029\ufeff",Ls="["+Es+"]",Ds=RegExp("^"+Ls+Ls+"*"),Cs=RegExp(Ls+Ls+"*$"),Os=function(n){return function(t){var e=String(g(t));return 1&n&&(e=e.replace(Ds,"")),2&n&&(e=e.replace(Cs,"")),e}},Ps={start:Os(1),end:Os(2),trim:Os(3)},Rs="​᠎",Ys=function(t){return _(function(){return Es[t]()||Rs[t]()!=Rs||Es[t].name!==t})},Us=Ps.trim;Bt({target:"String",proto:!0,forced:Ys("trim")},{trim:function t(){return Us(this)}});var Fs=Ps.start,Bs=Ys("trimStart"),Zs=Bs?function t(){return Fs(this)}:"".trimStart;Bt({target:"String",proto:!0,forced:Bs},{trimStart:Zs,trimLeft:Zs});var Hs=Ps.end,Gs=Ys("trimEnd"),Qs=Gs?function t(){return Hs(this)}:"".trimEnd;Bt({target:"String",proto:!0,forced:Gs},{trimEnd:Qs,trimRight:Qs});var qs=da.charAt,Vs="String Iterator",Ws=ct.set,$s=ct.getterFor(Vs);na(String,"String",function(t){Ws(this,{type:Vs,string:String(t),index:0})},function t(){var e=$s(this),n=e.string,r=e.index,i;return r>=n.length?{value:void 0,done:!0}:(i=qs(n,r),e.index+=i.length,{value:i,done:!1})});var Xs=/"/g,Js=function(t,e,n,r){var i=String(g(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(Xs,"&quot;")+'"'),o+">"+i+"</"+e+">"},Ks=function(e){return _(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})};Bt({target:"String",proto:!0,forced:Ks("anchor")},{anchor:function t(e){return Js(this,"a","name",e)}}),Bt({target:"String",proto:!0,forced:Ks("big")},{big:function t(){return Js(this,"big","","")}}),Bt({target:"String",proto:!0,forced:Ks("blink")},{blink:function t(){return Js(this,"blink","","")}}),Bt({target:"String",proto:!0,forced:Ks("bold")},{bold:function t(){return Js(this,"b","","")}}),Bt({target:"String",proto:!0,forced:Ks("fixed")},{fixed:function t(){return Js(this,"tt","","")}}),Bt({target:"String",proto:!0,forced:Ks("fontcolor")},{fontcolor:function t(e){return Js(this,"font","color",e)}}),Bt({target:"String",proto:!0,forced:Ks("fontsize")},{fontsize:function t(e){return Js(this,"font","size",e)}}),Bt({target:"String",proto:!0,forced:Ks("italics")},{italics:function t(){return Js(this,"i","","")}}),Bt({target:"String",proto:!0,forced:Ks("link")},{link:function t(e){return Js(this,"a","href",e)}}),Bt({target:"String",proto:!0,forced:Ks("small")},{small:function t(){return Js(this,"small","","")}}),Bt({target:"String",proto:!0,forced:Ks("strike")},{strike:function t(){return Js(this,"strike","","")}}),Bt({target:"String",proto:!0,forced:Ks("sub")},{sub:function t(){return Js(this,"sub","","")}}),Bt({target:"String",proto:!0,forced:Ks("sup")},{sup:function t(){return Js(this,"sup","","")}});var tl=function(t,e,n){var r,i;return wr&&"function"==typeof(r=e.constructor)&&r!==n&&L(i=r.prototype)&&i!==n.prototype&&wr(t,i),t},el=P.f,nl=Nt.f,rl=ct.set,il=ye("match"),ol=E.RegExp,al=ol.prototype,sl=/a/g,ll=/a/g,cl=new ol(sl)!==sl,ul=Ta.UNSUPPORTED_Y,dl,fl;if(h&&Ut("RegExp",!cl||ul||_(function(){return ll[il]=!1,ol(sl)!=sl||ol(ll)==ll||"/a/i"!=ol(sl,"i")}))){for(var hl=function t(e,n){var r=this instanceof hl,i=pa(e),o=void 0===n,a;if(!r&&i&&e.constructor===hl&&o)return e;cl?i&&!o&&(e=e.source):e instanceof hl&&(o&&(n=ka.call(e)),e=e.source),ul&&(a=!!n&&-1<n.indexOf("y"))&&(n=n.replace(/y/g,""));var s=tl(cl?new ol(e,n):ol(e,n),r?this:al,hl);return ul&&a&&rl(s,{sticky:a}),s},pl=function(e){e in hl||el(hl,e,{configurable:!0,get:function(){return ol[e]},set:function(t){ol[e]=t}})},gl=nl(ol),_l=0;gl.length>_l;)pl(gl[_l++]);(al.constructor=hl).prototype=al,ut(E,"RegExp",hl)}Ro("RegExp"),h&&("g"!=/./g.flags||Ta.UNSUPPORTED_Y)&&P.f(RegExp.prototype,"flags",{configurable:!0,get:ka});var yl=Ta.UNSUPPORTED_Y,ml=P.f,vl=ct.get,bl=RegExp.prototype;h&&yl&&ml(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==bl){if(this instanceof RegExp)return!!vl(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var xl=(wl=!1,(Ml=/[ac]/).exec=function(){return wl=!0,/./.exec.apply(this,arguments)},!0===Ml.test("abc")&&wl),wl,Ml,kl=/./.test;Bt({target:"RegExp",proto:!0,forced:!xl},{test:function(t){if("function"!=typeof this.exec)return kl.call(this,t);var e=this.exec(t);if(null!==e&&!L(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}});var jl="toString",Al=RegExp.prototype,Il=Al[jl],Tl=_(function(){return"/a/b"!=Il.call({source:"a",flags:"b"})}),Nl=Il.name!=jl;(Tl||Nl)&&ut(RegExp.prototype,jl,function t(){var e=I(this),n=String(e.source),r=e.flags,i;return"/"+n+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in Al)?ka.call(e):r)},{unsafe:!0});var zl=Ps.trim,Sl=E.parseInt,El=/^[+-]?0[Xx]/,Ll,Dl=8!==Sl(Es+"08")||22!==Sl(Es+"0x16")?function t(e,n){var r=zl(String(e));return Sl(r,n>>>0||(El.test(r)?16:10))}:Sl;Bt({global:!0,forced:parseInt!=Dl},{parseInt:Dl});var Cl=Ps.trim,Ol=E.parseFloat,Pl,Rl=1/Ol(Es+"-0")!=-1/0?function t(e){var n=Cl(String(e)),r=Ol(n);return 0===r&&"-"==n.charAt(0)?-0:r}:Ol;Bt({global:!0,forced:parseFloat!=Rl},{parseFloat:Rl});var Yl=Nt.f,Ul=O.f,Fl=P.f,Bl=Ps.trim,Zl="Number",Hl=E[Zl],Gl=Hl.prototype,Ql=d(se(Gl))==Zl,ql=function(t){var e=D(t,!1),n,r,i,o,a,s,l,c;if("string"==typeof e&&2<e.length)if(43===(n=(e=Bl(e)).charCodeAt(0))||45===n){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(s=(a=e.slice(2)).length,l=0;l<s;l++)if((c=a.charCodeAt(l))<48||o<c)return NaN;return parseInt(a,i)}return+e};if(Ut(Zl,!Hl(" 0o1")||!Hl("0b1")||Hl("+0x1"))){for(var Vl=function t(e){var n=arguments.length<1?0:e,r=this;return r instanceof Vl&&(Ql?_(function(){Gl.valueOf.call(r)}):d(r)!=Zl)?tl(new Hl(ql(n)),r,Vl):ql(n)},Wl=h?Yl(Hl):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$l=0,Xl;Wl.length>$l;$l++)C(Hl,Xl=Wl[$l])&&!C(Vl,Xl)&&Fl(Vl,Xl,Ul(Hl,Xl));(Vl.prototype=Gl).constructor=Vl,ut(E,Zl,Vl)}Bt({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Jl=E.isFinite,Kl=Number.isFinite||function t(e){return"number"==typeof e&&Jl(e)};Bt({target:"Number",stat:!0},{isFinite:Kl});var tc=Math.floor,ec=function t(e){return!L(e)&&isFinite(e)&&tc(e)===e};Bt({target:"Number",stat:!0},{isInteger:ec}),Bt({target:"Number",stat:!0},{isNaN:function t(e){return e!=e}});var nc=Math.abs;Bt({target:"Number",stat:!0},{isSafeInteger:function t(e){return ec(e)&&nc(e)<=9007199254740991}}),Bt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Bt({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),Bt({target:"Number",stat:!0,forced:Number.parseFloat!=Rl},{parseFloat:Rl}),Bt({target:"Number",stat:!0,forced:Number.parseInt!=Dl},{parseInt:Dl});var rc=function(t){if("number"!=typeof t&&"Number"!=d(t))throw TypeError("Incorrect invocation");return+t},ic=1..toFixed,oc=Math.floor,ac=function(t,e,n){return 0===e?n:e%2==1?ac(t,e-1,n*t):ac(t*t,e/2,n)},sc=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e},lc=ic&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!_(function(){ic.call({})});Bt({target:"Number",proto:!0,forced:lc},{toFixed:function t(e){var n=rc(this),r=_t(e),i=[0,0,0,0,0,0],o="",a="0",s,l,c,u,d=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*i[n],i[n]=r%1e7,r=oc(r/1e7)},f=function(t){for(var e=6,n=0;0<=--e;)n+=i[e],i[e]=oc(n/t),n=n%t*1e7},h=function(){for(var t=6,e="",n,e;0<=--t;){""===e&&0!==t&&0===i[t]||(n=String(i[t]),e=""===e?n:e+cs.call("0",7-n.length)+n)}return e};if(r<0||20<r)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||1e21<=n)return String(n);if(n<0&&(o="-",n=-n),1e-21<n)if(l=(s=sc(n*ac(2,69,1))-69)<0?n*ac(2,-s,1):n/ac(2,s,1),l*=4503599627370496,0<(s=52-s)){for(d(0,l),c=r;7<=c;)d(1e7,0),c-=7;for(d(ac(10,c,1),0),c=s-1;23<=c;)f(1<<23),c-=23;f(1<<c),d(1,1),f(2),a=h()}else d(0,l),d(1<<-s,0),a=h()+cs.call("0",r);return a=0<r?o+((u=a.length)<=r?"0."+cs.call("0",r-u)+a:a.slice(0,u-r)+"."+a.slice(u-r)):o+a}});var cc=1..toPrecision,uc=_(function(){return"1"!==cc.call(1,void 0)})||!_(function(){cc.call({})});Bt({target:"Number",proto:!0,forced:uc},{toPrecision:function t(e){return void 0===e?cc.call(rc(this)):cc.call(rc(this),e)}});var dc=Math.log,fc=Math.log1p||function t(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:dc(1+e)},hc=Math.acosh,pc=Math.log,gc=Math.sqrt,_c=Math.LN2,yc=!hc||710!=Math.floor(hc(Number.MAX_VALUE))||hc(1/0)!=1/0;Bt({target:"Math",stat:!0,forced:yc},{acosh:function t(e){return(e=+e)<1?NaN:94906265.62425156<e?pc(e)+_c:fc(e-1+gc(e-1)*gc(e+1))}});var mc=Math.asinh,vc=Math.log,bc=Math.sqrt;function xc(t){return isFinite(t=+t)&&0!=t?t<0?-xc(-t):vc(t+bc(t*t+1)):t}Bt({target:"Math",stat:!0,forced:!(mc&&0<1/mc(0))},{asinh:xc});var wc=Math.atanh,Mc=Math.log;Bt({target:"Math",stat:!0,forced:!(wc&&1/wc(-0)<0)},{atanh:function t(e){return 0==(e=+e)?e:Mc((1+e)/(1-e))/2}});var kc=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1},jc=Math.abs,Ac=Math.pow;Bt({target:"Math",stat:!0},{cbrt:function t(e){return kc(e=+e)*Ac(jc(e),1/3)}});var Ic=Math.floor,Tc=Math.log,Nc=Math.LOG2E;Bt({target:"Math",stat:!0},{clz32:function t(e){return(e>>>=0)?31-Ic(Tc(e+.5)*Nc):32}});var zc=Math.expm1,Sc=Math.exp,Ec=!zc||22025.465794806718<zc(10)||zc(10)<22025.465794806718||-2e-17!=zc(-2e-17)?function t(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Sc(e)-1}:zc,Lc=Math.cosh,Dc=Math.abs,Cc=Math.E;Bt({target:"Math",stat:!0,forced:!Lc||Lc(710)===1/0},{cosh:function t(e){var n=Ec(Dc(e)-1)+1;return(n+1/(n*Cc*Cc))*(Cc/2)}}),Bt({target:"Math",stat:!0,forced:Ec!=Math.expm1},{expm1:Ec});var Oc=Math.abs,Pc=Math.pow,Rc=Pc(2,-52),Yc=Pc(2,-23),Uc=Pc(2,127)*(2-Yc),Fc=Pc(2,-126),Bc=function(t){return t+1/Rc-1/Rc},Zc=Math.fround||function t(e){var n=Oc(e),r=kc(e),i,o;return n<Fc?r*Bc(n/Fc/Yc)*Fc*Yc:Uc<(o=(i=(1+Yc/Rc)*n)-(i-n))||o!=o?r*(1/0):r*o};Bt({target:"Math",stat:!0},{fround:Zc});var Hc=Math.hypot,Gc=Math.abs,Qc=Math.sqrt,qc=!!Hc&&Hc(1/0,NaN)!==1/0;Bt({target:"Math",stat:!0,forced:qc},{hypot:function t(e,n){for(var r=0,i=0,o=arguments.length,a=0,s,l;i<o;)a<(s=Gc(arguments[i++]))?(r=r*(l=a/s)*l+1,a=s):r+=0<s?(l=s/a)*l:s;return a===1/0?1/0:a*Qc(r)}});var Vc=Math.imul,Wc=_(function(){return-5!=Vc(4294967295,5)||2!=Vc.length});Bt({target:"Math",stat:!0,forced:Wc},{imul:function t(e,n){var r=65535,i=+e,o=+n,a=r&i,s=r&o;return 0|a*s+((r&i>>>16)*s+a*(r&o>>>16)<<16>>>0)}});var $c=Math.log,Xc=Math.LOG10E;Bt({target:"Math",stat:!0},{log10:function t(e){return $c(e)*Xc}}),Bt({target:"Math",stat:!0},{log1p:fc});var Jc=Math.log,Kc=Math.LN2;Bt({target:"Math",stat:!0},{log2:function t(e){return Jc(e)/Kc}}),Bt({target:"Math",stat:!0},{sign:kc});var tu=Math.abs,eu=Math.exp,nu=Math.E,ru=_(function(){return-2e-17!=Math.sinh(-2e-17)});Bt({target:"Math",stat:!0,forced:ru},{sinh:function t(e){return tu(e=+e)<1?(Ec(e)-Ec(-e))/2:(eu(e-1)-eu(-e-1))*(nu/2)}});var iu=Math.exp;Bt({target:"Math",stat:!0},{tanh:function t(e){var n=Ec(e=+e),r=Ec(-e);return n==1/0?1:r==1/0?-1:(n-r)/(iu(e)+iu(-e))}}),ke(Math,"Math",!0);var ou=Math.ceil,au=Math.floor;Bt({target:"Math",stat:!0},{trunc:function t(e){return(0<e?au:ou)(e)}}),Bt({target:"Date",stat:!0},{now:function t(){return(new Date).getTime()}});var su=_(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})});Bt({target:"Date",proto:!0,forced:su},{toJSON:function t(e){var n=Qt(this),r=D(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}});var lu=fs.start,cu=Math.abs,uu=Date.prototype,du=uu.getTime,fu=uu.toISOString,hu=_(function(){return"0385-07-25T07:06:39.999Z"!=fu.call(new Date(-5e13-1))})||!_(function(){fu.call(new Date(NaN))})?function t(){if(!isFinite(du.call(this)))throw RangeError("Invalid time value");var e=this,n=e.getUTCFullYear(),r=e.getUTCMilliseconds(),i=n<0?"-":9999<n?"+":"";return i+lu(cu(n),i?6:4,0)+"-"+lu(e.getUTCMonth()+1,2,0)+"-"+lu(e.getUTCDate(),2,0)+"T"+lu(e.getUTCHours(),2,0)+":"+lu(e.getUTCMinutes(),2,0)+":"+lu(e.getUTCSeconds(),2,0)+"."+lu(r,3,0)+"Z"}:fu;Bt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==hu},{toISOString:hu});var pu=Date.prototype,gu="Invalid Date",_u="toString",yu=pu[_u],mu=pu.getTime;new Date(NaN)+""!=gu&&ut(pu,_u,function t(){var e=mu.call(this);return e==e?yu.call(this):gu});var vu=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return D(I(this),"number"!==t)},bu=ye("toPrimitive"),xu=Date.prototype;bu in xu||R(xu,bu,vu);var wu=ht("JSON","stringify"),Mu=/[\uD800-\uDFFF]/g,ku=/^[\uD800-\uDBFF]$/,ju=/^[\uDC00-\uDFFF]$/,Au=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return ku.test(t)&&!ju.test(i)||ju.test(t)&&!ku.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},Iu=_(function(){return'"\\udf06\\ud834"'!==wu("\udf06\ud834")||'"\\udead"'!==wu("\udead")});wu&&Bt({target:"JSON",stat:!0,forced:Iu},{stringify:function t(e,n,r){var i=wu.apply(null,arguments);return"string"==typeof i?i.replace(Mu,Au):i}}),ke(E.JSON,"JSON",!0);var Tu=E.Promise,Nu=function(t,e,n){for(var r in e)ut(t,r,e[r],n);return t},zu=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Su=/(iphone|ipod|ipad).*applewebkit/i.test(qr),Eu=E.location,Lu=E.setImmediate,Du=E.clearImmediate,Cu=E.process,Ou=E.MessageChannel,Pu=E.Dispatch,Ru=0,Yu={},Uu="onreadystatechange",Fu,Bu,Zu,Hu=function(t){var e;Yu.hasOwnProperty(t)&&(e=Yu[t],delete Yu[t],e())},Gu=function(t){return function(){Hu(t)}},Qu=function(t){Hu(t.data)},qu=function(t){E.postMessage(t+"",Eu.protocol+"//"+Eu.host)};Lu&&Du||(Lu=function t(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);return Yu[++Ru]=function(){("function"==typeof e?e:Function(e)).apply(void 0,n)},Fu(Ru),Ru},Du=function t(e){delete Yu[e]},"process"==d(Cu)?Fu=function(t){Cu.nextTick(Gu(t))}:Pu&&Pu.now?Fu=function(t){Pu.now(Gu(t))}:Ou&&!Su?(Zu=(Bu=new Ou).port2,Bu.port1.onmessage=Qu,Fu=Ae(Zu.postMessage,Zu,1)):!E.addEventListener||"function"!=typeof postMessage||E.importScripts||_(qu)||"file:"===Eu.protocol?Fu=Uu in w("script")?function(t){Wt.appendChild(w("script"))[Uu]=function(){Wt.removeChild(this),Hu(t)}}:function(t){setTimeout(Gu(t),0)}:(Fu=qu,E.addEventListener("message",Qu,!1)));var Vu={set:Lu,clear:Du},Wu=O.f,$u=Vu.set,Xu=E.MutationObserver||E.WebKitMutationObserver,Ju=E.process,Ku=E.Promise,td="process"==d(Ju),ed=Wu(E,"queueMicrotask"),nd=ed&&ed.value,rd,id,od,ad,sd,ld,cd,ud;nd||(rd=function(){var t,e;for(td&&(t=Ju.domain)&&t.exit();id;){e=id.fn,id=id.next;try{e()}catch(t){throw id?ad():od=void 0,t}}od=void 0,t&&t.enter()},ad=td?function(){Ju.nextTick(rd)}:Xu&&!Su?(sd=!0,ld=document.createTextNode(""),new Xu(rd).observe(ld,{characterData:!0}),function(){ld.data=sd=!sd}):Ku&&Ku.resolve?(cd=Ku.resolve(void 0),ud=cd.then,function(){ud.call(cd,rd)}):function(){$u.call(E,rd)});var dd=nd||function(t){var e={fn:t,next:void 0};od&&(od.next=e),id||(id=e,ad()),od=e},fd=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=je(n),this.reject=je(r)},hd,pd={f:function(t){return new fd(t)}},gd=function(t,e){if(I(t),L(e)&&e.constructor===t)return e;var n=pd.f(t),r;return(0,n.resolve)(e),n.promise},_d=function(t,e){var n=E.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))},yd=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},md=Vu.set,vd=ye("species"),bd="Promise",xd=ct.get,wd=ct.set,Md=ct.getterFor(bd),kd=Tu,jd=E.TypeError,Ad=E.document,Id=E.process,Td=ht("fetch"),Nd=pd.f,zd=Nd,Sd="process"==d(Id),Ed=!!(Ad&&Ad.createEvent&&E.dispatchEvent),Ld="unhandledrejection",Dd="rejectionhandled",Cd=0,Od=1,Pd=2,Rd=1,Yd=2,Ud,Fd,Bd,Zd,Hd=Ut(bd,function(){var t;if(!(F(kd)!==String(kd))){if(66===Kr)return!0;if(!Sd&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=Kr&&/native code/.test(kd))return!1;var e=kd.resolve(1),n=function(t){t(function(){},function(){})},r;return(e.constructor={})[vd]=n,!(e.then(function(){})instanceof n)}),Gd=Hd||!Hr(function(t){kd.all(t).catch(function(){})}),Qd=function(t){var e;return!(!L(t)||"function"!=typeof(e=t.then))&&e},qd=function(d,f,h){var p;f.notified||(f.notified=!0,p=f.reactions,dd(function(){for(var t=f.value,e=1==f.state,n=0;p.length>n;){var r=p[n++],i=e?r.ok:r.fail,o=r.resolve,a=r.reject,s=r.domain,l,c,u;try{i?(e||(2===f.rejection&&Xd(d,f),f.rejection=1),!0===i?l=t:(s&&s.enter(),l=i(t),s&&(s.exit(),u=!0)),l===r.promise?a(jd("Promise-chain cycle")):(c=Qd(l))?c.call(l,o,a):o(l)):a(t)}catch(t){s&&!u&&s.exit(),a(t)}}f.reactions=[],f.notified=!1,h&&!f.rejection&&Wd(d,f)}))},Vd=function(t,e,n){var r,i;Ed?((r=Ad.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),E.dispatchEvent(r)):r={promise:e,reason:n},(i=E["on"+t])?i(r):t===Ld&&_d("Unhandled promise rejection",n)},Wd=function(r,i){md.call(E,function(){var t=i.value,e,n;if($d(i)&&(n=yd(function(){Sd?Id.emit("unhandledRejection",t,r):Vd(Ld,r,t)}),i.rejection=Sd||$d(i)?2:1,n.error))throw n.value})},$d=function(t){return 1!==t.rejection&&!t.parent},Xd=function(t,e){md.call(E,function(){Sd?Id.emit("rejectionHandled",t):Vd(Dd,t,e.value)})},Jd=function(e,n,r,i){return function(t){e(n,r,t,i)}},Kd=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,qd(t,e,!0))},tf=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw jd("Promise can't be resolved itself");var i=Qd(t);i?dd(function(){var e={done:!1};try{i.call(t,Jd(tf,n,e,r),Jd(Kd,n,e,r))}catch(t){Kd(n,e,t,r)}}):(r.value=t,r.state=1,qd(n,r,!1))}catch(t){Kd(n,{done:!1},t,r)}}};Hd&&(kd=function t(e){zu(this,kd,bd),je(e),Ud.call(this);var n=xd(this);try{e(Jd(tf,this,n),Jd(Kd,this,n))}catch(t){Kd(this,n,t)}},(Ud=function t(e){wd(this,{type:bd,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Nu(kd.prototype,{then:function t(e,n){var r=Md(this),i=Nd($a(this,kd));return i.ok="function"!=typeof e||e,i.fail="function"==typeof n&&n,i.domain=Sd?Id.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&qd(this,r,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Fd=function(){var t=new Ud,e=xd(t);this.promise=t,this.resolve=Jd(tf,t,e),this.reject=Jd(Kd,t,e)},pd.f=Nd=function(t){return t===kd||t===Bd?new Fd(t):zd(t)},"function"==typeof Tu&&(Zd=Tu.prototype.then,ut(Tu.prototype,"then",function t(e,n){var r=this;return new kd(function(t,e){Zd.call(r,t,e)}).then(e,n)},{unsafe:!0}),"function"==typeof Td&&Bt({global:!0,enumerable:!0,forced:!0},{fetch:function t(e){return gd(kd,Td.apply(E,arguments))}}))),Bt({global:!0,wrap:!0,forced:Hd},{Promise:kd}),ke(kd,bd,!1),Ro(bd),Bd=ht(bd),Bt({target:bd,stat:!0,forced:Hd},{reject:function t(e){var n=Nd(this);return n.reject.call(void 0,e),n.promise}}),Bt({target:bd,stat:!0,forced:Hd},{resolve:function t(e){return gd(this,e)}}),Bt({target:bd,stat:!0,forced:Gd},{all:function t(e){var s=this,n=Nd(s),l=n.resolve,c=n.reject,r=yd(function(){var r=je(s.resolve),i=[],o=0,a=1;Wn(e,function(t){var e=o++,n=!1;i.push(void 0),a++,r.call(s,t).then(function(t){n||(n=!0,i[e]=t,--a||l(i))},c)}),--a||l(i)});return r.error&&c(r.value),n.promise},race:function t(n){var r=this,i=Nd(r),o=i.reject,e=yd(function(){var e=je(r.resolve);Wn(n,function(t){e.call(r,t).then(i.resolve,o)})});return e.error&&o(e.value),i.promise}}),Bt({target:"Promise",stat:!0},{allSettled:function t(e){var s=this,n=pd.f(s),l=n.resolve,r=n.reject,i=yd(function(){var r=je(s.resolve),i=[],o=0,a=1;Wn(e,function(t){var e=o++,n=!1;i.push(void 0),a++,r.call(s,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--a||l(i))},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--a||l(i))})}),--a||l(i)});return i.error&&r(i.value),n.promise}});var ef=!!Tu&&_(function(){Tu.prototype.finally.call({then:function(){}},function(){})});Bt({target:"Promise",proto:!0,real:!0,forced:ef},{finally:function(e){var n=$a(this,ht("Promise")),t="function"==typeof e;return this.then(t?function(t){return gd(n,e()).then(function(){return t})}:e,t?function(t){return gd(n,e()).then(function(){throw t})}:e)}}),"function"!=typeof Tu||Tu.prototype.finally||ut(Tu.prototype,"finally",ht("Promise").prototype.finally);var nf=function(r,t,e){var i=-1!==r.indexOf("Map"),n=-1!==r.indexOf("Weak"),o=i?"set":"add",a=E[r],s=a&&a.prototype,l=a,c={},u=function(t){var r=s[t];ut(s,t,"add"==t?function t(e){return r.call(this,0===e?0:e),this}:"delete"==t?function(t){return!(n&&!L(t))&&r.call(this,0===t?0:t)}:"get"==t?function t(e){return n&&!L(e)?void 0:r.call(this,0===e?0:e)}:"has"==t?function t(e){return!(n&&!L(e))&&r.call(this,0===e?0:e)}:function t(e,n){return r.call(this,0===e?0:e,n),this})},d,f,h,p,g;return Ut(r,"function"!=typeof a||!(n||s.forEach&&!_(function(){(new a).entries().next()})))?(l=e.getConstructor(t,r,i,o),In.REQUIRED=!0):Ut(r,!0)&&(f=(d=new l)[o](n?{}:-0,1)!=d,h=_(function(){d.has(1)}),p=Hr(function(t){new a(t)}),g=!n&&_(function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}),p||(((l=t(function(t,e){zu(t,l,r);var n=tl(new a,t,l);return null!=e&&Wn(e,n[o],n,i),n})).prototype=s).constructor=l),(h||g)&&(u("delete"),u("has"),i&&u("get")),(g||f)&&u(o),n&&s.clear&&delete s.clear),c[r]=l,Bt({global:!0,forced:l!=a},c),ke(l,r),n||e.setStrong(l,r,i),l},rf=P.f,of=In.fastKey,af=ct.set,sf=ct.getterFor,lf={getConstructor:function(t,n,r,i){var o=t(function(t,e){zu(t,o,n),af(t,{type:n,index:se(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=e&&Wn(e,t[i],t,r)}),s=sf(n),a=function(t,e,n){var r=s(t),i=l(t,e),o,a;return i?i.value=n:(r.last=i={index:a=of(e,!0),key:e,value:n,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=i),o&&(o.next=i),h?r.size++:t.size++,"F"!==a&&(r.index[a]=i)),t},l=function(t,e){var n=s(t),r=of(e),i;if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return Nu(o.prototype,{clear:function t(){for(var e=this,n=s(e),r=n.index,i=n.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete r[i.index],i=i.next;n.first=n.last=void 0,h?n.size=0:e.size=0},delete:function(t){var e=this,n=s(e),r=l(e,t),i,o;return r&&(i=r.next,o=r.previous,delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),h?n.size--:e.size--),!!r},forEach:function t(e,n){for(var r=s(this),i=Ae(e,1<arguments.length?n:void 0,3),o;o=o?o.next:r.first;)for(i(o.value,o.key,this);o&&o.removed;)o=o.previous},has:function t(e){return!!l(this,e)}}),Nu(o.prototype,r?{get:function t(e){var n=l(this,e);return n&&n.value},set:function t(e,n){return a(this,0===e?0:e,n)}}:{add:function t(e){return a(this,e=0===e?0:e,e)}}),h&&rf(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=sf(e),o=sf(r);na(t,e,function(t,e){af(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Ro(e)}},cf=nf("Map",function(n){return function t(e){return n(this,arguments.length?e:void 0)}},lf),uf=nf("Set",function(n){return function t(e){return n(this,arguments.length?e:void 0)}},lf),df=In.getWeakData,ff=ct.set,hf=ct.getterFor,pf=Se.find,gf=Se.findIndex,_f=0,yf=function(t){return t.frozen||(t.frozen=new mf)},mf=function(){this.entries=[]},vf=function(t,e){return pf(t.entries,function(t){return t[0]===e})};mf.prototype={get:function(t){var e=vf(this,t);if(e)return e[1]},has:function(t){return!!vf(this,t)},set:function(t,e){var n=vf(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(e){var t=gf(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var bf={getConstructor:function(t,n,r,i){var o=t(function(t,e){zu(t,o,n),ff(t,{type:n,id:_f++,frozen:void 0}),null!=e&&Wn(e,t[i],t,r)}),a=hf(n),s=function(t,e,n){var r=a(t),i=df(I(e),!0);return!0===i?yf(r).set(e,n):i[r.id]=n,t};return Nu(o.prototype,{delete:function(t){var e=a(this);if(!L(t))return!1;var n=df(t);return!0===n?yf(e).delete(t):n&&C(n,e.id)&&delete n[e.id]},has:function t(e){var n=a(this);if(!L(e))return!1;var r=df(e);return!0===r?yf(n).has(e):r&&C(r,n.id)}}),Nu(o.prototype,r?{get:function t(e){var n=a(this);if(L(e)){var r=df(e);return!0===r?yf(n).get(e):r?r[n.id]:void 0}},set:function t(e,n){return s(this,e,n)}}:{add:function t(e){return s(this,e,!0)}}),o}},xf=n(function(t){var i=ct.enforce,e=!E.ActiveXObject&&"ActiveXObject"in E,o=Object.isExtensible,a,n=function(n){return function t(e){return n(this,arguments.length?e:void 0)}},r=t.exports=nf("WeakMap",n,bf),s,l,c,u,d;Z&&e&&(a=bf.getConstructor(n,"WeakMap",!0),In.REQUIRED=!0,s=r.prototype,l=s.delete,c=s.has,u=s.get,d=s.set,Nu(s,{delete:function(t){if(!L(t)||o(t))return l.call(this,t);var e=i(this);return e.frozen||(e.frozen=new a),l.call(this,t)||e.frozen.delete(t)},has:function t(e){if(!L(e)||o(e))return c.call(this,e);var n=i(this);return n.frozen||(n.frozen=new a),c.call(this,e)||n.frozen.has(e)},get:function t(e){if(!L(e)||o(e))return u.call(this,e);var n=i(this);return n.frozen||(n.frozen=new a),c.call(this,e)?u.call(this,e):n.frozen.get(e)},set:function t(e,n){var r;return L(e)&&!o(e)?((r=i(this)).frozen||(r.frozen=new a),c.call(this,e)?d.call(this,e,n):r.frozen.set(e,n)):d.call(this,e,n),this}}))});nf("WeakSet",function(n){return function t(e){return n(this,arguments.length?e:void 0)}},bf);var wf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Mf=function(t){if(void 0===t)return 0;var e=_t(t),n=mt(e);if(e!==n)throw RangeError("Wrong length or index");return n},kf=1/0,jf=Math.abs,Af=Math.pow,If=Math.floor,Tf=Math.log,Nf=Math.LN2,zf=function(t,e,n){var r=new Array(n),i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=23===e?Af(2,-24)-Af(2,-77):0,l=t<0||0===t&&1/t<0?1:0,c=0,u,d,f;for((t=jf(t))!=t||t===kf?(d=t!=t?1:0,u=o):(u=If(Tf(t)/Nf),t*(f=Af(2,-u))<1&&(u--,f*=2),2<=(t+=1<=u+a?s/f:s*Af(2,1-a))*f&&(u++,f/=2),o<=u+a?(d=0,u=o):1<=u+a?(d=(t*f-1)*Af(2,e),u+=a):(d=t*Af(2,a-1)*Af(2,e),u=0));8<=e;r[c++]=255&d,d/=256,e-=8);for(u=u<<e|d,i+=e;0<i;r[c++]=255&u,u/=256,i-=8);return r[--c]|=128*l,r},Sf=function(t,e){var n=t.length,r=8*n-e-1,i=(1<<r)-1,o=i>>1,a=r-7,s=n-1,l=t[s--],c=127&l,u;for(l>>=7;0<a;c=256*c+t[s],s--,a-=8);for(u=c&(1<<-a)-1,c>>=-a,a+=e;0<a;u=256*u+t[s],s--,a-=8);if(0===c)c=1-o;else{if(c===i)return u?NaN:l?-kf:kf;u+=Af(2,e),c-=o}return(l?-1:1)*u*Af(2,c-e)},Ef,Lf,Df=Nt.f,Cf=P.f,Of=ct.get,Pf=ct.set,Rf="ArrayBuffer",Yf="DataView",Uf="prototype",Ff="Wrong length",Bf="Wrong index",Zf=E[Rf],Hf=Zf,Gf=E[Yf],Qf=Gf&&Gf[Uf],qf=Object.prototype,Vf=E.RangeError,Wf=zf,$f=Sf,Xf=function(t){return[255&t]},Jf=function(t){return[255&t,t>>8&255]},Kf=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},th=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},eh=function(t){return Wf(t,23,4)},nh=function(t){return Wf(t,52,8)},rh=function(t,e){Cf(t[Uf],e,{get:function(){return Of(this)[e]}})},ih=function(t,e,n,r){var i=Mf(n),o=Of(t);if(i+e>o.byteLength)throw Vf(Bf);var a=Of(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+e);return r?l:l.reverse()},oh=function(t,e,n,r,i,o){var a=Mf(n),s=Of(t);if(a+e>s.byteLength)throw Vf(Bf);for(var l=Of(s.buffer).bytes,c=a+s.byteOffset,u=r(+i),d=0;d<e;d++)l[c+d]=u[o?d:e-d-1]};if(wf){if(!_(function(){Zf(1)})||!_(function(){new Zf(-1)})||_(function(){return new Zf,new Zf(1.5),new Zf(NaN),Zf.name!=Rf})){for(var ah=(Hf=function t(e){return zu(this,Hf),new Zf(Mf(e))})[Uf]=Zf[Uf],sh=Df(Zf),lh=0,ch;sh.length>lh;)(ch=sh[lh++])in Hf||R(Hf,ch,Zf[ch]);ah.constructor=Hf}wr&&or(Qf)!==qf&&wr(Qf,qf);var uh=new Gf(new Hf(2)),dh=Qf.setInt8;uh.setInt8(0,2147483648),uh.setInt8(1,2147483649),!uh.getInt8(0)&&uh.getInt8(1)||Nu(Qf,{setInt8:function t(e,n){dh.call(this,e,n<<24>>24)},setUint8:function t(e,n){dh.call(this,e,n<<24>>24)}},{unsafe:!0})}else Hf=function t(e){zu(this,Hf,Rf);var n=Mf(e);Pf(this,{bytes:wi.call(new Array(n),0),byteLength:n}),h||(this.byteLength=n)},Gf=function t(e,n,r){zu(this,Gf,Yf),zu(e,Hf,Yf);var i=Of(e).byteLength,o=_t(n);if(o<0||i<o)throw Vf("Wrong offset");if(i<o+(r=void 0===r?i-o:mt(r)))throw Vf(Ff);Pf(this,{buffer:e,byteLength:r,byteOffset:o}),h||(this.buffer=e,this.byteLength=r,this.byteOffset=o)},h&&(rh(Hf,"byteLength"),rh(Gf,"buffer"),rh(Gf,"byteLength"),rh(Gf,"byteOffset")),Nu(Gf[Uf],{getInt8:function t(e){return ih(this,1,e)[0]<<24>>24},getUint8:function t(e){return ih(this,1,e)[0]},getInt16:function t(e,n){var r=ih(this,2,e,1<arguments.length?n:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function t(e,n){var r=ih(this,2,e,1<arguments.length?n:void 0);return r[1]<<8|r[0]},getInt32:function t(e,n){return th(ih(this,4,e,1<arguments.length?n:void 0))},getUint32:function t(e,n){return th(ih(this,4,e,1<arguments.length?n:void 0))>>>0},getFloat32:function t(e,n){return $f(ih(this,4,e,1<arguments.length?n:void 0),23)},getFloat64:function t(e,n){return $f(ih(this,8,e,1<arguments.length?n:void 0),52)},setInt8:function t(e,n){oh(this,1,e,Xf,n)},setUint8:function t(e,n){oh(this,1,e,Xf,n)},setInt16:function t(e,n,r){oh(this,2,e,Jf,n,2<arguments.length?r:void 0)},setUint16:function t(e,n,r){oh(this,2,e,Jf,n,2<arguments.length?r:void 0)},setInt32:function t(e,n,r){oh(this,4,e,Kf,n,2<arguments.length?r:void 0)},setUint32:function t(e,n,r){oh(this,4,e,Kf,n,2<arguments.length?r:void 0)},setFloat32:function t(e,n,r){oh(this,4,e,eh,n,2<arguments.length?r:void 0)},setFloat64:function t(e,n,r){oh(this,8,e,nh,n,2<arguments.length?r:void 0)}});ke(Hf,Rf),ke(Gf,Yf);var fh={ArrayBuffer:Hf,DataView:Gf},hh="ArrayBuffer",ph=fh[hh],gh=E[hh];Bt({global:!0,forced:gh!==ph},{ArrayBuffer:ph}),Ro(hh);var _h=P.f,yh=E.Int8Array,mh=yh&&yh.prototype,vh=E.Uint8ClampedArray,bh=vh&&vh.prototype,xh=yh&&or(yh),wh=mh&&or(mh),Mh=Object.prototype,kh=Mh.isPrototypeOf,jh=ye("toStringTag"),Ah=V("TYPED_ARRAY_TAG"),Ih=wf&&!!wr&&"Opera"!==Gn(E.opera),Th=!1,Nh,zh={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Sh=function t(e){var n=Gn(e);return"DataView"===n||C(zh,n)},Eh=function(t){return L(t)&&C(zh,Gn(t))},Lh=function(t){if(Eh(t))return t;throw TypeError("Target is not a typed array")},Dh=function(t){if(wr){if(kh.call(xh,t))return t}else for(var e in zh)if(C(zh,Nh)){var n=E[e];if(n&&(t===n||kh.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},Ch=function(t,e,n){if(h){if(n)for(var r in zh){var i=E[r];i&&C(i.prototype,t)&&delete i.prototype[t]}wh[t]&&!n||ut(wh,t,!n&&Ih&&mh[t]||e)}},Oh=function(t,e,n){var r,i;if(h){if(wr){if(n)for(r in zh)(i=E[r])&&C(i,t)&&delete i[t];if(xh[t]&&!n)return;try{return ut(xh,t,!n&&Ih&&yh[t]||e)}catch(t){}}for(r in zh)!(i=E[r])||i[t]&&!n||ut(i,t,e)}};for(Nh in zh)E[Nh]||(Ih=!1);if((!Ih||"function"!=typeof xh||xh===Function.prototype)&&(xh=function t(){throw TypeError("Incorrect invocation")},Ih))for(Nh in zh)E[Nh]&&wr(E[Nh],xh);if((!Ih||!wh||wh===Mh)&&(wh=xh.prototype,Ih))for(Nh in zh)E[Nh]&&wr(E[Nh].prototype,wh);if(Ih&&or(bh)!==wh&&wr(bh,wh),h&&!C(wh,jh))for(Nh in Th=!0,_h(wh,jh,{get:function(){return L(this)?this[Ah]:void 0}}),zh)E[Nh]&&R(E[Nh],Ah,Nh);var Ph={NATIVE_ARRAY_BUFFER_VIEWS:Ih,TYPED_ARRAY_TAG:Th&&Ah,aTypedArray:Lh,aTypedArrayConstructor:Dh,exportTypedArrayMethod:Ch,exportTypedArrayStaticMethod:Oh,isView:Sh,isTypedArray:Eh,TypedArray:xh,TypedArrayPrototype:wh},Rh;Bt({target:"ArrayBuffer",stat:!0,forced:!Ph.NATIVE_ARRAY_BUFFER_VIEWS},{isView:Ph.isView});var Yh=fh.ArrayBuffer,Uh=fh.DataView,Fh=Yh.prototype.slice,Bh=_(function(){return!new Yh(2).slice(1,void 0).byteLength});Bt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Bh},{slice:function t(e,n){if(void 0!==Fh&&void 0===n)return Fh.call(I(this),e);for(var r=I(this).byteLength,i=xt(e,r),o=xt(void 0===n?r:n,r),a=new($a(this,Yh))(mt(o-i)),s=new Uh(this),l=new Uh(a),c=0;i<o;)l.setUint8(c++,s.getUint8(i++));return a}}),Bt({global:!0,forced:!wf},{DataView:fh.DataView});var Zh=Ph.NATIVE_ARRAY_BUFFER_VIEWS,Hh=E.ArrayBuffer,Gh=E.Int8Array,Qh=!Zh||!_(function(){Gh(1)})||!_(function(){new Gh(-1)})||!Hr(function(t){new Gh,new Gh(null),new Gh(1.5),new Gh(t)},!0)||_(function(){return 1!==new Gh(new Hh(2),1,void 0).length}),qh=function(t){var e=_t(t);if(e<0)throw RangeError("The argument can't be less than 0");return e},Vh=function(t,e){var n=qh(t);if(n%e)throw RangeError("Wrong offset");return n},Wh=Ph.aTypedArrayConstructor,$h=function t(e,n,r){var i=Qt(e),o=arguments.length,a=1<o?n:void 0,s=void 0!==a,l=qn(i),c,u,d,f,h,p;if(null!=l&&!Rn(l))for(p=(h=l.call(i)).next,i=[];!(f=p.call(h)).done;)i.push(f.value);for(s&&2<o&&(a=Ae(a,r,2)),u=mt(i.length),d=new(Wh(this))(u),c=0;c<u;c++)d[c]=s?a(i[c],c):i[c];return d},Xh=n(function(t){var p=Nt.f,g=Se.forEach,_=ct.get,y=ct.set,m=P.f,r=O.f,v=Math.round,b=E.RangeError,x=fh.ArrayBuffer,w=fh.DataView,M=Ph.NATIVE_ARRAY_BUFFER_VIEWS,k=Ph.TYPED_ARRAY_TAG,j=Ph.TypedArray,A=Ph.TypedArrayPrototype,o=Ph.aTypedArrayConstructor,I=Ph.isTypedArray,T="BYTES_PER_ELEMENT",N="Wrong length",z=function(t,e){for(var n=0,r=e.length,i=new(o(t))(r);n<r;)i[n]=e[n++];return i},e=function(t,e){m(t,e,{get:function(){return _(this)[e]}})},S=function(t){var e;return t instanceof x||"ArrayBuffer"==(e=Gn(t))||"SharedArrayBuffer"==e},i=function(t,e){return I(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},n=function t(e,n){return i(e,n=D(n,!0))?c(2,e[n]):r(e,n)},a=function t(e,n,r){return!(i(e,n=D(n,!0))&&L(r)&&C(r,"value"))||C(r,"get")||C(r,"set")||r.configurable||C(r,"writable")&&!r.writable||C(r,"enumerable")&&!r.enumerable?m(e,n,r):(e[n]=r.value,e)};h?(M||(O.f=n,P.f=a,e(A,"buffer"),e(A,"byteOffset"),e(A,"byteLength"),e(A,"length")),Bt({target:"Object",stat:!0,forced:!M},{getOwnPropertyDescriptor:n,defineProperty:a}),t.exports=function(t,e,i){var u=t.match(/\d+$/)[0]/8,d=t+(i?"Clamped":"")+"Array",r="get"+t,o="set"+t,a=E[d],f=a,n=f&&f.prototype,s={},l=function(t,e){var n=_(t);return n.view[r](e*u+n.byteOffset,!0)},c=function(t,e,n){var r=_(t);i&&(n=(n=v(n))<0?0:255<n?255:255&n),r.view[o](e*u+r.byteOffset,n,!0)},h=function(t,e){m(t,e,{get:function(){return l(this,e)},set:function(t){return c(this,e,t)},enumerable:!0})};M?Qh&&(f=e(function(t,e,n,r){return zu(t,f,d),tl(L(e)?S(e)?void 0!==r?new a(e,Vh(n,u),r):void 0!==n?new a(e,Vh(n,u)):new a(e):I(e)?z(f,e):$h.call(f,e):new a(Mf(e)),t,f)}),wr&&wr(f,j),g(p(a),function(t){t in f||R(f,t,a[t])}),f.prototype=n):(f=e(function(t,e,n,r){zu(t,f,d);var i=0,o=0,a,s,l;if(L(e)){if(!S(e))return I(e)?z(f,e):$h.call(f,e);a=e,o=Vh(n,u);var c=e.byteLength;if(void 0===r){if(c%u)throw b(N);if((s=c-o)<0)throw b(N)}else if(c<(s=mt(r)*u)+o)throw b(N);l=s/u}else l=Mf(e),a=new x(s=l*u);for(y(t,{buffer:a,byteOffset:o,byteLength:s,length:l,view:new w(a)});i<l;)h(t,i++)}),wr&&wr(f,j),n=f.prototype=se(A)),n.constructor!==f&&R(n,"constructor",f),k&&R(n,k,d),s[d]=f,Bt({global:!0,forced:f!=a,sham:!M},s),T in f||R(f,T,u),T in n||R(n,T,u),Ro(d)}):t.exports=function(){}}),Jh;Xh("Int8",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Uint8",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Uint8",function(i){return function t(e,n,r){return i(this,e,n,r)}},!0),Xh("Int16",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Uint16",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Int32",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Uint32",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Float32",function(i){return function t(e,n,r){return i(this,e,n,r)}}),Xh("Float64",function(i){return function t(e,n,r){return i(this,e,n,r)}}),(0,Ph.exportTypedArrayStaticMethod)("from",$h,Qh);var Kh=Ph.aTypedArrayConstructor,tp;(0,Ph.exportTypedArrayStaticMethod)("of",function t(){for(var e=0,n=arguments.length,r=new(Kh(this))(n);e<n;)r[e]=arguments[e++];return r},Qh);var ep=Ph.aTypedArray,np;(0,Ph.exportTypedArrayMethod)("copyWithin",function t(e,n,r){return ui.call(ep(this),e,n,2<arguments.length?r:void 0)});var rp=Se.every,ip=Ph.aTypedArray,op;(0,Ph.exportTypedArrayMethod)("every",function t(e,n){return rp(ip(this),e,1<arguments.length?n:void 0)});var ap=Ph.aTypedArray,sp;(0,Ph.exportTypedArrayMethod)("fill",function t(e){return wi.apply(ap(this),arguments)});var lp=Se.filter,cp=Ph.aTypedArray,up=Ph.aTypedArrayConstructor,dp;(0,Ph.exportTypedArrayMethod)("filter",function t(e,n){for(var r=lp(cp(this),e,1<arguments.length?n:void 0),i=$a(this,this.constructor),o=0,a=r.length,s=new(up(i))(a);o<a;)s[o]=r[o++];return s});var fp=Se.find,hp=Ph.aTypedArray,pp;(0,Ph.exportTypedArrayMethod)("find",function t(e,n){return fp(hp(this),e,1<arguments.length?n:void 0)});var gp=Se.findIndex,_p=Ph.aTypedArray,yp;(0,Ph.exportTypedArrayMethod)("findIndex",function t(e,n){return gp(_p(this),e,1<arguments.length?n:void 0)});var mp=Se.forEach,vp=Ph.aTypedArray,bp;(0,Ph.exportTypedArrayMethod)("forEach",function t(e,n){mp(vp(this),e,1<arguments.length?n:void 0)});var xp=Mt.includes,wp=Ph.aTypedArray,Mp;(0,Ph.exportTypedArrayMethod)("includes",function t(e,n){return xp(wp(this),e,1<arguments.length?n:void 0)});var kp=Mt.indexOf,jp=Ph.aTypedArray,Ap;(0,Ph.exportTypedArrayMethod)("indexOf",function t(e,n){return kp(jp(this),e,1<arguments.length?n:void 0)});var Ip=ye("iterator"),Tp=E.Uint8Array,Np=aa.values,zp=aa.keys,Sp=aa.entries,Ep=Ph.aTypedArray,Lp=Ph.exportTypedArrayMethod,Dp=Tp&&Tp.prototype[Ip],Cp=!!Dp&&("values"==Dp.name||null==Dp.name),Op=function t(){return Np.call(Ep(this))};Lp("entries",function t(){return Sp.call(Ep(this))}),Lp("keys",function t(){return zp.call(Ep(this))}),Lp("values",Op,!Cp),Lp(Ip,Op,!Cp);var Pp=Ph.aTypedArray,Rp,Yp=[].join;(0,Ph.exportTypedArrayMethod)("join",function t(e){return Yp.apply(Pp(this),arguments)});var Up=Ph.aTypedArray,Fp;(0,Ph.exportTypedArrayMethod)("lastIndexOf",function t(e){return no.apply(Up(this),arguments)});var Bp=Se.map,Zp=Ph.aTypedArray,Hp=Ph.aTypedArrayConstructor,Gp;(0,Ph.exportTypedArrayMethod)("map",function t(e,n){return Bp(Zp(this),e,1<arguments.length?n:void 0,function(t,e){return new(Hp($a(t,t.constructor)))(e)})});var Qp=so.left,qp=Ph.aTypedArray,Vp;(0,Ph.exportTypedArrayMethod)("reduce",function t(e,n){return Qp(qp(this),e,arguments.length,1<arguments.length?n:void 0)});var Wp=so.right,$p=Ph.aTypedArray,Xp;(0,Ph.exportTypedArrayMethod)("reduceRight",function t(e,n){return Wp($p(this),e,arguments.length,1<arguments.length?n:void 0)});var Jp=Ph.aTypedArray,Kp=Ph.exportTypedArrayMethod,tg=Math.floor;Kp("reverse",function t(){for(var e=this,n=Jp(e).length,r=tg(n/2),i=0,o;i<r;)o=e[i],e[i++]=e[--n],e[n]=o;return e});var eg=Ph.aTypedArray,ng,rg;(0,Ph.exportTypedArrayMethod)("set",function t(e,n){eg(this);var r=Vh(1<arguments.length?n:void 0,1),i=this.length,o=Qt(e),a=mt(o.length),s=0;if(i<a+r)throw RangeError("Wrong length");for(;s<a;)this[r+s]=o[s++]},_(function(){new Int8Array(1).set({})}));var ig=Ph.aTypedArray,og=Ph.aTypedArrayConstructor,ag,sg=[].slice,lg;(0,Ph.exportTypedArrayMethod)("slice",function t(e,n){for(var r=sg.call(ig(this),e,n),i=$a(this,this.constructor),o=0,a=r.length,s=new(og(i))(a);o<a;)s[o]=r[o++];return s},_(function(){new Int8Array(1).slice()}));var cg=Se.some,ug=Ph.aTypedArray,dg;(0,Ph.exportTypedArrayMethod)("some",function t(e,n){return cg(ug(this),e,1<arguments.length?n:void 0)});var fg=Ph.aTypedArray,hg,pg=[].sort;(0,Ph.exportTypedArrayMethod)("sort",function t(e){return pg.call(fg(this),e)});var gg=Ph.aTypedArray,_g;(0,Ph.exportTypedArrayMethod)("subarray",function t(e,n){var r=gg(this),i=r.length,o=xt(e,i);return new($a(r,r.constructor))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,mt((void 0===n?i:xt(n,i))-o))});var yg=E.Int8Array,mg=Ph.aTypedArray,vg=Ph.exportTypedArrayMethod,bg=[].toLocaleString,xg=[].slice,wg=!!yg&&_(function(){bg.call(new yg(1))}),Mg;vg("toLocaleString",function t(){return bg.apply(wg?xg.call(mg(this)):mg(this),arguments)},_(function(){return[1,2].toLocaleString()!=new yg([1,2]).toLocaleString()})||!_(function(){yg.prototype.toLocaleString.call([1,2])}));var kg=Ph.exportTypedArrayMethod,jg=E.Uint8Array,Ag=jg&&jg.prototype||{},Ig=[].toString,Tg=[].join,Ng;_(function(){Ig.call({})})&&(Ig=function t(){return Tg.call(this)}),kg("toString",Ig,Ag.toString!=Ig);var zg=ht("Reflect","apply"),Sg=Function.apply,Eg=!_(function(){zg(function(){})});Bt({target:"Reflect",stat:!0,forced:Eg},{apply:function t(e,n,r){return je(e),I(r),zg?zg(e,n,r):Sg.call(e,n,r)}});var Lg=ht("Reflect","construct"),Dg=_(function(){function t(){}return!(Lg(function(){},[],t)instanceof t)}),Cg=!_(function(){Lg(function(){})}),Og=Dg||Cg;Bt({target:"Reflect",stat:!0,forced:Og,sham:Og},{construct:function t(e,n,r){je(e),I(n);var i=arguments.length<3?e:je(r);if(Cg&&!Dg)return Lg(e,n,i);if(e==i){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var o=[null];return o.push.apply(o,n),new(Sr.apply(e,o))}var a=i.prototype,s=se(L(a)?a:Object.prototype),l=Function.apply.call(e,s,n);return L(l)?l:s}});var Pg=_(function(){Reflect.defineProperty(P.f({},1,{value:1}),1,{value:2})});Bt({target:"Reflect",stat:!0,forced:Pg,sham:!h},{defineProperty:function t(e,n,r){I(e);var i=D(n,!0);I(r);try{return P.f(e,i,r),!0}catch(t){return!1}}});var Rg=O.f;function Yg(t,e){var n=arguments.length<3?t:arguments[2],r,i;return I(t)===n?t[e]:(r=O.f(t,e))?C(r,"value")?r.value:void 0===r.get?void 0:r.get.call(n):L(i=or(t))?Yg(i,e,n):void 0}Bt({target:"Reflect",stat:!0},{deleteProperty:function t(e,n){var r=Rg(I(e),n);return!(r&&!r.configurable)&&delete e[n]}}),Bt({target:"Reflect",stat:!0},{get:Yg}),Bt({target:"Reflect",stat:!0,sham:!h},{getOwnPropertyDescriptor:function t(e,n){return O.f(I(e),n)}}),Bt({target:"Reflect",stat:!0,sham:!nr},{getPrototypeOf:function t(e){return or(I(e))}}),Bt({target:"Reflect",stat:!0},{has:function t(e,n){return n in e}});var Ug=Object.isExtensible;function Fg(t,e,n){var r=arguments.length<4?t:arguments[3],i=O.f(I(t),e),o,a;if(!i){if(L(a=or(t)))return Fg(a,e,n,r);i=c(0)}if(C(i,"value")){if(!1===i.writable||!L(r))return!1;if(o=O.f(r,e)){if(o.get||o.set||!1===o.writable)return!1;o.value=n,P.f(r,e,o)}else P.f(r,e,c(0,n));return!0}return void 0!==i.set&&(i.set.call(r,n),!0)}Bt({target:"Reflect",stat:!0},{isExtensible:function t(e){return I(e),!Ug||Ug(e)}}),Bt({target:"Reflect",stat:!0},{ownKeys:Et}),Bt({target:"Reflect",stat:!0,sham:!An},{preventExtensions:function t(e){I(e);try{var n=ht("Object","preventExtensions");return n&&n(e),!0}catch(t){return!1}}});var Bg=_(function(){var t=P.f({},"a",{configurable:!0});return!1!==Reflect.set(or(t),"a",1,t)});Bt({target:"Reflect",stat:!0,forced:Bg},{set:Fg}),wr&&Bt({target:"Reflect",stat:!0},{setPrototypeOf:function t(e,n){I(e),xr(n);try{return wr(e,n),!0}catch(t){return!1}}});var Zg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Hg in Zg){var Gg=E[Hg],Qg=Gg&&Gg.prototype;if(Qg&&Qg.forEach!==Yi)try{R(Qg,"forEach",Yi)}catch(t){Qg.forEach=Yi}}var qg=ye("iterator"),Vg=ye("toStringTag"),Wg=aa.values;for(var $g in Zg){var Xg=E[$g],Jg=Xg&&Xg.prototype;if(Jg){if(Jg[qg]!==Wg)try{R(Jg,qg,Wg)}catch(t){Jg[qg]=Wg}if(Jg[Vg]||R(Jg,Vg,$g),Zg[$g])for(var Kg in aa)if(Jg[Kg]!==aa[Kg])try{R(Jg,Kg,aa[Kg])}catch(t){Jg[Kg]=aa[Kg]}}}var t_=!E.setImmediate||!E.clearImmediate;Bt({global:!0,bind:!0,enumerable:!0,forced:t_},{setImmediate:Vu.set,clearImmediate:Vu.clear});var e_=E.process,n_="process"==d(e_);Bt({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function t(e){var n=n_&&e_.domain;dd(n?n.bind(e):e)}});var r_=[].slice,i_=/MSIE .\./.test(qr),o_=function(i){return function(t,e){var n=2<arguments.length,r=n?r_.call(arguments,2):void 0;return i(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}};Bt({global:!0,bind:!0,forced:i_},{setTimeout:o_(E.setTimeout),setInterval:o_(E.setInterval)});var a_=ye("iterator"),s_=!_(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[a_]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}),l_=2147483647,c_=36,u_=1,d_=26,f_=38,h_=700,p_=72,g_=128,__="-",y_=/[^\0-\u007E]/,m_=/[.\u3002\uFF0E\uFF61]/g,v_="Overflow: input needs wider integers to process",b_=35,x_=Math.floor,w_=String.fromCharCode,M_=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++),o;55296<=i&&i<=56319&&n<r?56320==(64512&(o=t.charCodeAt(n++)))?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--):e.push(i)}return e},k_=function(t){return t+22+75*(t<26)},j_=function(t,e,n){var r=0;for(t=n?x_(t/h_):t>>1,t+=x_(t/e);455<t;r+=36)t=x_(t/35);return x_(r+36*t/(t+38))},A_=function(t){var e=[],n=(t=M_(t)).length,r=g_,i=0,o=72,a,s;for(a=0;a<t.length;a++)(s=t[a])<128&&e.push(w_(s));var l=e.length,c=l;for(l&&e.push(__);c<n;){for(var u=l_,a=0;a<t.length;a++)r<=(s=t[a])&&s<u&&(u=s);var d=c+1;if(u-r>x_((l_-i)/d))throw RangeError(v_);for(i+=(u-r)*d,r=u,a=0;a<t.length;a++){if((s=t[a])<r&&++i>l_)throw RangeError(v_);if(s==r){for(var f=i,h=36;;h+=36){var p=h<=o?1:o+26<=h?26:h-o;if(f<p)break;var g=f-p,_=36-p;e.push(w_(k_(p+g%_))),f=x_(g/_)}e.push(w_(k_(f))),o=j_(i,d,c==l),i=0,++c}}++i,++r}return e.join("")},I_=function(t){for(var e=[],n=t.toLowerCase().replace(m_,".").split("."),r,i,r=0;r<n.length;r++)i=n[r],e.push(y_.test(i)?"xn--"+A_(i):i);return e.join(".")},T_=function(t){var e=qn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return I(e.call(t))},N_=ht("fetch"),z_=ht("Headers"),S_=ye("iterator"),E_="URLSearchParams",L_=E_+"Iterator",D_=ct.set,C_=ct.getterFor(E_),O_=ct.getterFor(L_),P_=/\+/g,R_=Array(4),Y_=function(t){return R_[t-1]||(R_[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},U_=function(e){try{return decodeURIComponent(e)}catch(t){return e}},F_=function(t){var e=t.replace(P_," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(Y_(n--),U_);return e}},B_=/[!'()~]|%20/g,Z_={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H_=function(t){return Z_[t]},G_=function(t){return encodeURIComponent(t).replace(B_,H_)},Q_=function(t,e){if(e)for(var n=e.split("&"),r=0,i,o;r<n.length;)(i=n[r++]).length&&(o=i.split("="),t.push({key:F_(o.shift()),value:F_(o.join("="))}))},q_=function(t){this.entries.length=0,Q_(this.entries,t)},V_=function(t,e){if(t<e)throw TypeError("Not enough arguments")},W_=Vo(function t(e,n){D_(this,{type:L_,iterator:T_(C_(e).entries),kind:n})},"Iterator",function t(){var e=O_(this),n=e.kind,r=e.iterator.next(),i=r.value;return r.done||(r.value="keys"===n?i.key:"values"===n?i.value:[i.key,i.value]),r}),$_=function t(e){zu(this,$_,E_);var n=0<arguments.length?e:void 0,r,i=[],o,a,s,l,c,u,d,f,h;if(D_(this,{type:E_,entries:i,updateURL:function(){},updateSearchParams:q_}),void 0!==n)if(L(n))if("function"==typeof(o=qn(n)))for(s=(a=o.call(n)).next;!(l=s.call(a)).done;){if((d=(u=(c=T_(I(l.value))).next).call(c)).done||(f=u.call(c)).done||!u.call(c).done)throw TypeError("Expected sequence with length 2");i.push({key:d.value+"",value:f.value+""})}else for(h in n)C(n,h)&&i.push({key:h,value:n[h]+""});else Q_(i,"string"==typeof n?"?"===n.charAt(0)?n.slice(1):n:n+"")},X_=$_.prototype;Nu(X_,{append:function t(e,n){V_(arguments.length,2);var r=C_(this);r.entries.push({key:e+"",value:n+""}),r.updateURL()},delete:function(t){V_(arguments.length,1);for(var e=C_(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function t(e){V_(arguments.length,1);for(var n=C_(this).entries,r=e+"",i=0;i<n.length;i++)if(n[i].key===r)return n[i].value;return null},getAll:function t(e){V_(arguments.length,1);for(var n=C_(this).entries,r=e+"",i=[],o=0;o<n.length;o++)n[o].key===r&&i.push(n[o].value);return i},has:function t(e){V_(arguments.length,1);for(var n=C_(this).entries,r=e+"",i=0;i<n.length;)if(n[i++].key===r)return!0;return!1},set:function t(e,n){V_(arguments.length,1);for(var r=C_(this),i=r.entries,o=!1,a=e+"",s=n+"",l=0,c;l<i.length;l++)(c=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,c.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function t(){for(var e=C_(this),n=e.entries,r=n.slice(),i,o,a,a=n.length=0;a<r.length;a++){for(i=r[a],o=0;o<a;o++)if(n[o].key>i.key){n.splice(o,0,i);break}o===a&&n.push(i)}e.updateURL()},forEach:function t(e,n){for(var r=C_(this).entries,i=Ae(e,1<arguments.length?n:void 0,3),o=0,a;o<r.length;)i((a=r[o++]).value,a.key,this)},keys:function t(){return new W_(this,"keys")},values:function t(){return new W_(this,"values")},entries:function t(){return new W_(this,"entries")}},{enumerable:!0}),ut(X_,S_,X_.entries),ut(X_,"toString",function t(){for(var e=C_(this).entries,n=[],r=0,i;r<e.length;)i=e[r++],n.push(G_(i.key)+"="+G_(i.value));return n.join("&")},{enumerable:!0}),ke($_,E_),Bt({global:!0,forced:!s_},{URLSearchParams:$_}),s_||"function"!=typeof N_||"function"!=typeof z_||Bt({global:!0,enumerable:!0,forced:!0},{fetch:function t(e,n){var r=[e],i,o,a;return 1<arguments.length&&(L(i=n)&&(o=i.body,Gn(o)===E_&&((a=i.headers?new z_(i.headers):new z_).has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),i=se(i,{body:c(0,String(o)),headers:c(0,a)}))),r.push(i)),N_.apply(this,r)}});var J_={URLSearchParams:$_,getState:C_},K_=da.codeAt,ty=E.URL,ey=J_.URLSearchParams,ny=J_.getState,ry=ct.set,iy=ct.getterFor("URL"),oy=Math.floor,ay=Math.pow,sy="Invalid authority",ly="Invalid scheme",cy="Invalid host",uy="Invalid port",dy=/[A-Za-z]/,fy=/[\d+-.A-Za-z]/,hy=/\d/,py=/^(0x|0X)/,gy=/^[0-7]+$/,_y=/^\d+$/,yy=/^[\dA-Fa-f]+$/,my=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,vy=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,by=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,xy=/[\u0009\u000A\u000D]/g,wy,My=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return cy;if(!(n=jy(e.slice(1,-1))))return cy;t.host=n}else if(Dy(t)){if(e=I_(e),my.test(e))return cy;if(null===(n=ky(e)))return cy;t.host=n}else{if(vy.test(e))return cy;for(n="",r=Yr(e),i=0;i<r.length;i++)n+=Ey(r[i],Ty);t.host=n}},ky=function(t){var e=t.split("."),n,r,i,o,a,s,l;if(e.length&&""==e[e.length-1]&&e.pop(),4<(n=e.length))return t;for(r=[],i=0;i<n;i++){if(""==(o=e[i]))return t;if(a=10,1<o.length&&"0"==o.charAt(0)&&(a=py.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)s=0;else{if(!(10==a?_y:8==a?gy:yy).test(o))return t;s=parseInt(o,a)}r.push(s)}for(i=0;i<n;i++)if(s=r[i],i==n-1){if(s>=ay(256,5-n))return null}else if(255<s)return null;for(l=r.pop(),i=0;i<r.length;i++)l+=r[i]*ay(256,3-i);return l},jy=function(t){var e=[0,0,0,0,0,0,0,0],n=0,r=null,i=0,o,a,s,l,c,u,d,f=function(){return t.charAt(i)};if(":"==f()){if(":"!=t.charAt(1))return;i+=2,r=++n}for(;f();){if(8==n)return;if(":"!=f()){for(o=a=0;a<4&&yy.test(f());)o=16*o+parseInt(f(),16),i++,a++;if("."==f()){if(0==a)return;if(i-=a,6<n)return;for(s=0;f();){if(l=null,0<s){if(!("."==f()&&s<4))return;i++}if(!hy.test(f()))return;for(;hy.test(f());){if(c=parseInt(f(),10),null===l)l=c;else{if(0==l)return;l=10*l+c}if(255<l)return;i++}e[n]=256*e[n]+l,2!=++s&&4!=s||n++}if(4!=s)return;break}if(":"==f()){if(i++,!f())return}else if(f())return;e[n++]=o}else{if(null!==r)return;i++,r=++n}}if(null!==r)for(u=n-r,n=7;0!=n&&0<u;)d=e[n],e[n--]=e[r+u-1],e[r+--u]=d;else if(8!=n)return;return e},Ay=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(n<i&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return n<i&&(e=r,n=i),e},Iy=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=oy(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",r=Ay(t),n=0;n<8;n++)i&&0===t[n]||(i=i&&!1,r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"},Ty={},Ny=xn({},Ty,{" ":1,'"':1,"<":1,">":1,"`":1}),zy=xn({},Ny,{"#":1,"?":1,"{":1,"}":1}),Sy=xn({},zy,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ey=function(t,e){var n=K_(t,0);return 32<n&&n<127&&!C(e,t)?t:encodeURIComponent(t)},Ly={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Dy=function(t){return C(Ly,t.scheme)},Cy=function(t){return""!=t.username||""!=t.password},Oy=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Py=function(t,e){var n;return 2==t.length&&dy.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Ry=function(t){var e;return 1<t.length&&Py(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Yy=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Py(e[0],!0)||e.pop()},Uy=function(t){return"."===t||"%2e"===t.toLowerCase()},Fy=function(t){return".."===(t=t.toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t},By={},Zy={},Hy={},Gy={},Qy={},qy={},Vy={},Wy={},$y={},Xy={},Jy={},Ky={},tm={},em={},nm={},rm={},im={},om={},am={},sm={},lm={},cm=function(t,e,n,r){var i=n||By,o=0,a="",s=!1,l=!1,c=!1,u,d,f,h;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(by,"")),e=e.replace(xy,""),u=Yr(e);o<=u.length;){switch(d=u[o],i){case By:if(!d||!dy.test(d)){if(n)return ly;i=Hy;continue}a+=d.toLowerCase(),i=Zy;break;case Zy:if(d&&(fy.test(d)||"+"==d||"-"==d||"."==d))a+=d.toLowerCase();else{if(":"!=d){if(n)return ly;a="",i=Hy,o=0;continue}if(n&&(Dy(t)!=C(Ly,a)||"file"==a&&(Cy(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=a,n)return void(Dy(t)&&Ly[t.scheme]==t.port&&(t.port=null));a="","file"==t.scheme?i=em:Dy(t)&&r&&r.scheme==t.scheme?i=Gy:Dy(t)?i=Wy:"/"==u[o+1]?(i=Qy,o++):(t.cannotBeABaseURL=!0,t.path.push(""),i=am)}break;case Hy:if(!r||r.cannotBeABaseURL&&"#"!=d)return ly;if(r.cannotBeABaseURL&&"#"==d){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,i=lm;break}i="file"==r.scheme?em:qy;continue;case Gy:if("/"!=d||"/"!=u[o+1]){i=qy;continue}i=$y,o++;break;case Qy:if("/"==d){i=Xy;break}i=om;continue;case qy:if(t.scheme=r.scheme,d==wy)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==d||"\\"==d&&Dy(t))i=Vy;else if("?"==d)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",i=sm;else{if("#"!=d){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),i=om;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",i=lm}break;case Vy:if(!Dy(t)||"/"!=d&&"\\"!=d){if("/"!=d){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,i=om;continue}i=Xy}else i=$y;break;case Wy:if(i=$y,"/"!=d||"/"!=a.charAt(o+1))continue;o++;break;case $y:if("/"==d||"\\"==d)break;i=Xy;continue;case Xy:if("@"==d){s&&(a="%40"+a),s=!0,f=Yr(a);for(var p=0;p<f.length;p++){var g=f[p],_;":"!=g||c?(_=Ey(g,Sy),c?t.password+=_:t.username+=_):c=!0}a=""}else if(d==wy||"/"==d||"?"==d||"#"==d||"\\"==d&&Dy(t)){if(s&&""==a)return sy;o-=Yr(a).length+1,a="",i=Jy}else a+=d;break;case Jy:case Ky:if(n&&"file"==t.scheme){i=rm;continue}if(":"!=d||l){if(d==wy||"/"==d||"?"==d||"#"==d||"\\"==d&&Dy(t)){if(Dy(t)&&""==a)return cy;if(n&&""==a&&(Cy(t)||null!==t.port))return;if(h=My(t,a))return h;if(a="",i=im,n)return;continue}"["==d?l=!0:"]"==d&&(l=!1),a+=d}else{if(""==a)return cy;if(h=My(t,a))return h;if(a="",i=tm,n==Ky)return}break;case tm:if(!hy.test(d)){if(d==wy||"/"==d||"?"==d||"#"==d||"\\"==d&&Dy(t)||n){if(""!=a){var y=parseInt(a,10);if(65535<y)return uy;t.port=Dy(t)&&y===Ly[t.scheme]?null:y,a=""}if(n)return;i=im;continue}return uy}a+=d;break;case em:if(t.scheme="file","/"==d||"\\"==d)i=nm;else{if(!r||"file"!=r.scheme){i=om;continue}if(d==wy)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==d)t.host=r.host,t.path=r.path.slice(),t.query="",i=sm;else{if("#"!=d){Ry(u.slice(o).join(""))||(t.host=r.host,t.path=r.path.slice(),Yy(t)),i=om;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",i=lm}}break;case nm:if("/"==d||"\\"==d){i=rm;break}r&&"file"==r.scheme&&!Ry(u.slice(o).join(""))&&(Py(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),i=om;continue;case rm:if(d==wy||"/"==d||"\\"==d||"?"==d||"#"==d){if(!n&&Py(a))i=om;else if(""==a){if(t.host="",n)return;i=im}else{if(h=My(t,a))return h;if("localhost"==t.host&&(t.host=""),n)return;a="",i=im}continue}a+=d;break;case im:if(Dy(t)){if(i=om,"/"!=d&&"\\"!=d)continue}else if(n||"?"!=d)if(n||"#"!=d){if(d!=wy&&(i=om,"/"!=d))continue}else t.fragment="",i=lm;else t.query="",i=sm;break;case om:if(d==wy||"/"==d||"\\"==d&&Dy(t)||!n&&("?"==d||"#"==d)){if(Fy(a)?(Yy(t),"/"==d||"\\"==d&&Dy(t)||t.path.push("")):Uy(a)?"/"==d||"\\"==d&&Dy(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Py(a)&&(t.host&&(t.host=""),a=a.charAt(0)+":"),t.path.push(a)),a="","file"==t.scheme&&(d==wy||"?"==d||"#"==d))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==d?(t.query="",i=sm):"#"==d&&(t.fragment="",i=lm)}else a+=Ey(d,zy);break;case am:"?"==d?(t.query="",i=sm):"#"==d?(t.fragment="",i=lm):d!=wy&&(t.path[0]+=Ey(d,Ty));break;case sm:n||"#"!=d?d!=wy&&("'"==d&&Dy(t)?t.query+="%27":t.query+="#"==d?"%23":Ey(d,Ty)):(t.fragment="",i=lm);break;case lm:d!=wy&&(t.fragment+=Ey(d,Ny))}o++}},um=function t(e,n){var r=zu(this,um,"URL"),i=1<arguments.length?n:void 0,o=String(e),a=ry(r,{type:"URL"}),s,l;if(void 0!==i)if(i instanceof um)s=iy(i);else if(l=cm(s={},String(i)))throw TypeError(l);if(l=cm(a,o,null,s))throw TypeError(l);var c=a.searchParams=new ey,u=ny(c);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(c)||null},h||(r.href=fm.call(r),r.origin=hm.call(r),r.protocol=pm.call(r),r.username=gm.call(r),r.password=_m.call(r),r.host=ym.call(r),r.hostname=mm.call(r),r.port=vm.call(r),r.pathname=bm.call(r),r.search=xm.call(r),r.searchParams=wm.call(r),r.hash=Mm.call(r))},dm=um.prototype,fm=function(){var t=iy(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,c=e+":";return null!==i?(c+="//",Cy(t)&&(c+=n+(r?":"+r:"")+"@"),c+=Iy(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},hm=function(){var t=iy(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Dy(t)?e+"://"+Iy(t.host)+(null!==n?":"+n:""):"null"},pm=function(){return iy(this).scheme+":"},gm=function(){return iy(this).username},_m=function(){return iy(this).password},ym=function(){var t=iy(this),e=t.host,n=t.port;return null===e?"":null===n?Iy(e):Iy(e)+":"+n},mm=function(){var t=iy(this).host;return null===t?"":Iy(t)},vm=function(){var t=iy(this).port;return null===t?"":String(t)},bm=function(){var t=iy(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},xm=function(){var t=iy(this).query;return t?"?"+t:""},wm=function(){return iy(this).searchParams},Mm=function(){var t=iy(this).fragment;return t?"#"+t:""},km=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}},jm,Am;h&&Vt(dm,{href:km(fm,function(t){var e=iy(this),n=String(t),r=cm(e,n);if(r)throw TypeError(r);ny(e.searchParams).updateSearchParams(e.query)}),origin:km(hm),protocol:km(pm,function(t){var e=iy(this);cm(e,String(t)+":",By)}),username:km(gm,function(t){var e=iy(this),n=Yr(String(t));if(!Oy(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Ey(n[r],Sy)}}),password:km(_m,function(t){var e=iy(this),n=Yr(String(t));if(!Oy(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Ey(n[r],Sy)}}),host:km(ym,function(t){var e=iy(this);e.cannotBeABaseURL||cm(e,String(t),Jy)}),hostname:km(mm,function(t){var e=iy(this);e.cannotBeABaseURL||cm(e,String(t),Ky)}),port:km(vm,function(t){var e=iy(this);Oy(e)||(""==(t=String(t))?e.port=null:cm(e,t,tm))}),pathname:km(bm,function(t){var e=iy(this);e.cannotBeABaseURL||(e.path=[],cm(e,t+"",im))}),search:km(xm,function(t){var e=iy(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",cm(e,t,sm)),ny(e.searchParams).updateSearchParams(e.query)}),searchParams:km(wm),hash:km(Mm,function(t){var e=iy(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",cm(e,t,lm)):e.fragment=null})}),ut(dm,"toJSON",function t(){return fm.call(this)},{enumerable:!0}),ut(dm,"toString",function t(){return fm.call(this)},{enumerable:!0}),ty&&(jm=ty.createObjectURL,Am=ty.revokeObjectURL,jm&&ut(um,"createObjectURL",function t(e){return jm.apply(ty,arguments)}),Am&&ut(um,"revokeObjectURL",function t(e){return Am.apply(ty,arguments)})),ke(um,"URL"),Bt({global:!0,forced:!s_,sham:!h},{URL:um}),Bt({target:"URL",proto:!0,enumerable:!0},{toJSON:function t(){return URL.prototype.toString.call(this)}});var Im=n(function(t){var e=function(a){var t=Object.prototype,u=t.hasOwnProperty,l,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof c?e:c,o=Object.create(i.prototype),a=new N(r||[]);return o._invoke=j(t,n,a),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var f="suspendedStart",h="suspendedYield",p="executing",g="completed",_={};function c(){}function y(){}function m(){}var v={};v[i]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(z([])));x&&x!==t&&u.call(x,i)&&(v=x);var w=m.prototype=c.prototype=Object.create(v);function M(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function k(s,l){function c(t,e,n,r){var i=d(s[t],s,e);if("throw"!==i.type){var o=i.arg,a=o.value;return a&&"object"==typeof a&&u.call(a,"__await")?l.resolve(a.__await).then(function(t){c("next",t,n,r)},function(t){c("throw",t,n,r)}):l.resolve(a).then(function(t){o.value=t,n(o)},function(t){return c("throw",t,n,r)})}r(i.arg)}var e;function t(n,r){function t(){return new l(function(t,e){c(n,r,t,e)})}return e=e?e.then(t,t):t()}this._invoke=t}function j(a,s,l){var c=f;return function t(e,n){if(c===p)throw new Error("Generator is already running");if(c===g){if("throw"===e)throw n;return S()}for(l.method=e,l.arg=n;;){var r=l.delegate;if(r){var i=A(r,l);if(i){if(i===_)continue;return i}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===f)throw c=g,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var o=d(a,s,l);if("normal"===o.type){if(c=l.done?g:h,o.arg===_)continue;return{value:o.arg,done:l.done}}"throw"===o.type&&(c=g,l.method="throw",l.arg=o.arg)}}}function A(t,e){var n=t.iterator[e.method];if(n===l){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=l,A(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,_;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=l),e.delegate=null,_):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function z(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:l,done:!0}}return y.prototype=w.constructor=m,(m.constructor=y).displayName=o(m,r,"GeneratorFunction"),a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,o(t,r,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},M(k.prototype),k.prototype[n]=function(){return this},a.AsyncIterator=k,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new k(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},M(w),o(w,r,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=z,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t,e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),s=u.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion,i;return"throw"===r.type&&(i=r.arg,T(n)),i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:z(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),_}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}),Tm="http://www.w3.org/1999/xhtml",Nm={svg:"http://www.w3.org/2000/svg",xhtml:Tm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zm(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Nm.hasOwnProperty(e)?{space:Nm[e],local:t}:t}function Sm(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Tm&&t.documentElement.namespaceURI===Tm?t.createElement(n):t.createElementNS(e,n)}}function Em(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Lm(t){var e=zm(t);return(e.local?Em:Sm)(e)}function Dm(){}function Cm(t){return null==t?Dm:function(){return this.querySelector(t)}}function Om(t){"function"!=typeof t&&(t=Cm(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new gb(r,this._parents)}function Pm(){return[]}function Rm(t){return null==t?Pm:function(){return this.querySelectorAll(t)}}function Ym(t){"function"!=typeof t&&(t=Rm(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new gb(r,i)}function Um(t){return function(){return this.matches(t)}}function Fm(t){"function"!=typeof t&&(t=Um(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new gb(r,this._parents)}function Bm(t){return new Array(t.length)}function Zm(){return new gb(this._enter||this._groups.map(Bm),this._parents)}function Hm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Gm(t){return function(){return t}}Hm.prototype={constructor:Hm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Qm="$";function qm(t,e,n,r,i,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Hm(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Vm(t,e,n,r,i,o,a){for(var s,l,c={},u=e.length,d=o.length,f=new Array(u),h,s=0;s<u;++s)(l=e[s])&&(f[s]=h=Qm+a.call(l,l.__data__,s,e),h in c?i[s]=l:c[h]=l);for(s=0;s<d;++s)(l=c[h=Qm+a.call(t,o[s],s,o)])?((r[s]=l).__data__=o[s],c[h]=null):n[s]=new Hm(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c[f[s]]===l&&(i[s]=l)}function Wm(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each(function(t){h[++c]=t}),h;var n=e?Vm:qm,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Gm(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,h=t.call(u,u&&u.__data__,c,r),p=h.length,g=s[c]=new Array(p),_=a[c]=new Array(p),y;n(u,d,g,_,l[c]=new Array(f),h,e);for(var m=0,v=0,b,x;m<p;++m)if(b=g[m]){for(v<=m&&(v=m+1);!(x=_[v])&&++v<p;);b._next=x||null}}return(a=new gb(a,r))._enter=s,a._exit=l,a}function $m(){return new gb(this._exit||this._groups.map(Bm),this._parents)}function Xm(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}function Jm(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,d=a[s]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;s<r;++s)a[s]=e[s];return new gb(a,this._parents)}function Km(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;0<=--i;)(a=r[i])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this}function tv(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||ev;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],s=a.length,l=i[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(t)}return new gb(i,this._parents).order()}function ev(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function nv(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function rv(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function iv(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ov(){var t=0;return this.each(function(){++t}),t}function av(){return!this.node()}function sv(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function lv(t){return function(){this.removeAttribute(t)}}function cv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uv(t,e){return function(){this.setAttribute(t,e)}}function dv(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fv(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function hv(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function pv(t,e){var n=zm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?cv:lv:"function"==typeof e?n.local?hv:fv:n.local?dv:uv)(n,e))}function gv(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _v(t){return function(){this.style.removeProperty(t)}}function yv(t,e,n){return function(){this.style.setProperty(t,e,n)}}function mv(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function vv(t,e,n){return 1<arguments.length?this.each((null==e?_v:"function"==typeof e?mv:yv)(t,e,null==n?"":n)):bv(this.node(),t)}function bv(t,e){return t.style.getPropertyValue(e)||gv(t).getComputedStyle(t,null).getPropertyValue(e)}function xv(t){return function(){delete this[t]}}function wv(t,e){return function(){this[t]=e}}function Mv(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function kv(t,e){return 1<arguments.length?this.each((null==e?xv:"function"==typeof e?Mv:wv)(t,e)):this.node()[t]}function jv(t){return t.trim().split(/^|\s+/)}function Av(t){return t.classList||new Iv(t)}function Iv(t){this._node=t,this._names=jv(t.getAttribute("class")||"")}function Tv(t,e){for(var n=Av(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Nv(t,e){for(var n=Av(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function zv(t){return function(){Tv(this,t)}}function Sv(t){return function(){Nv(this,t)}}function Ev(t,e){return function(){(e.apply(this,arguments)?Tv:Nv)(this,t)}}function Lv(t,e){var n=jv(t+"");if(arguments.length<2){for(var r=Av(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ev:e?zv:Sv)(n,e))}function Dv(){this.textContent=""}function Cv(t){return function(){this.textContent=t}}function Ov(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Pv(t){return arguments.length?this.each(null==t?Dv:("function"==typeof t?Ov:Cv)(t)):this.node().textContent}function Rv(){this.innerHTML=""}function Yv(t){return function(){this.innerHTML=t}}function Uv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Fv(t){return arguments.length?this.each(null==t?Rv:("function"==typeof t?Uv:Yv)(t)):this.node().innerHTML}function Bv(){this.nextSibling&&this.parentNode.appendChild(this)}function Zv(){return this.each(Bv)}function Hv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gv(){return this.each(Hv)}function Qv(t){var e="function"==typeof t?t:Lm(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qv(){return null}function Vv(t,e){var n="function"==typeof t?t:Lm(t),r=null==e?qv:"function"==typeof e?e:Cm(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Wv(){var t=this.parentNode;t&&t.removeChild(this)}function $v(){return this.each(Wv)}function Xv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jv(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kv(t){return this.select(t?Jv:Xv)}function tb(t){return arguments.length?this.property("__data__",t):this.node().__data__}Iv.prototype={add:function(t){var e;this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var eb={},nb=null,rb;function ib(n,t,e){return n=ob(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function ob(n,r,i){return function(t){var e=nb;nb=t;try{n.call(this,this.__data__,r,i)}finally{nb=e}}}function ab(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function sb(o){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,i;e<r;++e)i=t[e],o.type&&i.type!==o.type||i.name!==o.name?t[++n]=i:this.removeEventListener(i.type,i.listener,i.capture);++n?t.length=n:delete this.__on}}}function lb(l,c,u){var d=eb.hasOwnProperty(l.type)?ib:ob;return function(t,e,n){var r=this.__on,i,o=d(c,e,n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===l.type&&i.name===l.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=u),void(i.value=c);this.addEventListener(l.type,o,u),i={type:l.type,name:l.name,value:c,listener:o,capture:u},r?r.push(i):this.__on=[i]}}function cb(t,e,n){var r=ab(t+""),i,o=r.length,a;if(!(arguments.length<2)){for(s=e?lb:sb,null==n&&(n=!1),i=0;i<o;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var l=0,c=s.length,u;l<c;++l)for(i=0,u=s[l];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}function ub(t,e,n){var r=gv(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function db(t,e){return function(){return ub(this,t,e)}}function fb(t,e){return function(){return ub(this,t,e.apply(this,arguments))}}function hb(t,e){return this.each(("function"==typeof e?fb:db)(t,e))}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(eb={mouseenter:"mouseover",mouseleave:"mouseout"}));var pb=[null];function gb(t,e){this._groups=t,this._parents=e}function _b(){return new gb([[document.documentElement]],pb)}function yb(t){return"string"==typeof t?new gb([[document.querySelector(t)]],[document.documentElement]):new gb([[t]],pb)}function mb(){for(var t=nb,e;e=t.sourceEvent;)t=e;return t}function vb(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function bb(t){var e=mb();return e.changedTouches&&(e=e.changedTouches[0]),vb(t,e)}function xb(e,n){return Object.keys(n).forEach(function(t){void 0===e[t]&&(e[t]=n[t])}),e}gb.prototype=_b.prototype={constructor:gb,select:Om,selectAll:Ym,filter:Fm,data:Wm,enter:Zm,exit:$m,join:Xm,merge:Jm,order:Km,sort:tv,call:nv,nodes:rv,node:iv,size:ov,empty:av,each:sv,attr:pv,style:vv,property:kv,classed:Lv,text:Pv,html:Fv,raise:Zv,lower:Gv,append:Qv,insert:Vv,remove:$v,clone:Kv,datum:tb,on:cb,dispatch:hb};var wb=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),Mb=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),kb=Object.freeze(xb({axis_visible:!1},Mb)),jb=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function Ab(t,e,n){t[e]||(t[e]={}),xb(t[e],n)}function Ib(t){var e=Ab.bind(null,t=t||{});return e("x",wb),e("y",Mb),e("y2",kb),e("background",jb),t}function Tb(t){return"svg"===t.tagName.toLowerCase()}function Nb(t){var n,n=t&&t.select&&t.selectAll?yb(t.node()):yb(t),r=n.node();if(!r)throw new Error("Chart layout instance must have a target");var i=Tb(r),e;return{container:n,getSvg:function t(){if(i)return n;for(var e=r.parentElement;e&&!Tb(e);)e=e.parentElement;if(!Tb(e))throw new Error("target must be an SVG or a descendant of an SVG");return yb(e)}}}function zb(t){var e=t.append("g").attr("class","fl-chart-background");e.append("rect").attr("class","fl-chart-fill"),e.append("image").attr("class","fl-chart-image"),e.append("rect").attr("class","fl-chart-interaction").style("opacity",0)}function Sb(t){var e=t.append("g").attr("class","fl-gridlines").style("pointer-events","none");e.append("g").attr("class","fl-gridlines-vertical"),e.append("g").attr("class","fl-gridlines-horizontal")}function Eb(t){var e=t.append("g").attr("class","fl-axes"),n=e.append("g").attr("class","fl-x-axes"),r=e.append("g").attr("class","fl-y-axes"),i=n.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis");i.append("g").attr("class","fl-axis-line"),i.append("g").attr("class","fl-axis-ticks"),i.append("g").attr("class","fl-axis-title");var o=n.append("g").attr("class","fl-axis fl-x-axis fl-top-axis");o.append("g").attr("class","fl-axis-line"),o.append("g").attr("class","fl-axis-ticks"),o.append("g").attr("class","fl-axis-title");var a=r.append("g").attr("class","fl-axis fl-y-axis fl-left-axis");a.append("g").attr("class","fl-axis-line"),a.append("g").attr("class","fl-axis-ticks"),a.append("g").attr("class","fl-axis-title");var s=r.append("g").attr("class","fl-axis fl-y-axis fl-right-axis");s.append("g").attr("class","fl-axis-line"),s.append("g").attr("class","fl-axis-ticks"),s.append("g").attr("class","fl-axis-title")}function Lb(t){var e=t.container.append("g").attr("class","fl-chart");return e.append("clipPath").attr("class","fl-data-clip-path").append("rect"),e.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),zb(e),e.append("g").attr("class","fl-data-background"),Sb(e),Eb(e),e.append("g").attr("class","fl-data-foreground"),e}var Db=0;function Cb(e){var n="fl-chart-layout-"+Db++;return function(t){return void 0===t?n:(n=t,e)}}function Ob(t){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yb(t,e,n){return e&&Rb(t.prototype,e),n&&Rb(t,n),t}function Ub(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bb(t,e)}function Fb(t){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Bb(t,e){return(Bb=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}function Zb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function Hb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gb(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?Hb(t):e}function Qb(i){var o=Zb();return function t(){var e=Fb(i),n,r,n;return Gb(this,n=o?(r=Fb(this).constructor,Reflect.construct(e,arguments,r)):e.apply(this,arguments))}}function qb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fb(t)););return t}function Vb(t,e,n){return(Vb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function t(e,n,r){var i=qb(e,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(r):o.value}})(t,e,n||t)}function Wb(t,e){return Jb(t)||tx(t,e)||ex(t,e)||ix()}function $b(t){return Xb(t)||Kb(t)||ex(t)||rx()}function Xb(t){if(Array.isArray(t))return nx(t)}function Jb(t){if(Array.isArray(t))return t}function Kb(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function tx(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function ex(t,e){if(t){if("string"==typeof t)return nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nx(t,e):void 0}}function nx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ix(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ox(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ex(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,a=!1,s;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}var ax=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),sx=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});function lx(e){var n=ax;return function(t){return void 0===t?n:(n=t?"object"!==Ob(t)?ax:Object.freeze({left:!!t.left,top:!!t.top,right:!!t.right,bottom:!!t.bottom}):sx,e)}}var cx={value:function(){}};function ux(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new dx(n)}function dx(t){this._=t}function fx(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function hx(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function px(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=cx,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}dx.prototype=ux.prototype={constructor:dx,on:function(t,e){var n=this._,r=fx(t+"",n),i,o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=px(n[i],t.name,e);else if(null==e)for(i in n)n[i]=px(n[i],t.name,null);return this}for(;++o<a;)if((i=(t=r[o]).type)&&(i=hx(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new dx(t)},call:function(t,e){if(0<(i=arguments.length-2))for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(o=this._[t]).length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var gx=0,_x=0,yx=0,mx=1e3,vx,bx,xx=0,wx=0,Mx=0,kx="object"==typeof performance&&performance.now?performance:Date,jx="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ax(){return wx||(jx(Ix),wx=kx.now()+Mx)}function Ix(){wx=0}function Tx(){this._call=this._time=this._next=null}function Nx(t,e,n){var r=new Tx;return r.restart(t,e,n),r}function zx(){Ax(),++gx;for(var t=vx,e;t;)0<=(e=wx-t._time)&&t._call.call(null,e),t=t._next;--gx}function Sx(){wx=(xx=kx.now())+Mx,gx=_x=0;try{zx()}finally{gx=0,Lx(),wx=0}}function Ex(){var t=kx.now(),e=t-xx;mx<e&&(Mx-=e,xx=t)}function Lx(){for(var t,e=vx,n,r=1/0;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:vx=n);bx=t,Dx(r)}function Dx(t){var e;gx||(_x=_x&&clearTimeout(_x),24<t-wx?(t<1/0&&(_x=setTimeout(Sx,t-kx.now()-Mx)),yx=yx&&clearInterval(yx)):(yx||(xx=kx.now(),yx=setInterval(Ex,mx)),gx=1,jx(Sx)))}function Cx(e,n,t){var r=new Tx;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}Tx.prototype=Nx.prototype={constructor:Tx,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ax():+n)+(null==e?0:+e),this._next||bx===this||(bx?bx._next=this:vx=this,bx=this),this._call=t,this._time=n,Dx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dx())}};var Ox=ux("start","end","cancel","interrupt"),Px=[],Rx=0,Yx=1,Ux=2,Fx=3,Bx=4,Zx=5,Hx=6;function Gx(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Wx(t,n,{name:e,index:r,group:i,on:Ox,tween:Px,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Rx})}function Qx(t,e){var n=Vx(t,e);if(n.state>Rx)throw new Error("too late; already scheduled");return n}function qx(t,e){var n=Vx(t,e);if(n.state>Fx)throw new Error("too late; already running");return n}function Vx(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Wx(o,a,s){var l=o.__transition,c;function t(t){s.state=Yx,s.timer.restart(u,s.delay,s.time),s.delay<=t&&u(t-s.delay)}function u(t){var e,n,r,i;if(s.state!==Yx)return f();for(e in l)if((i=l[e]).name===s.name){if(i.state===Fx)return Cx(u);i.state===Bx?(i.state=Hx,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[e]):+e<a&&(i.state=Hx,i.timer.stop(),i.on.call("cancel",o,o.__data__,i.index,i.group),delete l[e])}if(Cx(function(){s.state===Fx&&(s.state=Bx,s.timer.restart(d,s.delay,s.time),d(t))}),s.state=Ux,s.on.call("start",o,o.__data__,s.index,s.group),s.state===Ux){for(s.state=Fx,c=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(i=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(c[++n]=i);c.length=n+1}}function d(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(f),s.state=Zx,1),n=-1,r=c.length;++n<r;)c[n].call(o,e);s.state===Zx&&(s.on.call("end",o,o.__data__,s.index,s.group),f())}function f(){for(var t in s.state=Hx,s.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=s).timer=Nx(t,0,s.time)}function $x(t,e){var n=t.__transition,r,i,o=!0,a;if(n){for(a in e=null==e?null:e+"",n)(r=n[a]).name===e?(i=r.state>Ux&&r.state<Zx,r.state=Hx,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]):o=!1;o&&delete t.__transition}}function Xx(t){return this.each(function(){$x(this,t)})}function Jx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kx(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tw(){}var ew=.7,nw=1/.7,rw="\\s*([+-]?\\d+)\\s*",iw="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ow="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aw=/^#([0-9a-f]{3,8})$/,sw=new RegExp("^rgb\\("+[rw,rw,rw]+"\\)$"),lw=new RegExp("^rgb\\("+[ow,ow,ow]+"\\)$"),cw=new RegExp("^rgba\\("+[rw,rw,rw,iw]+"\\)$"),uw=new RegExp("^rgba\\("+[ow,ow,ow,iw]+"\\)$"),dw=new RegExp("^hsl\\("+[iw,ow,ow]+"\\)$"),fw=new RegExp("^hsla\\("+[iw,ow,ow,iw]+"\\)$"),hw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pw(){return this.rgb().formatHex()}function gw(){return Iw(this).formatHsl()}function _w(){return this.rgb().formatRgb()}function yw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?mw(e):3===n?new ww(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?vw(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?vw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=sw.exec(t))?new ww(e[1],e[2],e[3],1):(e=lw.exec(t))?new ww(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=cw.exec(t))?vw(e[1],e[2],e[3],e[4]):(e=uw.exec(t))?vw(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=dw.exec(t))?Aw(e[1],e[2]/100,e[3]/100,1):(e=fw.exec(t))?Aw(e[1],e[2]/100,e[3]/100,e[4]):hw.hasOwnProperty(t)?mw(hw[t]):"transparent"===t?new ww(NaN,NaN,NaN,0):null}function mw(t){return new ww(t>>16&255,t>>8&255,255&t,1)}function vw(t,e,n,r){return r<=0&&(t=e=n=NaN),new ww(t,e,n,r)}function bw(t){return t instanceof tw||(t=yw(t)),t?new ww((t=t.rgb()).r,t.g,t.b,t.opacity):new ww}function xw(t,e,n,r){return 1===arguments.length?bw(t):new ww(t,e,n,null==r?1:r)}function ww(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Mw(){return"#"+jw(this.r)+jw(this.g)+jw(this.b)}function kw(){var t=this.opacity,t;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function jw(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Aw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Nw(t,e,n,r)}function Iw(t){if(t instanceof Nw)return new Nw(t.h,t.s,t.l,t.opacity);if(t instanceof tw||(t=yw(t)),!t)return new Nw;if(t instanceof Nw)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=0<l&&l<1?0:a,new Nw(a,s,l,t.opacity)}function Tw(t,e,n,r){return 1===arguments.length?Iw(t):new Nw(t,e,n,null==r?1:r)}function Nw(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function zw(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Jx(tw,yw,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:pw,formatHex:pw,formatHsl:gw,formatRgb:_w,toString:_w}),Jx(ww,xw,Kx(tw,{brighter:function(t){return t=null==t?nw:Math.pow(nw,t),new ww(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ww(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mw,formatHex:Mw,formatRgb:kw,toString:kw})),Jx(Nw,Tw,Kx(tw,{brighter:function(t){return t=null==t?nw:Math.pow(nw,t),new Nw(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Nw(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ww(zw(240<=t?t-240:120+t,i,r),zw(t,i,r),zw(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity,t;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Sw=Math.PI/180,Ew=180/Math.PI,Lw=18,Dw=.96422,Cw=1,Ow=.82521,Pw=4/29,Rw=6/29,Yw=3*Rw*Rw,Uw=Rw*Rw*Rw;function Fw(t){if(t instanceof Zw)return new Zw(t.l,t.a,t.b,t.opacity);if(t instanceof $w)return Xw(t);t instanceof ww||(t=bw(t));var e=qw(t.r),n=qw(t.g),r=qw(t.b),i=Hw((.2225045*e+.7168786*n+.0606169*r)/Cw),o,a;return e===n&&n===r?o=a=i:(o=Hw((.4360747*e+.3850649*n+.1430804*r)/Dw),a=Hw((.0139322*e+.0971045*n+.7141733*r)/Ow)),new Zw(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Bw(t,e,n,r){return 1===arguments.length?Fw(t):new Zw(t,e,n,null==r?1:r)}function Zw(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Hw(t){return Uw<t?Math.pow(t,1/3):t/Yw+Pw}function Gw(t){return Rw<t?t*t*t:Yw*(t-Pw)}function Qw(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function qw(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Vw(t){if(t instanceof $w)return new $w(t.h,t.c,t.l,t.opacity);if(t instanceof Zw||(t=Fw(t)),0===t.a&&0===t.b)return new $w(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ew;return new $w(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ww(t,e,n,r){return 1===arguments.length?Vw(t):new $w(t,e,n,null==r?1:r)}function $w(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Xw(t){if(isNaN(t.h))return new Zw(t.l,0,0,t.opacity);var e=t.h*Sw;return new Zw(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Jx(Zw,Bw,Kx(tw,{brighter:function(t){return new Zw(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Zw(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200,e,t,n;return new ww(Qw(3.1338561*(e=Dw*Gw(e))-1.6168667*(t=Cw*Gw(t))-.4906146*(n=Ow*Gw(n))),Qw(-.9787684*e+1.9161415*t+.033454*n),Qw(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Jx($w,Ww,Kx(tw,{brighter:function(t){return new $w(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new $w(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Xw(this).rgb()}}));var Jw=-.14861,Kw=1.78277,tM=-.29227,eM=-.90649,nM=1.97294,rM=nM*eM,iM=nM*Kw,oM=Kw*tM-eM*Jw;function aM(t){if(t instanceof lM)return new lM(t.h,t.s,t.l,t.opacity);t instanceof ww||(t=bw(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(oM*r+rM*e-iM*n)/(oM+rM-iM),o=r-i,a=(nM*(n-i)-tM*o)/eM,s=Math.sqrt(a*a+o*o)/(nM*i*(1-i)),l=s?Math.atan2(a,o)*Ew-120:NaN;return new lM(l<0?l+360:l,s,i,t.opacity)}function sM(t,e,n,r){return 1===arguments.length?aM(t):new lM(t,e,n,null==r?1:r)}function lM(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function cM(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function uM(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<s-1?a[e+2]:2*r-n;return cM((t-e/s)*s,i,n,r,o)}}function dM(t){return function(){return t}}function fM(e,n){return function(t){return e+t*n}}function hM(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}function pM(t,e){var n=e-t;return n?fM(t,180<n||n<-180?n-360*Math.round(n/360):n):dM(isNaN(t)?e:t)}function gM(n){return 1==(n=+n)?_M:function(t,e){return e-t?hM(t,e,n):dM(isNaN(t)?e:t)}}function _M(t,e){var n=e-t;return n?fM(t,n):dM(isNaN(t)?e:t)}Jx(lM,sM,Kx(tw,{brighter:function(t){return t=null==t?nw:Math.pow(nw,t),new lM(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new lM(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Sw,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ww(255*(e+n*(Jw*r+Kw*i)),255*(e+n*(tM*r+eM*i)),255*(e+nM*r*n),this.opacity)}}));var yM=function t(e){var a=gM(e);function n(e,t){var n=a((e=xw(e)).r,(t=xw(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=_M(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function mM(s){return function(t){for(var e=t.length,n=new Array(e),r=new Array(e),i=new Array(e),o,a,o=0;o<e;++o)a=xw(t[o]),n[o]=a.r||0,r[o]=a.g||0,i[o]=a.b||0;return n=s(n),r=s(r),i=s(i),a.opacity=1,function(t){return a.r=n(t),a.g=r(t),a.b=i(t),a+""}}}var vM=mM(uM);function bM(e,n){n=n||[];var r=e?Math.min(n.length,e.length):0,i=n.slice(),o;return function(t){for(o=0;o<r;++o)i[o]=e[o]*(1-t)+n[o]*t;return i}}function xM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wM(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a,a=0;a<r;++a)i[a]=SM(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}function MM(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}function kM(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function jM(t,e){var n={},r={},i;for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?n[i]=SM(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}var AM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IM=new RegExp(AM.source,"g");function TM(t){return function(){return t}}function NM(e){return function(t){return e(t)+""}}function zM(t,r){var e=AM.lastIndex=IM.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t+="",r+="";(n=AM.exec(t))&&(i=IM.exec(r));)(o=i.index)>e&&(o=r.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:kM(n,i)})),e=IM.lastIndex;return e<r.length&&(o=r.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?NM(l[0].x):TM(r):(r=l.length,function(t){for(var e=0,n;e<r;++e)s[(n=l[e]).i]=n.x(t);return s.join("")})}function SM(t,e){var n=typeof e,r;return null==e||"boolean"==n?dM(e):("number"==n?kM:"string"==n?(r=yw(e))?(e=r,yM):zM:e instanceof yw?yM:e instanceof Date?MM:xM(e)?bM:Array.isArray(e)?wM:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?jM:kM)(t,e)}function EM(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var LM=180/Math.PI,DM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},CM,OM,PM,RM;function YM(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*LM,skewX:Math.atan(l)*LM,scaleX:a,scaleY:s}}function UM(t){return"none"===t?DM:(CM||(CM=document.createElement("DIV"),OM=document.documentElement,PM=document.defaultView),CM.style.transform=t,t=PM.getComputedStyle(OM.appendChild(CM),null).getPropertyValue("transform"),OM.removeChild(CM),YM(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function FM(t){return null==t?DM:((RM=RM||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=RM.transform.baseVal.consolidate())?YM((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):DM)}function BM(n,s,l,i){function c(t){return t.length?t.pop()+" ":""}function r(t,e,n,r,i,o){var a;t!==n||e!==r?(a=i.push("translate(",null,s,null,l),o.push({i:a-4,x:kM(t,n)},{i:a-2,x:kM(e,r)})):(n||r)&&i.push("translate("+n+s+r+l)}function a(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(c(n)+"rotate(",null,i)-2,x:kM(t,e)})):e&&n.push(c(n)+"rotate("+e+i)}function u(t,e,n,r){t!==e?r.push({i:n.push(c(n)+"skewX(",null,i)-2,x:kM(t,e)}):e&&n.push(c(n)+"skewX("+e+i)}function d(t,e,n,r,i,o){var a;t!==n||e!==r?(a=i.push(c(i)+"scale(",null,",",null,")"),o.push({i:a-4,x:kM(t,n)},{i:a-2,x:kM(e,r)})):1===n&&1===r||i.push(c(i)+"scale("+n+","+r+")")}return function(t,e){var i=[],o=[];return t=n(t),e=n(e),r(t.translateX,t.translateY,e.translateX,e.translateY,i,o),a(t.rotate,e.rotate,i,o),u(t.skewX,e.skewX,i,o),d(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,o),t=e=null,function(t){for(var e=-1,n=o.length,r;++e<n;)i[(r=o[e]).i]=r.x(t);return i.join("")}}}var ZM=BM(UM,"px, ","px)","deg)"),HM=BM(FM,", ",")",")");function GM(a){return function(e,t){var n=a((e=Tw(e)).h,(t=Tw(t)).h),r=_M(e.s,t.s),i=_M(e.l,t.l),o=_M(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var QM=GM(pM);function qM(e,t){var n=_M((e=Bw(e)).l,(t=Bw(t)).l),r=_M(e.a,t.a),i=_M(e.b,t.b),o=_M(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function VM(a){return function(e,t){var n=a((e=Ww(e)).h,(t=Ww(t)).h),r=_M(e.c,t.c),i=_M(e.l,t.l),o=_M(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var WM=VM(pM);function $M(s){return function t(a){function e(e,t){var n=s((e=sM(e)).h,(t=sM(t)).h),r=_M(e.s,t.s),i=_M(e.l,t.l),o=_M(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}$M(pM);var XM=$M(_M);function JM(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function KM(i,o){var a,s;return function(){var t=qx(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}function tk(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=qx(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}}function ek(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Vx(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((null==e?KM:tk)(n,t,e))}function nk(t,e,n){var r=t._id;return t.each(function(){var t=qx(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Vx(t,r).value[e]}}function rk(t,e){var n;return("number"==typeof e?kM:e instanceof yw?yM:(n=yw(e))?(e=n,yM):zM)(t,e)}function ik(t){return function(){this.removeAttribute(t)}}function ok(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ak(e,n,r){var i,o=r+"",a;return function(){var t=this.getAttribute(e);return t===o?null:t===i?a:a=n(i=t,r)}}function sk(e,n,r){var i,o=r+"",a;return function(){var t=this.getAttributeNS(e.space,e.local);return t===o?null:t===i?a:a=n(i=t,r)}}function lk(r,i,o){var a,s,l;return function(){var t,e=o(this),n;if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===a&&n===s?l:(s=n,l=i(a=t,e));this.removeAttribute(r)}}function ck(r,i,o){var a,s,l;return function(){var t,e=o(this),n;if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===a&&n===s?l:(s=n,l=i(a=t,e));this.removeAttributeNS(r.space,r.local)}}function uk(t,e){var n=zm(t),r="transform"===n?HM:rk;return this.attrTween(t,"function"==typeof e?(n.local?ck:lk)(n,r,nk(this,"attr."+t,e)):null==e?(n.local?ok:ik)(n):(n.local?sk:ak)(n,r,e))}function dk(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function fk(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function hk(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&fk(e,t)),r}return t._value=n,t}function pk(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&dk(e,t)),r}return t._value=n,t}function gk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=zm(t);return this.tween(n,(r.local?hk:pk)(r,e))}function _k(t,e){return function(){Qx(this,t).delay=+e.apply(this,arguments)}}function yk(t,e){return e=+e,function(){Qx(this,t).delay=e}}function mk(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_k:yk)(e,t)):Vx(this.node(),e).delay}function vk(t,e){return function(){qx(this,t).duration=+e.apply(this,arguments)}}function bk(t,e){return e=+e,function(){qx(this,t).duration=e}}function xk(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vk:bk)(e,t)):Vx(this.node(),e).duration}function wk(t,e){if("function"!=typeof e)throw new Error;return function(){qx(this,t).ease=e}}function Mk(t){var e=this._id;return arguments.length?this.each(wk(e,t)):Vx(this.node(),e).ease}function kk(t){"function"!=typeof t&&(t=Um(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new Kk(r,this._parents,this._name,this._id)}function jk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,d=a[s]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;s<r;++s)a[s]=e[s];return new Kk(a,this._parents,this._name,this._id)}function Ak(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function Ik(n,r,i){var o,a,s=Ak(r)?Qx:qx;return function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}}function Tk(t,e){var n=this._id;return arguments.length<2?Vx(this.node(),n).on.on(t):this.each(Ik(n,t,e))}function Nk(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function zk(){return this.on("end.remove",Nk(this._id))}function Sk(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Cm(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,c=o[a]=new Array(l),u,d,f=0;f<l;++f)(u=s[f])&&(d=t.call(u,u.__data__,f,s))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Gx(c[f],e,n,f,c,Vx(u,n)));return new Kk(o,this._parents,e,n)}function Ek(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Rm(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=t.call(u,u.__data__,d,l),h,p=Vx(u,n),g=0,_=f.length;g<_;++g)(h=f[g])&&Gx(h,e,n,g,f,p);o.push(f),a.push(u)}return new Kk(o,a,e,n)}var Lk=_b.prototype.constructor;function Dk(){return new Lk(this._groups,this._parents)}function Ck(n,r){var i,o,a;return function(){var t=bv(this,n),e=(this.style.removeProperty(n),bv(this,n));return t===e?null:t===i&&e===o?a:a=r(i=t,o=e)}}function Ok(t){return function(){this.style.removeProperty(t)}}function Pk(e,n,r){var i,o=r+"",a;return function(){var t=bv(this,e);return t===o?null:t===i?a:a=n(i=t,r)}}function Rk(r,i,o){var a,s,l;return function(){var t=bv(this,r),e=o(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=bv(this,r)),t===n?null:t===a&&n===s?l:(s=n,l=i(a=t,e))}}function Yk(r,i){var o,a,s,l="style."+i,c="end."+l,u;return function(){var t=qx(this,r),e=t.on,n=null==t.value[l]?u=u||Ok(i):void 0;e===o&&s===n||(a=(o=e).copy()).on(c,s=n),t.on=a}}function Uk(t,e,n){var r="transform"==(t+="")?ZM:rk;return null==e?this.styleTween(t,Ck(t,r)).on("end.style."+t,Ok(t)):"function"==typeof e?this.styleTween(t,Rk(t,r,nk(this,"style."+t,e))).each(Yk(this._id,t)):this.styleTween(t,Pk(t,r,e),n).on("end.style."+t,null)}function Fk(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}function Bk(e,n,r){var i,o;function t(){var t=n.apply(this,arguments);return t!==o&&(i=(o=t)&&Fk(e,t,r)),i}return t._value=n,t}function Zk(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Bk(t,e,null==n?"":n))}function Hk(t){return function(){this.textContent=t}}function Gk(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Qk(t){return this.tween("text","function"==typeof t?Gk(nk(this,"text",t)):Hk(null==t?"":t+""))}function qk(e){return function(t){this.textContent=e.call(this,t)}}function Vk(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&qk(t)),n}return t._value=e,t}function Wk(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Vk(t))}function $k(){for(var t=this._name,e=this._id,n=ej(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0,u;c<s;++c){(l=a[c])&&Gx(l,t,n,c,a,{time:(u=Vx(l,e)).time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Kk(r,this._parents,t,n)}function Xk(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=qx(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}var Jk=0;function Kk(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function tj(t){return _b().transition(t)}function ej(){return++Jk}var nj=_b.prototype;function rj(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Kk.prototype=tj.prototype={constructor:Kk,select:Sk,selectAll:Ek,filter:kk,merge:jk,selection:Dk,transition:$k,call:nj.call,nodes:nj.nodes,node:nj.node,size:nj.size,empty:nj.empty,each:nj.each,on:Tk,attr:uk,attrTween:gk,style:Uk,styleTween:Zk,text:Qk,textTween:Wk,remove:zk,tween:ek,delay:mk,duration:xk,ease:Mk,end:Xk};var ij={time:null,delay:0,duration:250,ease:rj};function oj(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ij.time=Ax(),ij;return n}function aj(t){var e,n;t=t instanceof Kk?(e=t._id,t._name):(e=ej(),(n=ij).time=Ax(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&Gx(l,t,e,c,a,n||oj(l,e));return new Kk(r,this._parents,t,e)}function sj(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}function lj(t){return""+t}function cj(e){var n=lj;return function(t){return void 0===t?n||lj:(n=t,e)}}_b.prototype.interrupt=Xx,_b.prototype.transition=aj;var uj=new Date,dj=new Date;function fj(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r=[],i;if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return r;for(;r.push(i=new Date(+t)),a(t,n),o(t),i<t&&t<e;);return r},s.filter=function(n){return fj(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return uj.setTime(+t),dj.setTime(+e),o(uj),o(dj),Math.floor(n(uj,dj))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var hj=fj(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});hj.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?fj(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):hj:null};var pj=1e3,gj=6e4,_j=36e5,yj=864e5,mj=6048e5,vj=fj(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*pj)},function(t,e){return(e-t)/pj},function(t){return t.getUTCSeconds()}),bj=fj(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pj)},function(t,e){t.setTime(+t+e*gj)},function(t,e){return(e-t)/gj},function(t){return t.getMinutes()}),xj=fj(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pj-t.getMinutes()*gj)},function(t,e){t.setTime(+t+e*_j)},function(t,e){return(e-t)/_j},function(t){return t.getHours()}),wj=fj(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gj)/yj},function(t){return t.getDate()-1});function Mj(e){return fj(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gj)/mj})}var kj=Mj(0),jj=Mj(1),Aj=Mj(2),Ij=Mj(3),Tj=Mj(4),Nj=Mj(5),zj=Mj(6),Sj=fj(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Ej=fj(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ej.every=function(n){return isFinite(n=Math.floor(n))&&0<n?fj(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Lj=fj(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/yj},function(t){return t.getUTCDate()-1});function Dj(e){return fj(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/mj})}var Cj=Dj(0),Oj=Dj(1),Pj=Dj(2),Rj=Dj(3),Yj=Dj(4),Uj=Dj(5),Fj=Dj(6),Bj=fj(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function Zj(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hj(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gj(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Qj(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=iA(e),u=oA(e),d=iA(n),f=oA(n),h=iA(a),p=oA(a),g=iA(s),_=oA(s),y=iA(l),m=oA(l),v={a:L,A:D,b:C,B:O,c:null,d:AA,e:AA,f:SA,g:BA,G:HA,H:IA,I:TA,j:NA,L:zA,m:EA,M:LA,p:P,q:R,Q:hI,s:pI,S:DA,u:CA,U:OA,V:RA,w:YA,W:UA,x:null,X:null,y:FA,Y:ZA,Z:GA,"%":fI},b={a:Y,A:U,b:F,B:B,c:null,d:QA,e:QA,f:XA,g:lI,G:uI,H:qA,I:VA,j:WA,L:$A,m:JA,M:KA,p:Z,q:H,Q:hI,s:pI,S:tI,u:eI,U:nI,V:iI,w:oI,W:aI,x:null,X:null,y:sI,Y:cI,Z:dI,"%":fI},x={a:A,A:I,b:T,B:N,c:z,d:_A,e:_A,f:wA,g:fA,G:dA,H:mA,I:mA,j:yA,L:xA,m:gA,M:vA,p:j,q:pA,Q:kA,s:jA,S:bA,u:sA,U:lA,V:cA,w:aA,W:uA,x:S,X:E,y:fA,Y:dA,Z:hA,"%":MA};function w(l,c){return function(t){var e=[],n=-1,r=0,i=l.length,o,a,s;for(t instanceof Date||(t=new Date(+t));++n<i;)37===l.charCodeAt(n)&&(e.push(l.slice(r,n)),null!=(a=qj[o=l.charAt(++n)])?o=l.charAt(++n):a="e"===o?" ":"0",(s=c[o])&&(o=s(t,a)),e.push(o),r=n+1);return e.push(l.slice(r,n)),e.join("")}}function M(o,a){return function(t){var e=Gj(1900,void 0,1),n,r,i;if(k(e,o,t+="",0)!=t.length)return null;if("Q"in e)return new Date(e.Q);if("s"in e)return new Date(1e3*e.s+("L"in e?e.L:0));if(!a||"Z"in e||(e.Z=0),"p"in e&&(e.H=e.H%12+12*e.p),void 0===e.m&&(e.m="q"in e?e.q:0),"V"in e){if(e.V<1||53<e.V)return null;"w"in e||(e.w=1),"Z"in e?(r=4<(i=(r=Hj(Gj(e.y,0,1))).getUTCDay())||0===i?Oj.ceil(r):Oj(r),r=Lj.offset(r,7*(e.V-1)),e.y=r.getUTCFullYear(),e.m=r.getUTCMonth(),e.d=r.getUTCDate()+(e.w+6)%7):(r=4<(i=(r=Zj(Gj(e.y,0,1))).getDay())||0===i?jj.ceil(r):jj(r),r=wj.offset(r,7*(e.V-1)),e.y=r.getFullYear(),e.m=r.getMonth(),e.d=r.getDate()+(e.w+6)%7)}else("W"in e||"U"in e)&&("w"in e||(e.w="u"in e?e.u%7:"W"in e?1:0),i="Z"in e?Hj(Gj(e.y,0,1)).getUTCDay():Zj(Gj(e.y,0,1)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(i+5)%7:e.w+7*e.U-(i+6)%7);return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,Hj(e)):Zj(e)}}function k(t,e,n,r){for(var i=0,o=e.length,a=n.length,s,l;i<o;){if(a<=r)return-1;if(37===(s=e.charCodeAt(i++))){if(s=e.charAt(i++),!(l=x[s in qj?e.charAt(i++):s])||(r=l(t,n,r))<0)return-1}else if(s!=n.charCodeAt(r++))return-1}return r}function j(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1}function A(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function I(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1}function T(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1}function z(t,e,n){return k(t,r,e,n)}function S(t,e,n){return k(t,i,e,n)}function E(t,e,n){return k(t,o,e,n)}function L(t){return a[t.getDay()]}function D(t){return n[t.getDay()]}function C(t){return l[t.getMonth()]}function O(t){return s[t.getMonth()]}function P(t){return e[+(12<=t.getHours())]}function R(t){return 1+~~(t.getMonth()/3)}function Y(t){return a[t.getUTCDay()]}function U(t){return n[t.getUTCDay()]}function F(t){return l[t.getUTCMonth()]}function B(t){return s[t.getUTCMonth()]}function Z(t){return e[+(12<=t.getUTCHours())]}function H(t){return 1+~~(t.getUTCMonth()/3)}return v.x=w(i,v),v.X=w(o,v),v.c=w(r,v),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}Bj.every=function(n){return isFinite(n=Math.floor(n))&&0<n?fj(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var qj={"-":"",_:" ",0:"0"},Vj=/^\s*\d+/,Wj=/^%/,$j=/[\\^$*+?|[\]().{}]/g,Xj,Jj,Kj,tA,eA;function nA(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function rA(t){return t.replace($j,"\\$&")}function iA(t){return new RegExp("^(?:"+t.map(rA).join("|")+")","i")}function oA(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function aA(t,e,n){var r=Vj.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sA(t,e,n){var r=Vj.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function cA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dA(t,e,n){var r=Vj.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function hA(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pA(t,e,n){var r=Vj.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function gA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _A(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function yA(t,e,n){var r=Vj.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function vA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bA(t,e,n){var r=Vj.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xA(t,e,n){var r=Vj.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wA(t,e,n){var r=Vj.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function MA(t,e,n){var r=Wj.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kA(t,e,n){var r=Vj.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jA(t,e,n){var r=Vj.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AA(t,e){return nA(t.getDate(),e,2)}function IA(t,e){return nA(t.getHours(),e,2)}function TA(t,e){return nA(t.getHours()%12||12,e,2)}function NA(t,e){return nA(1+wj.count(Ej(t),t),e,3)}function zA(t,e){return nA(t.getMilliseconds(),e,3)}function SA(t,e){return zA(t,e)+"000"}function EA(t,e){return nA(t.getMonth()+1,e,2)}function LA(t,e){return nA(t.getMinutes(),e,2)}function DA(t,e){return nA(t.getSeconds(),e,2)}function CA(t){var e=t.getDay();return 0===e?7:e}function OA(t,e){return nA(kj.count(Ej(t)-1,t),e,2)}function PA(t){var e=t.getDay();return 4<=e||0===e?Tj(t):Tj.ceil(t)}function RA(t,e){return t=PA(t),nA(Tj.count(Ej(t),t)+(4===Ej(t).getDay()),e,2)}function YA(t){return t.getDay()}function UA(t,e){return nA(jj.count(Ej(t)-1,t),e,2)}function FA(t,e){return nA(t.getFullYear()%100,e,2)}function BA(t,e){return nA((t=PA(t)).getFullYear()%100,e,2)}function ZA(t,e){return nA(t.getFullYear()%1e4,e,4)}function HA(t,e){var n=t.getDay();return nA((t=4<=n||0===n?Tj(t):Tj.ceil(t)).getFullYear()%1e4,e,4)}function GA(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+nA(e/60|0,"0",2)+nA(e%60,"0",2)}function QA(t,e){return nA(t.getUTCDate(),e,2)}function qA(t,e){return nA(t.getUTCHours(),e,2)}function VA(t,e){return nA(t.getUTCHours()%12||12,e,2)}function WA(t,e){return nA(1+Lj.count(Bj(t),t),e,3)}function $A(t,e){return nA(t.getUTCMilliseconds(),e,3)}function XA(t,e){return $A(t,e)+"000"}function JA(t,e){return nA(t.getUTCMonth()+1,e,2)}function KA(t,e){return nA(t.getUTCMinutes(),e,2)}function tI(t,e){return nA(t.getUTCSeconds(),e,2)}function eI(t){var e=t.getUTCDay();return 0===e?7:e}function nI(t,e){return nA(Cj.count(Bj(t)-1,t),e,2)}function rI(t){var e=t.getUTCDay();return 4<=e||0===e?Yj(t):Yj.ceil(t)}function iI(t,e){return t=rI(t),nA(Yj.count(Bj(t),t)+(4===Bj(t).getUTCDay()),e,2)}function oI(t){return t.getUTCDay()}function aI(t,e){return nA(Oj.count(Bj(t)-1,t),e,2)}function sI(t,e){return nA(t.getUTCFullYear()%100,e,2)}function lI(t,e){return nA((t=rI(t)).getUTCFullYear()%100,e,2)}function cI(t,e){return nA(t.getUTCFullYear()%1e4,e,4)}function uI(t,e){var n=t.getUTCDay();return nA((t=4<=n||0===n?Yj(t):Yj.ceil(t)).getUTCFullYear()%1e4,e,4)}function dI(){return"+0000"}function fI(){return"%"}function hI(t){return+t}function pI(t){return Math.floor(t/1e3)}function gI(t){return Xj=Qj(t),Jj=Xj.format,Kj=Xj.parse,tA=Xj.utcFormat,eA=Xj.utcParse,Xj}gI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _I=parseFloat,yI=Kj("%Y-%m-%d");function mI(e){var n=_I;return function(t){return void 0===t?n||_I:(n=t,e)}}function vI(e){var n=yI;return function(t){return void 0===t?n||yI:(n=t,e)}}function bI(e){var n={},r=null,i=null,o=null;return n.width=function(t){return void 0===t?null!==r?r:e.svg.node().getBoundingClientRect().width:(r=t,e)},n.height=function(t){return void 0===t?null!==i?i:null!==o?n.plotHeight()+e.margins.top+e.margins.bottom:null!==i?i:e.svg.node().getBoundingClientRect().height:(i=t,o=null,e)},n.plotAspect=function(t){return void 0===t?null!==o?o:n.plotWidth()/n.plotHeight():(i=null,o=t,e)},n.plotWidth=function(){return e.width()-(e.margins.right+e.margins.left)},n.plotHeight=function(){return null===o?n.height()-(e.margins.top+e.margins.bottom):n.plotWidth()/o},n}function xI(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}function wI(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}function MI(t){var e=[],n=[];return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}var kI=Array.isArray;function jI(t){return t}function AI(n){var t,e,r;return{prop:function(t,e){Object.defineProperty(n,t,{value:e,enumerable:!0})},getter:function(t,e){Object.defineProperty(n,t,{get:e,enumerable:!0})},method:function(t,e){Object.defineProperty(n,t,{value:e})}}}function II(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=r),r+=1,t},{})}function TI(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=r++,t},{})}function NI(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=r++),t},{})}function zI(t,e){var n=II(t,e),r=TI(t,e);return Object.keys(n).reduce(function(t,e){return t[e]=(n[e]+r[e])/2,t},{})}function SI(t,e,n,r){var i,i=("dense"===r?NI:"fractional"===r?zI:"worst"===r?TI:II)(e,n),o="ordinal"===r?function(t){return i[t]++}:function(t){return i[t]};return t.map(o)}function EI(r){return r=r||Math.random,function(t,e){var n=e-t+1;return Math.floor(r()*n)+t}}function LI(t,e){var n;return t[EI(e)(0,t.length-1)]}function DI(t,e,n,r){var i=t.length,o;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var a=EI(r);if(n||1===e){o=[];for(var s=0;s<e;s++)o.push(t[a(0,i-1)]);return o}o=t.slice();for(var l=Math.min(i,e),s=0;s<l;s++){var c=a(s,i-1),u,d;c!==s&&(u=o[c],d=o[s],o[s]=u,o[c]=d)}return o.length=l,o}function CI(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function OI(t){t.method("unsorted",function(){return this.values.slice()}),t.method("ascending",function(){return this.sorted_values.slice()}),t.method("descending",function(){return this.sorted_values.slice().reverse()}),t.method("unique",function(){return MI(this.values)}),t.method("uniqueAscending",function(){return MI(this.sorted_values)}),t.method("uniqueDescending",function(){return MI(this.sorted_values).reverse()})}function PI(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function RI(o){return 1===o.length&&(o=YI(o)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}function YI(n){return function(t,e){return PI(n(t),e)}}var UI,FI=RI(PI).right;function BI(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function ZI(t){return null===t?NaN:+t}function HI(t,e){var n=t.length,r=0,i=-1,o=0,a,s,l=0;if(null==e)for(;++i<n;)isNaN(a=ZI(t[i]))||(l+=(s=a-o)*(a-(o+=s/++r)));else for(;++i<n;)isNaN(a=ZI(e(t[i],i,t)))||(l+=(s=a-o)*(a-(o+=s/++r)));if(1<r)return l/(r-1)}function GI(t,e){var n=t.length,r=-1,i,o,a;if(null==e){for(;++r<n;)if(null!=(i=t[r])&&i<=i)for(o=a=i;++r<n;)null!=(i=t[r])&&(i<o&&(o=i),a<i&&(a=i))}else for(;++r<n;)if(null!=(i=e(t[r],r,t))&&i<=i)for(o=a=i;++r<n;)null!=(i=e(t[r],r,t))&&(i<o&&(o=i),a<i&&(a=i));return[o,a]}function QI(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var qI=Math.sqrt(50),VI=Math.sqrt(10),WI=Math.sqrt(2);function $I(t,e,n){var r,i=-1,o,a,s;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(s=XI(t,e,n))||!isFinite(s))return[];if(0<s)for(t=Math.ceil(t/s),e=Math.floor(e/s),a=new Array(o=Math.ceil(e-t+1));++i<o;)a[i]=(t+i)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),a=new Array(o=Math.ceil(t-e+1));++i<o;)a[i]=(t-i)/s;return r&&a.reverse(),a}function XI(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(qI<=o?10:VI<=o?5:WI<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(qI<=o?10:VI<=o?5:WI<=o?2:1)}function JI(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return qI<=o?i*=10:VI<=o?i*=5:WI<=o&&(i*=2),e<t?-i:i}function KI(t,e,n){if(null==n&&(n=ZI),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s;return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function tT(t,e){var n=t.length,r=-1,i,o;if(null==e){for(;++r<n;)if(null!=(i=t[r])&&i<=i)for(o=i;++r<n;)null!=(i=t[r])&&o<i&&(o=i)}else for(;++r<n;)if(null!=(i=e(t[r],r,t))&&i<=i)for(o=i;++r<n;)null!=(i=e(t[r],r,t))&&o<i&&(o=i);return o}function eT(t,e){var n=t.length,r=-1,i,o;if(null==e){for(;++r<n;)if(null!=(i=t[r])&&i<=i)for(o=i;++r<n;)null!=(i=t[r])&&i<o&&(o=i)}else for(;++r<n;)if(null!=(i=e(t[r],r,t))&&i<=i)for(o=i;++r<n;)null!=(i=e(t[r],r,t))&&i<o&&(o=i);return o}function nT(e,t){return kI(t)?t.map(function(t){return KI(e,t)}):KI(e,t)}function rT(t){var e=function(){return HI(this.values)},n=function(){return Math.sqrt(this.variance)},r=function(){return nT(this.sorted_values,[.25,.5,.75])},i=function(){return nT(this.sorted_values,.5)},o=function(){var t=nT(this.sorted_values,[.25,.75]);return t[1]-t[0]};t.getter("variance",e),t.getter("sd",n),t.getter("median",i),t.getter("iqr",o),t.method("quantiles",function(t){return nT(this.sorted_values,t)}),t.method("quartiles",r)}function iT(t){t.method("random",function(t){return LI(this.values,t)}),t.method("sample",function(t,e,n){return DI(this.values,t,e,n)})}function oT(t){t.method("rank",function(t,e){return SI(this.values,this.sorted_values,t,e)})}function aT(t){t.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return CI(t=t||this.values,this.dropped_indexes,NaN)})}function sT(){var t={},e=AI(t);return OI(e),rT(e),iT(e),oT(e),aT(e),t}function lT(t){var e=-1/0;return t.every(function(t){if(e<=t)return e=t,!0})}function cT(t){var e=1/0;return t.every(function(t){if(t<=e)return e=t,!0})}function uT(t,e,i){i=i||jI;var o=1/0,a=-1/0,n=null,s=0,l=[],r=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"number"!=typeof r||isNaN(r)?l.push(n):(t.push(r),o=Math.min(o,r),a=Math.max(a,r),s+=r),t},[])),c=AI(t);return c.prop("enhanced_array",!0),c.prop("numeric_array",!0),c.prop("values",r),c.prop("min",r.length?o:null),c.prop("max",r.length?a:null),c.prop("sum",s),c.prop("mean",r.length?s/r.length:null),c.prop("range",r.length?a-o:null),c.prop("length",r.length),c.prop("dropped_indexes",Object.freeze(l)),c.method("extent",function(){return[this.min,this.max]}),c.getter("sorted_values",function(){return n||(lT(r)&&(n=r),n=cT(r)?Object.freeze(r.slice().reverse()):Object.freeze(r.slice().sort(PI))),n}),t}var dT=sT();function fT(t,e){var n=Object.create(dT);return uT(n,t,e),n}var hT=Object.freeze(["min","max","mean"]),pT=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function gT(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}function _T(t){return"number"!=typeof t?null:new Date(t)}function yT(e,n){return function(){var t=e[n].apply(e,arguments);return Array.isArray(t)?t.map(_T):_T(t)}}function mT(t,e,n){n=n||jI;var r=fT(e.map(function(t){var e=n(t);return gT(e)?e.getTime():null})),i=AI(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",function(){return Object.freeze(r.values.map(_T))}),i.getter("sorted_values",function(){return Object.freeze(r.sorted_values.map(_T))}),i.getter("median",function(){return _T(r.median)}),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",function(){return r.rank(arguments)});var o=yT.bind(null,r);return hT.forEach(function(t){i.prop(t,_T(r[t]))}),pT.forEach(function(t){i.method(t,o(t))}),t}function vT(t,e){var n={};return mT(n,t,e),n}function bT(t){t.method("unsorted",function(){return this.values.slice()}),t.method("ascending",function(){return this.sorted_values.slice()}),t.method("descending",function(){return this.sorted_values.slice().reverse()}),t.method("unique",function(){return MI(this.values)}),t.method("uniqueAscending",function(){return MI(this.sorted_values)}),t.method("uniqueDescending",function(){return MI(this.sorted_values).reverse()})}function xT(t){t.method("random",function(t){return LI(this.values,t)}),t.method("sample",function(t,e,n){return DI(this.values,t,e,n)})}function wT(t){t.method("rank",function(t,e){return SI(this.values,this.sorted_values,t,e)})}function MT(t){t.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return CI(t=t||this.values,this.dropped_indexes)})}function kT(){var t={},e=AI(t);return bT(e),xT(e),wT(e),MT(e),t}function jT(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(e<=t)return e=t,!0})}function AT(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(t<=e)return e=t,!0})}function IT(t,e,i){i=i||jI;for(var n=null,o=[],a=0,s=null,r=0;null===s&&r<e.length;){var l=i(e[r++]);"string"==typeof l&&(s=l)}var c=s,u=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"string"==typeof r?(t.push(r),s=r<s?r:s,c=c<r?r:c,r||a++):o.push(n),t},[])),d=AI(t);return d.prop("enhanced_array",!0),d.prop("string_array",!0),d.prop("values",u),d.prop("min",s),d.prop("max",c),d.prop("length",u.length),d.prop("dropped_indexes",Object.freeze(o)),d.prop("n_empty",a),d.method("extent",function(){return[this.min,this.max]}),d.getter("sorted_values",function(){return n||(jT(u)&&(n=u),n=AT(u)?Object.freeze(u.slice().reverse()):Object.freeze(u.slice().sort())),n}),t}var TT=kT(),NT;function zT(t,e){var n=Object.create(TT);return IT(n,t,e),n}function ST(){var r=parseFloat(getComputedStyle(document.documentElement).fontSize),i=window.devicePixelRatio;NT=function t(e,n){return e?n?Math.max(Math.round(e*r*i),1)/i:e*r:0}}function ET(t,e,n){var r=getComputedStyle(t.node()).fontFamily,i,o,a;return(n?n+" ":"")+(NT(e)+"px ")+r}function LT(t,e){return"translate("+t+","+e+")"}function DT(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}var CT=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function OT(t){return Math.floor(CT(Math.abs(t)))}function PT(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return OT(e)+1}function RT(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],o=e[1][0],a=t[0][1],s=t[1][1],l=e[0][1],c=e[1][1],u=(n-r)*(l-c)-(i-o)*(a-s);if(!u)return!(n<i&&n<o&&r<i&&r<o||i<n&&o<n&&i<r&&o<r||a<l&&a<c&&s<l&&s<c||l<a&&c<a&&l<s&&c<s);var d=((n-i)*(l-c)-(a-l)*(i-o))/u;if(!(d<0||1<d)){var f=-((n-r)*(a-l)-(a-s)*(n-i))/u;if(!(f<0||1<f))return 1}}function YT(t){return t&&"number"==typeof t?0<t?1:-1:0}function UT(a){var s=a.type;(a=a.copy()).type=s;var l=-1e6,t,n=function t(e){var n=a(e),r,i,o,r;return!isNaN(n)&&Math.abs(n)!==1/0||(i=a.range(),r="numeric"!==s?i[0]>i[1]:YT((o=a.domain())[1]-o[0])!==YT(i[1]-i[0]),n=l*(r?-1:1)),n};return["domain","range"].forEach(function(e){n[e]=function(){var t=a[e].apply(a,arguments);return t===a?n:t}}),n.copy=function(){return UT(a)},n.type=a.type,n.step=a.step,n}function FT(t){return"[object Date]"===Object.prototype.toString.call(t)}function BT(t){return FT(t)&&!isNaN(t.getTime())}function ZT(t){return t.split("\n").filter(function(t){return t}).map(function(t){return t.trim()})}var HT="Input data must be an array or Flourish array";function GT(t,e){if(!t)throw new TypeError(HT);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(HT);for(var n=e||function(t){return t},r=0;r<t.length;r++){var i=n(t[r]),o=Ob(i);if("number"===o)return fT(t,e);if("string"===o)return zT(t,e);if(FT(i))return vT(t,e)}return fT(t,e)}function QT(n){var r=GT([]);return function(t,e){return void 0===t?r:(r=GT(t,e),n)}}var qT="Testing";function VT(t){return t*(Math.PI/180)}function WT(t,n){var r;return t.filter(function(t){var e=n(t);if(e!==r)return r=e,!0})}function $T(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:NT(1),p=t.max_lines,r=t.angle||0,i,g=document.createElement("canvas").getContext("2d");g.font=t.font;var _=e,o=VT(r),_=(e-n*Math.sin(o))/Math.cos(o);return function(t){var e=[],n=0,r=g.measureText(t).width;if(r<=_)e.push(t),n=r;else{for(var i=t.trim().split(/\s+/g),o="",a=0;a<i.length;a++){var s=i[a],l=o+(o?" ":"")+s,c=g.measureText(l).width,u,d;if(!(c<=_)){if(!(e.length+1==p)&&o)if(e.push(o),g.measureText(s).width<=_){o=s;continue}for(var f=1,h=l;h=l.substring(0,l.length-f)+"…",c=g.measureText(h).width,_<c&&++f<l.length;);n=Math.max(n,c),o=h;break}o=l,n=Math.max(n,c)}e.push(o)}return{lines:e,text_width:n}}}function XT(r,i){var n=["px","rem","fraction"];i=i||"width";var o=.3,a="fraction",s=function t(){var e=r[i](),n="px"===a?o:"rem"===a?NT(o):o*e;return{px:n,rem:"rem"===a?o:n/NT(1),fraction:"fraction"===a?o:n/e,unit:a}};return function(t,e){return void 0===t?s():(o=Math.max(t,0),a=-1!==n.indexOf(e)?e:"px",r)}}function JT(o,t){var A=t.x,a=Object.freeze([]),s=o.chart.select(".fl-x-axes"),e,n=function t(){return a};return n._update=function t(e){var v=o.xData().string_array?"string":"numeric",n=ET(yb(".fl-x-axes"),A.tick_label_size,A.tick_label_weight),b="default"===A.tick_label_position?+A.tick_label_angle:90,x=0,w=o.xFormat(),M,k=NT(A.tick_label_size);s.append("text").style("opacity",0).style("font",n).each(function(){var t=yb(this).text(qT).node().getBoundingClientRect();M=t.height}).remove(),"object"===Ob(e[0])&&(e=WT(e,w));var r=NT(A.tick_label_space);"auto"===A.tick_label_space_mode&&(r=o.xTicks.autoLabelSpace().px);var i,j=$T({text_height:M,max_space:r,font:n,angle:90-b,max_lines:A.tick_label_max_lines});return(a=e.map(function(t,e){var n=j(w(t)),r=n.lines,i=n.text_width,o,a,s,l,c,u,d=0,f=M*r.length+(r.length-1)*A.tick_label_line_height,h,p,g,s,l,c,u,o,a,_;0==b||90==b?(s=l=(o=0==b?i+NT(.5):f)/2,u=c=a=0==b?f:i,90==b&&(d=r.length<2?0:(r.length-1)/2*(k*A.tick_label_line_height))):(h=VT(b),p=Math.sin(h),o=(s=i*(g=Math.cos(h)))+(l=f*p),a=(c=i*p)+(u=f*g)),"top"!==A.axis_position&&"float-above"!==A.axis_position||(_=s,s=l,l=_,_=c,c=u,u=_,0!=b&&90!=b&&(d=r.length<2?0:(r.length-1)*(k*A.tick_label_line_height))),x=Math.max(x,a);var y="numeric"==v?PT(t):null,m="numeric"==v?OT(t):null;return Object.freeze({index:e,value:t,lines:r,significant_digits:y,exponent:m,text_width:i,text_height:M,box_width:o,box_height:a,box_width_left:s,box_width_right:l,box_height_left:c,box_height_right:u,multiline_offset:d})})).type=v,a.max_box_height="fixed"===A.tick_label_space_mode?NT(A.tick_label_space):x,Object.freeze(a),o},n.autoLabelSpace=XT(o,"height"),n}function KT(o,t,e){var k=t[e],a=e+"Data",s=e+"Format",l=e+"Ticks",c=Object.freeze([]),u=o.chart.select(".fl-y-axes"),n,r=function t(){return c};return r._update=function t(e){var m=o[a]().string_array?"string":"numeric",n=ET(yb(".fl-y-axes"),k.tick_label_size,k.tick_label_weight),v="default"===k.tick_label_position?+k.tick_label_angle:0,b=0,x=o[s](),w;u.append("text").style("opacity",0).style("font",n).each(function(){var t=yb(this).text(qT).node().getBoundingClientRect();w=t.height}).remove(),"object"===Ob(e[0])&&(e=WT(e,x));var r=NT(k.tick_label_space);"auto"===k.tick_label_space_mode&&(r=o[l].autoLabelSpace().px);var i,M=$T({text_height:w,max_space:r,font:n,angle:v,max_lines:v?1:k.tick_label_max_lines});return(c=e.map(function(t,e){var n=M(x(t)),r=n.lines,i=n.text_width,o,a,s,l,c,u,d=0,f=w*r.length+(r.length-1)*k.tick_label_line_height,h,p,g,s,l,c,u,o,a;0==v||90==v?(l=s=o=v?f:i,c=u=(a=v?i+NT(.5):f)/2,0==v&&(d=r.length<2?0:(r.length-1)/2*(w*k.tick_label_line_height))):(h=VT(v),o=(s=f*(p=Math.sin(h)))+(l=i*(g=Math.cos(h))),a=(c=f*g)+(u=i*p)),b=Math.max(b,o);var _="numeric"==m?PT(t):null,y="numeric"==m?OT(t):null;return Object.freeze({index:e,value:t,lines:r,type:m,significant_digits:_,exponent:y,text_width:i,text_height:w,box_width:o,box_height:a,box_width_above:s,box_width_below:l,box_height_above:c,box_height_below:u,multiline_offset:d})})).type=m,c.max_box_width="fixed"===k.tick_label_space_mode?NT(k.tick_label_space):b,Object.freeze(c),o},r.autoLabelSpace=XT(o),r}function tN(t,e){return KT(t,e,"y")}function eN(t,e){return KT(t,e,"y2")}function nN(e){var n="";return function(t){return void 0===t?n:(n=t,e)}}function rN(e,n){return e.xAutoTitle=nN(e),e.xAutoTitle("X"),function(){var t;return("auto"===n.x.title_mode?e.xAutoTitle():n.x.title).trim()}}function iN(e,n){return e.yAutoTitle=nN(e),e.yAutoTitle("Y"),function(){var t;return("auto"===n.y.title_mode?e.yAutoTitle():n.y.title).trim()}}function oN(e,n){return e.y2AutoTitle=nN(e),e.y2AutoTitle("Y2"),function(){var t;return("auto"===n.y2.title_mode?e.y2AutoTitle():n.y2.title).trim()}}function aN(t,e){var n=e.x,r=t.xTitle();if("off"===n.axis_visible||!r)return 0;var i=t.chart.select(".fl-x-axis .fl-axis-title"),o=ET(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),s=a.node().getBoundingClientRect().height;return a.remove(),s+2*NT(n.title_padding)}function sN(t,e){var n=e.y,r=t.yTitle();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-left-axis .fl-axis-title"),o=ET(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),s=a.node().getBoundingClientRect().height;return a.remove(),s+2*NT(n.title_padding)}function lN(t,e){var n=e.y2,r=t.y2Title();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-right-axis .fl-axis-title"),o=ET(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),s=a.node().getBoundingClientRect().height;return a.remove(),s+2*NT(n.title_padding)}function cN(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,o=0,a=0,s,i,a,o,l;return"top"!==r&&"bottom"!=r||(i=(s=t.xTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?NT(n.tick_length):0,a=s.max_box_height||0,o=s.length?NT(n.tick_padding):0),i+o+a+aN(t,e)}function uN(t,e){var n=e.x,r=0;t.xHide()||-1===["top","float-above"].indexOf(n.axis_position)||(r=cN(t,e));var i=0,o=0,a=t.yHide()?[]:t.yTicks(),s;a.length&&(s=a[a.length-1],"default"==e.y.tick_label_position?i=.9*s.box_height_above:"above"==e.y.tick_label_position&&(i+=s.box_height));var l=t.y2Hide()?[]:t.y2Ticks(),c;l.length&&(c=l[l.length-1],"default"==e.y2.tick_label_position?o=.9*c.box_height_above:"above"==e.y2.tick_label_position&&(o+=c.box_height));var u=Math.max(NT(.25),i,o);return Math.max(r,u)}function dN(t,e){var n=e.x,r=0;t.xHide()||-1===["bottom","float-below"].indexOf(n.axis_position)||(r=cN(t,e));var i=0,o=0,a=t.yHide()?[]:t.yTicks(),s;a.length&&(s=a[0],"default"==e.y.tick_label_position?i=.9*s.box_height_below:"below"==e.y.tick_label_position&&(i+=s.box_height));var l=t.y2Hide()?[]:t.y2Ticks(),c;l.length&&(c=l[0],"default"==e.y2.tick_label_position?o=.9*c.box_height_below:"below"==e.y2.tick_label_position&&(o+=c.box_height));var u=Math.max(NT(.25),i,o);return Math.max(r,u)}function fN(t,e){var n=e.y,r=0,i,o,a,s,l,r;n.axis_visible&&(r=((i=t.yHide()?[]:t.yTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?NT(n.tick_length):0)+(i.length?NT(n.tick_padding):0)+(i.max_box_width||0)+(t.yHide()?0:sN(t,e)));var c=NT(.25),u=0,d=t.xHide()?[]:t.xTicks(),f;return d.length&&(f=d[0],"default"==e.x.tick_label_position?u=.9*f.box_width_left:"left"==e.x.tick_label_position&&(u=f.box_width),c=Math.max(c,u)),Math.max(r,c)}function hN(t,e){var n=e.y2,r=0,i,o,a,s,l,r;n.axis_visible&&(r=((i=t.y2Hide()?[]:t.y2Ticks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?NT(n.tick_length):0)+(i.length?NT(n.tick_padding):0)+(i.max_box_width||0)+(t.y2Hide()?0:lN(t,e)));var c=NT(.25),u=0,d=t.xHide()?[]:t.xTicks(),f;return d.length&&(f=d[d.length-1],"default"==e.x.tick_label_position?u=.9*f.box_width_right:"right"==e.x.tick_label_position&&(u=f.box_width),c=Math.max(c,u)),Math.max(r,c)}function pN(n,r){var i,o,a,s,t,e=function t(){return{top:i,right:o,bottom:a,left:s}};return e._update=function t(e){i=void 0!==(e=e||{}).top?e.top:uN(n,r),o=void 0!==e.right?e.right:hN(n,r),a=void 0!==e.bottom?e.bottom:dN(n,r),s=void 0!==e.left?e.left:fN(n,r)},Object.defineProperty(e,"top",{get:function t(){return i}}),Object.defineProperty(e,"right",{get:function t(){return o}}),Object.defineProperty(e,"bottom",{get:function t(){return a}}),Object.defineProperty(e,"left",{get:function t(){return s}}),e}var gN="$";function _N(){}function yN(t,e){var n=new _N;if(t instanceof _N)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r=-1,i=t.length,o;if(null==e)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e(o=t[r],r,t),o)}else if(t)for(var a in t)n.set(a,t[a]);return n}function mN(){var f=[],e=[],h,p,n;function g(t,n,r,i){if(n>=f.length)return null!=h&&t.sort(h),null!=p?p(t):t;for(var e=-1,o=t.length,a=f[n++],s,l,c=yN(),u,d=r();++e<o;)(u=c.get(s=a(l=t[e])+""))?u.push(l):c.set(s,[l]);return c.each(function(t,e){i(d,e,g(t,n,r,i))}),d}function o(t,n){if(++n>f.length)return t;var r,i=e[n-1];return null!=p&&n>=f.length?r=t.entries():(r=[],t.each(function(t,e){r.push({key:e,values:o(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}return n={object:function(t){return g(t,0,vN,bN)},map:function(t){return g(t,0,xN,wN)},entries:function(t){return o(g(t,0,xN,wN),0)},key:function(t){return f.push(t),n},sortKeys:function(t){return e[f.length-1]=t,n},sortValues:function(t){return h=t,n},rollup:function(t){return p=t,n}}}function vN(){return{}}function bN(t,e,n){t[e]=n}function xN(){return yN()}function wN(t,e,n){t.set(e,n)}function MN(){}_N.prototype=yN.prototype={constructor:_N,has:function(t){return gN+t in this},get:function(t){return this[gN+t]},set:function(t,e){return this[gN+t]=e,this},remove:function(t){var e=gN+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===gN&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===gN&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===gN&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===gN&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===gN&&++t;return t},empty:function(){for(var t in this)if(t[0]===gN)return!1;return!0},each:function(t){for(var e in this)e[0]===gN&&t(this[e],e.slice(1),this)}};var kN=yN.prototype;function jN(t,e){var n=new MN;if(t instanceof MN)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}MN.prototype=jN.prototype={constructor:MN,has:kN.has,add:function(t){return this[gN+(t+="")]=t,this},remove:kN.remove,clear:kN.clear,values:kN.keys,size:kN.size,empty:kN.empty,each:kN.each};var AN=Array.prototype,IN=AN.map,TN=AN.slice,NN={name:"implicit"};function zN(r){var o=yN(),a=[],i=NN;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==NN)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return r=null==r?[]:TN.call(r),s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=yN();for(var e=-1,n=t.length,r,i;++e<n;)o.has(i=(r=t[e])+"")||o.set(i,a.push(r));return s},s.range=function(t){return arguments.length?(r=TN.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return zN().domain(a).range(r).unknown(i)},s}function SN(){var t=zN().unknown(void 0),o=t.domain,a=t.range,s=[0,1],l,c,u=!1,d=0,f=0,h=.5;function e(){var t=o().length,e=s[1]<s[0],n=s[+e],r=s[1-e];l=(r-n)/Math.max(1,t-d+2*f),u&&(l=Math.floor(l)),n+=(r-n-l*(t-d))*h,c=l*(1-d),u&&(n=Math.round(n),c=Math.round(c));var i=QI(t).map(function(t){return n+l*t});return a(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(o(t),e()):o()},t.range=function(t){return arguments.length?(s=[+t[0],+t[1]],e()):s.slice()},t.rangeRound=function(t){return s=[+t[0],+t[1]],u=!0,e()},t.bandwidth=function(){return c},t.step=function(){return l},t.round=function(t){return arguments.length?(u=!!t,e()):u},t.padding=function(t){return arguments.length?(d=f=Math.max(0,Math.min(1,t)),e()):d},t.paddingInner=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.copy=function(){return SN().domain(o()).range(s).round(u).paddingInner(d).paddingOuter(f).align(h)},e()}function EN(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EN(e())},t}function LN(){return EN(SN().paddingInner(1))}function DN(t){return function(){return t}}function CN(t){return+t}var ON=[0,1];function PN(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:DN(n)}function RN(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}function YN(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}function UN(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1],a=o<i?(i=n(o,i),r(s,a)):(i=n(i,o),r(a,s));return function(t){return a(i(t))}}function FN(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=FI(n,t,1,i)-1;return a[e](o[e](t))}}function BN(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ZN(e,n){var r=ON,i=ON,o=SM,a=!1,s,l,c;function u(){return s=2<Math.min(r.length,i.length)?FN:UN,l=c=null,t}function t(t){return(l=l||s(r,i,a?RN(e):e,o))(+t)}return t.invert=function(t){return(c=c||s(i,r,PN,a?YN(n):n))(+t)},t.domain=function(t){return arguments.length?(r=IN.call(t,CN),u()):r.slice()},t.range=function(t){return arguments.length?(i=TN.call(t),u()):i.slice()},t.rangeRound=function(t){return i=TN.call(t),o=EM,u()},t.clamp=function(t){return arguments.length?(a=!!t,u()):a},t.interpolate=function(t){return arguments.length?(o=t,u()):o},u()}function HN(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function GN(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function QN(t){return(t=GN(Math.abs(t)))?t[1]:NaN}function qN(s,l){return function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(l)}}function VN(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var WN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,$N;function XN(t){if(!(e=WN.exec(t)))throw new Error("invalid format: "+t);var e;return new JN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function JN(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function KN(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break t;0<r&&(r=0)}return 0<r?t.slice(0,r)+t.slice(i+1):t}function tz(t,e){var n=GN(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-($N=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+GN(t,Math.max(0,e+o-1))[0]}function ez(t,e){var n=GN(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}XN.prototype=JN.prototype,JN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var nz={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:HN,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ez(100*t,e)},r:ez,s:tz,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function rz(t){return t}var iz=Array.prototype.map,oz=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],az,sz,lz;function cz(t){var w=void 0===t.grouping||void 0===t.thousands?rz:qN(iz.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",M=void 0===t.decimal?".":t.decimal+"",k=void 0===t.numerals?rz:VN(iz.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",j=void 0===t.minus?"-":t.minus+"",A=void 0===t.nan?"NaN":t.nan+"";function a(t){var c=(t=XN(t)).fill,u=t.align,d=t.sign,e=t.symbol,f=t.zero,h=t.width,p=t.comma,g=t.precision,_=t.trim,y=t.type;"n"===y?(p=!0,y="g"):nz[y]||(void 0===g&&(g=12),_=!0,y="g"),(f||"0"===c&&"="===u)&&(f=!0,c="0",u="=");var m="$"===e?r:"#"===e&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===e?i:/[%p]/.test(y)?o:"",b=nz[y],x=/[defgprs%]/.test(y);function n(t){var e=m,n=v,r,i,o;if("c"===y)n=b(t)+n,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?A:b(Math.abs(t),g),_&&(t=KN(t)),a&&0==+t&&"+"!==d&&(a=!1),e=(a?"("===d?d:j:"-"===d||"("===d?"":d)+e,n=("s"===y?oz[8+$N/3]:"")+n+(a&&"("===d?")":""),x)for(r=-1,i=t.length;++r<i;)if((o=t.charCodeAt(r))<48||57<o){n=(46===o?M+t.slice(r+1):t.slice(r))+n,t=t.slice(0,r);break}}p&&!f&&(t=w(t,1/0));var s=e.length+t.length+n.length,l=s<h?new Array(h-s+1).join(c):"";switch(p&&f&&(t=w(l+t,l.length?h-n.length:1/0),l=""),u){case"<":t=e+t+n+l;break;case"=":t=e+l+t+n;break;case"^":t=l.slice(0,s=l.length>>1)+e+t+n+l.slice(s);break;default:t=l+e+t+n}return k(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}function e(t,e){var n=a(((t=XN(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(QN(e)/3))),i=Math.pow(10,-r),o=oz[8+r/3];return function(t){return n(i*t)+o}}return{format:a,formatPrefix:e}}function uz(t){return az=cz(t),sz=az.format,lz=az.formatPrefix,az}function dz(t){return Math.max(0,-QN(Math.abs(t)))}function fz(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(QN(e)/3)))-QN(Math.abs(t)))}function hz(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,QN(e)-QN(t))+1}function pz(t,e,n){var r=t[0],i=t[t.length-1],o=JI(r,i,null==e?10:e),a;switch((n=XN(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(i));return null!=n.precision||isNaN(a=fz(o,s))||(n.precision=a),lz(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=hz(o,Math.max(Math.abs(r),Math.abs(i))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=dz(o))||(n.precision=a-2*("%"===n.type))}return sz(n)}function gz(s){var l=s.domain;return s.ticks=function(t){var e=l();return $I(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return pz(l(),t,e)},s.nice=function(t){null==t&&(t=10);var e=l(),n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=i,i=o,o=a,a=n,n=r,r=a),0<(a=XI(i,o,t))?a=XI(i=Math.floor(i/a)*a,o=Math.ceil(o/a)*a,t):a<0&&(a=XI(i=Math.ceil(i*a)/a,o=Math.floor(o*a)/a,t)),0<a?(e[n]=Math.floor(i/a)*a,e[r]=Math.ceil(o/a)*a,l(e)):a<0&&(e[n]=Math.ceil(i*a)/a,e[r]=Math.floor(o*a)/a,l(e)),s},s}function _z(){var t=ZN(PN,kM);return t.copy=function(){return BN(t,_z())},gz(t)}function yz(t,e){var n=0,r=(t=t.slice()).length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function mz(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:DN(n)}function vz(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function bz(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xz(e){return 10===e?bz:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function wz(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Mz(e){return function(t){return-e(-t)}}function kz(){var e=ZN(mz,vz).domain([1,10]),f=e.domain,h=10,p=wz(10),g=xz(10);function n(){return p=wz(h),g=xz(h),f()[0]<0&&(p=Mz(p),g=Mz(g)),e}return e.base=function(t){return arguments.length?(h=+t,n()):h},e.domain=function(t){return arguments.length?(f(t),n()):f()},e.ticks=function(t){var e=f(),n=e[0],r=e[e.length-1],i;(i=r<n)&&(o=n,n=r,r=o);var o=p(n),a=p(r),s,l,c,u=null==t?10:+t,d=[];if(!(h%1)&&a-o<u){if(o=Math.round(o)-1,a=Math.round(a)+1,0<n){for(;o<a;++o)for(l=1,s=g(o);l<h;++l)if(!((c=s*l)<n)){if(r<c)break;d.push(c)}}else for(;o<a;++o)for(l=h-1,s=g(o);1<=l;--l)if(!((c=s*l)<n)){if(r<c)break;d.push(c)}}else d=$I(o,a,Math.min(a-o,u)).map(g);return i?d.reverse():d},e.tickFormat=function(t,n){if(null==n&&(n=10===h?".0e":","),"function"!=typeof n&&(n=sz(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,h*t/e.ticks().length);return function(t){var e=t/g(Math.round(p(t)));return e*h<h-.5&&(e*=h),e<=r?n(t):""}},e.nice=function(){return f(yz(f(),{floor:function t(e){return g(Math.floor(p(e)))},ceil:function t(e){return g(Math.ceil(p(e)))}}))},e.copy=function(){return BN(e,kz().base(h))},e}uz({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var jz=1e3,Az=60*jz,Iz=60*Az,Tz=24*Iz,Nz=7*Tz,zz=30*Tz,Sz=365*Tz;function Ez(t){return new Date(t)}function Lz(t){return t instanceof Date?+t:+new Date(+t)}function Dz(a,e,n,r,i,o,s,l,c){var u=ZN(PN,kM),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),_=c("%I %p"),y=c("%a %d"),m=c("%b %d"),v=c("%B"),b=c("%Y"),x=[[s,1,jz],[s,5,5*jz],[s,15,15*jz],[s,30,30*jz],[o,1,Az],[o,5,5*Az],[o,15,15*Az],[o,30,30*Az],[i,1,Iz],[i,3,3*Iz],[i,6,6*Iz],[i,12,12*Iz],[r,1,Tz],[r,2,2*Tz],[n,1,Nz],[e,1,zz],[e,3,3*zz],[a,1,Sz]];function w(t){return(s(t)<t?h:o(t)<t?p:i(t)<t?g:r(t)<t?_:e(t)<t?n(t)<t?y:m:a(t)<t?v:b)(t)}function M(t,e,n,r){var i,o;return null==t&&(t=10),"number"==typeof t&&(i=Math.abs(n-e)/t,t=(o=RI(function(t){return t[2]}).right(x,i))===x.length?(r=JI(e/Sz,n/Sz,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(JI(e,n,t),1),l)),null==r?t:t.every(r)}return u.invert=function(t){return new Date(d(t))},u.domain=function(t){return arguments.length?f(IN.call(t,Lz)):f().map(Ez)},u.ticks=function(t,e){var n=f(),r=n[0],i=n[n.length-1],o=i<r,a;return o&&(a=r,r=i,i=a),a=(a=M(t,r,i,e))?a.range(r,i+1):[],o?a.reverse():a},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t,e){var n=f();return(t=M(t,n[0],n[n.length-1],e))?f(yz(n,t)):u},u.copy=function(){return BN(u,Dz(a,e,n,r,i,o,s,l,c))},u}function Cz(){return Dz(Ej,Sj,kj,wj,xj,bj,vj,hj,Jj).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}var Oz=1e3;function Pz(t,e){var n=e.edge_padding,r=LN().domain(t.unique()).padding(n/100);return r.type="ordinal",r}function Rz(t,e){var n=e.min,r=e.max,i=e.include_zero,o=e.nice,a=100,s,l,s;return n===r&&(n=r=null),null!==n&&null!==r?[n,r]:(t.range?(s=t.extent(),o&&(s=_z().domain(s).nice().domain()),i&&(0<=s[0]?s[0]=0:s[1]<0&&(s[1]=0))):s=t.length?0<(l=t.min)?[0,2*l]:l<0?[2*l,0]:[-50,50]:[0,100],null!==n?(s[0]=n,s[0]===s[1]&&(s[1]=n+(t.range||100))):null!==r&&(s[1]=r,s[0]===s[1]&&(s[0]=r-(t.range||100))),s)}function Yz(t,e){var n=Rz(t,e),r=_z().domain(n);return r.type="numeric",r}function Uz(t,e){var n=e.min,r=e.max,i=e.nice,o=t.extent();o[0]<=0&&(0<o[1]?o[0]=Math.min(1,o[1]/Oz):o[0]=1),o[1]<=o[0]&&(o[1]=Oz*o[0]);var a=kz().domain(o);i&&a.nice();var s=a.domain();return n===r&&(n=r=null),0<n&&(s[0]=n),0<r&&(s[1]=r),a.domain(s),a.type="numeric",a}function Fz(t,e){var n=e.min,r=e.max,i=e.format,o=e.nice,a=t.extent(),s=Cz().domain(a);o&&s.nice(),i&&s.tickFormat(null,i);var l=s.domain();return n===r&&(n=r=null),n&&(l[0]=i(n)),r&&(l[1]=i(r)),s.domain(l),s.type="datetime",s}function Bz(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function Zz(c,t){var u=t.x;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=c.xData(),n={nice:u.nice},r;e.string_array?(r=Pz,n.edge_padding=u.edge_padding):e.datetime_array?(r=Fz,n.min=u.datetime_min,n.max=u.datetime_max,n.format=c.xDatetimeParse()):"log"===u.numeric_scale_type?(r=Uz,n.min=u.log_min,n.max=u.log_max):(r=Yz,n.min=u.linear_min,n.max=u.linear_max,n.include_zero="off"!==u.zero_axis&&("on"===u.zero_axis||c.xZeroAxis()));var i=r(e,n);if(t.domain_only)return i;var o=c.plot_width,a=c.margins.left,s=t.global&&c.offsetLeft(),l=[a,a+o];return s&&(l=l.map(function(t){return t+s})),i.range(l)}}function Hz(c,t){var u=t.y;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=c.yData(),n={nice:u.nice},r;e.string_array?(r=Pz,n.edge_padding=u.edge_padding):e.datetime_array?(r=Fz,n.min=u.datetime_min,n.max=u.datetime_max,n.format=c.yDatetimeParse()):"log"===u.numeric_scale_type?(r=Uz,n.min=u.log_min,n.max=u.log_max):(r=Yz,n.min=u.linear_min,n.max=u.linear_max,n.include_zero="off"!==u.zero_axis&&("on"===u.zero_axis||c.yZeroAxis()));var i=r(e,n);if(t.domain_only)return i;var o=c.plot_height,a=c.margins.top,s=t.global&&c.offsetTop(),l=[a,a+o];return s&&(l=l.map(function(t){return t+s})),i.range(l.reverse())}}function Gz(c,t){var u=t.y2;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=c.y2Data(),n={nice:u.nice},r;e.string_array?(r=Pz,n.edge_padding=u.edge_padding):e.datetime_array?(r=Fz,n.min=u.datetime_min,n.max=u.datetime_max,n.format=c.y2DatetimeParse()):"log"===u.numeric_scale_type?(r=Uz,n.min=u.log_min,n.max=u.log_max):(r=Yz,n.min=u.linear_min,n.max=u.linear_max,n.include_zero="off"!==u.zero_axis&&("on"===u.zero_axis||c.y2ZeroAxis()));var i=r(e,n);if(t.domain_only)return i;var o=c.plot_height,a=c.margins.top,s=t.global&&c.offsetTop(),l=[a,a+o];return s&&(l=l.map(function(t){return t+s})),i.range(l.reverse())}}function Qz(e){var n=!1,r=!1;return function(t){return void 0===t?!!n&&{keep_gridlines:r}:(n=!!t,r=!(!t||"object"!==Ob(t)||!t.keep_gridlines),e)}}function qz(h,p){var g=h.chart.select("clipPath.fl-data-clip-path"),_=g.select("rect"),y=h.chart.select("clipPath.fl-grid-clip-path"),m=y.select("rect"),v=h.chart.select(".fl-data-background"),b=h.chart.select(".fl-data-foreground"),x=h.chart.select(".fl-gridlines");return function(){var t=h.identifier()+"-clip-path",e="url(#"+t+")";g.attr("id",t);var n=h.identifier()+"-grid-clip-path",r="url(#"+n+")";y.attr("id",n),v.attr("clip-path",e),b.attr("clip-path",e),x.attr("clip-path",r);var i=h.xScale().range(),o=h.yScale().range(),a=h.clip(),s=a.left?i[0]:0,l=a.top?o[1]:0,c=Math.max((a.right?i[1]:h.width())-s,1),u=Math.max((a.bottom?o[0]:h.height())-l,1);_.attr("x",s).attr("y",l).attr("width",c).attr("height",u);var d=NT(p.x.gridline_width,!0),f=NT(p.y.gridline_width,!0);m.transition().duration(h.animationDuration()).attr("x",i[0]-d).attr("y",o[1]-f).attr("width",i[1]-i[0]+2*d).attr("height",o[0]-o[1]+2*f)}}function Vz(a,t){var s=t.background,l=a.chart.select("rect.fl-chart-fill"),c=a.chart.select("image.fl-chart-image"),u=a.chart.select("rect.fl-chart-interaction");return function(){var t=a.xScale().range(),e=a.yScale().range(),n=t[0],r=e[1],i=Math.max(a.plot_width,1),o=Math.max(a.plot_height,1);l.attr("x",n).attr("y",r).attr("width",i).attr("height",o).attr("fill",s.background_color_enabled?s.background_color:"none"),c.attr("x",n).attr("y",r).attr("width",i).attr("height",o).attr("xlink:href",s.background_image_enabled?s.background_image_src:null).attr("preserveAspectRatio",function(){return"stretch"==s.background_image_size?"none":s.background_image_position+" "+s.background_image_size}),u.attr("x",n).attr("y",r).attr("width",i).attr("height",o)}}function Wz(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)||(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function $z(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function Xz(w,M){var k=M.x,j,A,I,T,N,z,S,E,L,D,C,O,a,P,R,Y;function n(){j=UT(w.xScale()),A=UT(w.yScale()),I=a?w.animationDuration():0;var t=j.range();O=(t[0]+t[1])/2,P=(a=a||j).type===j.type&&"ordinal"!==j.type?a:j,R=a.type===j.type&&"ordinal"!==a.type?j:a,T=k.line_and_tick_color,N=NT(k.line_and_tick_width,!0),z=k.tick_label_color;var e="default"===k.tick_label_position,n=w.xTicks(),r=n.max_box_height,i=n.length?NT(k.tick_padding):0;"top"!=k.axis_position&&"bottom"!=k.axis_position||(r+=i);var o="out"===k.tick_side;S=e?NT(k.tick_length)*(o?1:-1):r,E=NT(k.tick_label_size),L=(o&&e?S:0)+i,D=NT(k.title_size),C=w.xTitle()}var r=(t=w.chart.select("g.fl-bottom-axis"),U=t.select("g.fl-axis-line"),F=t.select("g.fl-axis-ticks"),B=t.select("g.fl-axis-title"),function(){var f=k.axis_position,t={pos:f},e=!w.xHide()&&-1!==["bottom","float-below"].indexOf(f),n=e?w.xTicks():[],r=A.range()[0],i=(Y||A).range()[0],o=r+NT(k.title_padding);function a(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===f&&(o+=L+n.max_box_height,t.extended_gridline=r+L+n.max_box_height);var s=i,l=r;"float-below"===f&&(s=a((Y||A)(k.y_axis_position),i),l=a(A(k.y_axis_position),r));var c=U.selectAll("line").data(e&&k.line_visible?[j.domain()]:[]);c.exit().style("stroke",T).style("stroke-width",N).transition().duration(I).attr("x1",function(t){return R(t[0])}).attr("x2",function(t){return R(t[1])}).attr("y1",l).attr("y2",l).style("opacity",0).remove();var u=c.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",N).attr("x1",function(t){return P(t[0])}).attr("x2",function(t){return P(t[1])}).attr("y1",s).attr("y2",s).style("opacity",0);c.merge(u).style("stroke",T).style("stroke-width",N).transition().duration(I).attr("x1",j.range()[0]).attr("x2",j.range()[1]).attr("y1",l).attr("y2",l).style("opacity",1);var d=e?n:[];"numeric"===n.type&&"custom"!==k.tick_mode&&(d=n.slice().sort(Wz));var h=function t(e){var n="default"==k.tick_label_position?-k.tick_label_angle:-90,r=DT(n,0,0);if("default"===k.tick_label_position)return 0==n?LT(e.text_width/2,L+.66*E):-90==n?LT(0,L)+" "+r+" "+LT(0,.33*E-e.multiline_offset):LT(0,L)+" "+r+" "+LT(0,.66*E);var i="left"===k.tick_label_position?-.3:1;return LT(0,L)+" "+r+" "+LT(0,E*i)},p=F.selectAll("g").data(d,function(t){return t.type+"-"+t.value}),g=p.exit();g.transition().duration(I).attr("transform",function(t){return LT(R(t.value),l)}).style("opacity",0).remove(),g.each(function(){var t=yb(this);t.select("line").style("stroke",T).style("stroke-width",N).transition().duration(I).attr("y2",S),t.select("text").style("fill",z).style("font-size",E+"px").style("font-weight",k.tick_label_weight).attr("transform",h).transition().duration(I)});var _=p.enter().append("g").style("opacity",0);_.attr("transform",function(t){return LT(P(t.value),s)}),_.each(function(){var t=yb(this);t.append("line").attr("y2",S),t.append("text").attr("text-anchor","middle").attr("transform",h).call($z)});var y=p.merge(_);y.transition().duration(I).style("opacity",1).attr("transform",function(t){return LT(j(t.value),l)});var m=(v=[],b=l+L,function(t){var e=j(t.value);if("float-below"===f){var n=j.range(),r,i;if(M.y.axis_visible&&e-t.box_width_left<n[0])return 0;if(M.y2.axis_visible&&e+t.box_width_right>n[1])return 0}for(var o=[e,b],a,s,l=[o,[e+t.box_width_right,b+t.box_height_right]],c=[o,[e-t.box_width_left,b+t.box_height_left]],u=0;u<v.length;u++){var d=v[u];if(e<=d.x_anchor){if(RT(l,d.q))return 0}else if(RT(d.p,c))return 0}return v.push({x_anchor:e,p:l,q:c}),1}),v,b;y.each(function(){var t=yb(this);t.select("line").style("stroke",T).style("stroke-width",N).transition().duration(I).attr("y2",S),t.select("text").each(function(){var t=yb(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?k.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","end").style("fill",z).style("font-size",E+"px").style("font-weight",k.tick_label_weight).transition().duration(I).style("opacity",m).attr("transform",h)});var x=B.selectAll("text").data(e&&C?[C]:[]);return x.exit().remove(),x.enter().append("text").attr("text-anchor","middle").style("font-size",D+"px").style("fill",k.title_color).style("font-weight",k.title_weight).call($z).transition().duration(0).delay(I).text(function(t){return t}).attr("x",O).attr("y",o).attr("dy",D),x.text(function(t){return t}).style("fill",k.title_color).style("font-size",D+"px").style("font-weight",k.title_weight).transition().duration(I).attr("x",O).attr("y",o).attr("dy",D),"bottom"==f?t:null}),t,U,F,B,i=(e=w.chart.select("g.fl-top-axis"),x=e.select("g.fl-axis-line"),Z=e.select("g.fl-axis-ticks"),H=e.select("g.fl-axis-title"),function(){var f=k.axis_position,t={pos:f},e=!w.xHide()&&-1!==["top","float-above"].indexOf(f),n=e?w.xTicks():[],r=A.range()[1],i=(Y||A).range()[1],o=r-NT(k.title_padding);"top"===f&&(o-=L+n.max_box_height,t.extended_gridline=r-(L+n.max_box_height));var a="float-above"===f?(Y||A)(k.y_axis_position):i,s="float-above"===f?A(k.y_axis_position):r,l=x.selectAll("line").data(e&&k.line_visible?[j.domain()]:[]);l.exit().style("stroke",T).style("stroke-width",N).transition().duration(I).attr("x1",function(t){return R(t[0])}).attr("x2",function(t){return R(t[1])}).attr("y1",s).attr("y2",s).style("opacity",0).remove();var c=l.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",N).attr("x1",function(t){return P(t[0])}).attr("x2",function(t){return P(t[1])}).attr("y1",a).attr("y2",a).style("opacity",0);l.merge(c).style("stroke",T).style("stroke-width",N).transition().duration(I).attr("x1",j.range()[0]).attr("x2",j.range()[1]).attr("y1",s).attr("y2",s).style("opacity",1);var u=[];e&&(u="numeric"===n.type?n.slice().sort(Wz):n);var d=function t(e){var n="default"==k.tick_label_position?-k.tick_label_angle:-90,r=DT(n,0,0);if("default"===k.tick_label_position)return 0==n?LT(-e.text_width/2,-(L+.33*E)):-90==n?LT(0,-L)+" "+r+" "+LT(0,.33*E-e.multiline_offset):LT(0,-L)+" "+r+LT(0,-e.multiline_offset);var i="left"===k.tick_label_position?-.3:1;return LT(0,-L)+" "+r+" "+LT(0,E*i)},h=Z.selectAll("g").data(u,function(t){return t.type+"-"+t.value}),p=h.exit();p.transition().duration(I).attr("transform",function(t){return LT(R(t.value),s)}).style("opacity",0).remove(),p.each(function(){var t=yb(this);t.select("line").style("stroke",T).style("stroke-width",N).transition().duration(I).attr("y2",-S),t.select("text").style("fill",z).style("font-size",E+"px").style("font-weight",k.tick_label_weight).attr("transform",d).transition().duration(I)});var g=h.enter().append("g").style("opacity",0);g.attr("transform",function(t){return LT(P(t.value),a)}),g.each(function(){var t=yb(this);t.append("line").attr("y2",-S),t.append("text").attr("text-anchor","middle").attr("transform",d).call($z)});var _=h.merge(g);_.transition().duration(I).style("opacity",1).attr("transform",function(t){return LT(j(t.value),s)});var y=(m=[],v=s+L,function(t){var e=j(t.value);if("float-above"===f){var n=j.range(),r,i;if(M.y.axis_visible&&e-t.box_width_left<n[0])return 0;if(M.y2.axis_visible&&e+t.box_width_right>n[1])return 0}for(var o=[e,v],a,s,l=[o,[e-t.box_width_left,v-t.box_height_left]],c=[o,[e+t.box_width_right,v-t.box_height_right]],u=0;u<m.length;u++){var d=m[u];if(e<=d.x_anchor){if(RT(c,d.p))return 0}else if(RT(l,d.q))return 0}return m.push({x_anchor:e,p:l,q:c}),1}),m,v;_.each(function(){var t=yb(this);t.select("line").style("stroke",T).style("stroke-width",N).transition().duration(I).attr("y2",-S),t.select("text").each(function(){var t=yb(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?k.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","start").style("fill",z).style("font-size",E+"px").style("font-weight",k.tick_label_weight).transition().duration(I).style("opacity",y).attr("transform",d)});var b=H.selectAll("text").data(e&&C?[C]:[]);return b.exit().remove(),b.enter().append("text").attr("text-anchor","middle").style("font-size",D+"px").style("fill",k.title_color).style("font-weight",k.title_weight).call($z).transition().duration(0).delay(I).text(function(t){return t}).attr("x",O).attr("y",o).attr("dy",-.33*D),b.text(function(t){return t}).style("fill",k.title_color).style("font-size",D+"px").style("font-weight",k.title_weight).transition().duration(I).attr("x",O).attr("y",o).attr("dy",-.33*D),"top"==f?t:null}),e,x,Z,H;return function(){n();var t=r(),e=i();return a=j,Y=A,t||e}}function Jz(R,t){var e=R.chart.select("g.fl-left-axis"),Y=e.select("g.fl-axis-line"),U=e.select("g.fl-axis-ticks"),F=e.select("g.fl-axis-title"),B=t.y,Z,H;return function(){var t={},e=B.axis_visible&&!R.yHide(),n=UT(R.xScale()),c=UT(R.yScale()),o=e?R.yTicks():[],r=Z?R.animationDuration():0;Z=Z||n,H=H||c;var i=n.range()[0],a=(Z||n).range()[0],s=H.type===c.type&&"ordinal"!==c.type?H:c,l=H.type===c.type&&"ordinal"!==H.type?c:H,u=B.line_and_tick_color,d=NT(B.line_and_tick_width,!0),f=B.tick_label_color,h="default"===B.tick_label_position,p="out"===B.tick_side,g=NT(B.tick_padding),_=R.yTicks().max_box_width+g,y=h?NT(B.tick_length)*(p?1:-1):_,m=NT(B.tick_label_size),v=(p&&h?y:0)+g,b=R.yTitle(),x=NT(B.title_size),w=v+o.max_box_width+NT(B.title_padding)+.33*x;t.extended_gridline=i-(v+o.max_box_width);var M=c.range(),k=(M[0]+M[1])/2,j=Y.selectAll("line").data(e&&B.line_visible?[c.domain()]:[]);j.exit().style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x1",i).attr("x2",i).attr("y1",function(t){return l(t[1])}).attr("y2",function(t){return l(t[0])}).style("opacity",0).remove();var A=j.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",d).attr("x1",a).attr("x2",a).attr("y1",function(t){return s(t[1])}).attr("y2",function(t){return s(t[0])}).style("opacity",0);j.merge(A).style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x1",i).attr("x2",i).attr("y1",function(t){return c(t[1])}).attr("y2",function(t){return c(t[0])}).style("opacity",1);var I=e?o:[];function T(t){var e,n;if("default"!==B.tick_label_position)return LT(-v-(o.max_box_width-t.box_width),("above"===B.tick_label_position?-.3:1)*m);var r=-B.tick_label_angle;if(0==r)return LT(-v,.33*m-t.multiline_offset);var i=LT(-v,0)+" "+DT(r);return-90==r&&(i+=" "+LT(t.text_width/2,0)),i}"numeric"===o.type&&"custom"!==B.tick_mode&&(I=o.slice().sort(Wz));var N=U.selectAll("g").data(I,function(t){return t.type+"-"+t.value}),z=N.exit();z.transition().duration(r).attr("transform",function(t){return LT(i,l(t.value))}).style("opacity",0).remove(),z.each(function(){var t=yb(this);t.select("line").style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x2",-y),t.select("text").style("fill",f).style("font-size",m+"px").style("font-weight",B.tick_label_weight).attr("transform",T).transition().duration(r)});var S=N.enter().append("g").style("opacity",0);S.attr("transform",function(t){return LT(a,s(t.value))}),S.each(function(){var t=yb(this);t.append("line").attr("x2",-y),t.append("text").attr("text-anchor","end").attr("transform",T).call($z)});var E=N.merge(S);E.transition().duration(r).style("opacity",1).attr("transform",function(t){return LT(i,c(t.value))});var L=(D=[],C=i-v,function(t){for(var e=c(t.value),n=[C,e],r,i,o=[n,[C-t.box_width_above,e-t.box_height_above]],a=[n,[C-t.box_width_below,e+t.box_height_below]],s=0;s<D.length;s++){var l=D[s];if(e>=l.y_anchor){if(RT(o,l.q))return 0}else if(RT(l.p,a))return 0}return D.push({y_anchor:e,p:o,q:a}),1}),D,C;E.each(function(){var t=yb(this);t.select("line").style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x2",-y),t.select("text").each(function(){var t=yb(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?B.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",f).style("font-size",m+"px").style("font-weight",B.tick_label_weight).transition().duration(r).style("opacity",L).attr("transform",T)});var O=F.selectAll("text").data(e&&b?[b]:[]);O.exit().remove();var P=function t(){return LT(i,k)+" "+DT(-90)+" "+LT(0,-w)};return O.enter().append("text").attr("text-anchor","middle").style("font-size",x+"px").style("fill",B.title_color).style("font-weight",B.title_weight).call($z).transition().duration(0).delay(r).text(function(t){return t}).attr("x",0).attr("y",0).attr("transform",P),O.text(function(t){return t}).style("fill",B.title_color).style("font-size",x+"px").style("font-weight",B.title_weight).transition().duration(r).attr("x",0).attr("y",0).attr("transform",P),Z=n,H=c,t}}function Kz(R,t){var e=R.chart.select("g.fl-right-axis"),Y=e.select("g.fl-axis-line"),U=e.select("g.fl-axis-ticks"),F=e.select("g.fl-axis-title"),B=t.y2,Z,H;return function(){var t={},e=B.axis_visible&&!R.y2Hide(),n=UT(R.xScale()),c=UT(R.y2Scale()),o=e?R.y2Ticks():[],r=Z?R.animationDuration():0;Z=Z||n,H=H||c;var i=n.range()[1],a=(Z||n).range()[1],s=H.type===c.type&&"ordinal"!==c.type?H:c,l=H.type===c.type&&"ordinal"!==H.type?c:H,u=B.line_and_tick_color,d=NT(B.line_and_tick_width,!0),f=B.tick_label_color,h="default"===B.tick_label_position,p="out"===B.tick_side,g=NT(B.tick_padding),_=R.y2Ticks().max_box_width+g,y=h?NT(B.tick_length)*(p?1:-1):_,m=NT(B.tick_label_size),v=(p&&h?y:0)+g,b=R.y2Title(),x=NT(B.title_size),w=v+o.max_box_width+NT(B.title_padding)+.85*x;t.extended_gridline=i+v+o.max_box_width;var M=c.range(),k=(M[0]+M[1])/2,j=Y.selectAll("line").data(e&&B.line_visible?[c.domain()]:[]);j.exit().style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x1",i).attr("x2",i).attr("y1",function(t){return l(t[1])}).attr("y2",function(t){return l(t[0])}).style("opacity",0).remove();var A=j.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",d).attr("x1",a).attr("x2",a).attr("y1",function(t){return s(t[1])}).attr("y2",function(t){return s(t[0])}).style("opacity",0);j.merge(A).style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x1",i).attr("x2",i).attr("y1",function(t){return c(t[1])}).attr("y2",function(t){return c(t[0])}).style("opacity",1);var I="numeric"===o.type?o.slice().sort(Wz):o;function T(t){var e,n;if("default"!==B.tick_label_position)return LT(v+(o.max_box_width-t.box_width),("above"===B.tick_label_position?-.3:1)*m);var r=-B.tick_label_angle;if(0==r)return LT(v,.33*m-t.multiline_offset);var i=LT(v,0)+" "+DT(r);return-90==r&&(i+=" "+LT(t.text_width/2,0)),i}var N=U.selectAll("g").data(I,function(t){return t.type+"-"+t.value}),z=N.exit();z.transition().duration(r).attr("transform",function(t){return LT(i,l(t.value))}).style("opacity",0).remove(),z.each(function(){var t=yb(this);t.select("line").style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x2",-y),t.select("text").style("fill",f).style("font-size",m+"px").style("font-weight",B.tick_label_weight).attr("transform",T).transition().duration(r)});var S=N.enter().append("g").style("opacity",0);S.attr("transform",function(t){return LT(a,s(t.value))}),S.each(function(){var t=yb(this);t.append("line").attr("x2",y),t.append("text").attr("text-anchor","start").attr("transform",T).call($z)});var E=N.merge(S);E.transition().duration(r).style("opacity",1).attr("transform",function(t){return LT(i,c(t.value))});var L=(D=[],C=i+v,function(t){for(var e=c(t.value),n=[C,e],r,i,o=[n,[C-t.box_width_above,e-t.box_height_above]],a=[n,[C-t.box_width_below,e+t.box_height_below]],s=0;s<D.length;s++){var l=D[s];if(e>=l.y_anchor){if(RT(o,l.q))return 0}else if(RT(l.p,a))return 0}return D.push({y_anchor:e,p:o,q:a}),1}),D,C;E.each(function(){var t=yb(this);t.select("line").style("stroke",u).style("stroke-width",d).transition().duration(r).attr("x2",y),t.select("text").each(function(){var t=yb(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?B.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",f).style("font-size",m+"px").style("font-weight",B.tick_label_weight).transition().duration(r).style("opacity",L).attr("transform",T)});var O=F.selectAll("text").data(e&&b?[b]:[]);O.exit().remove();var P=function t(){return LT(i,k)+" "+DT(-90)+" "+LT(0,w)};return O.enter().append("text").attr("text-anchor","middle").style("font-size",x+"px").style("fill",B.title_color).style("font-weight",B.title_weight).call($z).transition().duration(0).delay(r).text(function(t){return t}).attr("x",0).attr("y",0).attr("transform",P),O.text(function(t){return t}).style("fill",B.title_color).style("font-size",x+"px").style("font-weight",B.title_weight).transition().duration(r).attr("x",0).attr("y",0).attr("transform",P),Z=n,H=c,t}}function tS(t,e){var r=Xz(t,e),i=Jz(t,e),o=Kz(t,e);return function(){var t,e,n;return{x:r(),y:i(),y2:o()}}}var eS={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function nS(t){if("solid"===t)return null;var e=NT(1)/4;return eS[t].map(function(t){return t*e}).join(" ")}function rS(A,I){var T=I.x,N=I.y,z=I.y2,S=A.chart.select("g.fl-gridlines-vertical"),E=A.chart.select("g.fl-gridlines-horizontal"),L,D,C;return function(r){var e=UT(A.xScale()),n=UT(A.yScale()),i=UT(A.y2Scale());D=D||n,C=C||i;var o=(L=L||e).type===e.type&&"ordinal"!==e.type?L:e,a=L.type===e.type&&"ordinal"!==L.type?e:L,s=D.type===n.type&&"ordinal"!==n.type?D:n,l=D.type===n.type&&"ordinal"!==D.type?n:D,c=C.type===i.type&&"ordinal"!==i.type?C:i,u=C.type===i.type&&"ordinal"!==C.type?i:C,t=L?A.animationDuration():0,d=function t(e){if("x"===e&&"off"===I.x.axis_position)return[];if("x"!==e&&!I[e].axis_visible)return[];if(!I[e].gridlines_visible)return[];var n=A[e+"Hide"]();return n&&!n.keep_gridlines?[]:A[e+"Ticks"]()},f=d("x"),h=d("y"),p=d("y2"),g=f.map(function(t){return{type:t.type,value:t.value,dasharray:nS(T.gridline_style),stroke:T.gridline_color,width:NT(T.gridline_width,!0),x_enter:o(t.value),y1_enter:s.range()[1],y2_enter:s.range()[0],x:e(t.value),y1:n.range()[1],y2:n.range()[0]}}),_;T.gridline_category_dividers&&e.step&&(_=e.step(),g.pop(),g.forEach(function(t){var e,n;t.x_enter+=_/2,t.x+=_/2,T.gridline_category_dividers_extend&&(e=r.x&&"top"==r.x.pos,n=r.x&&"bottom"==r.x.pos,e?t.y2=r.x.extended_gridline:n&&(t.y1=r.x.extended_gridline))}));var y=h.map(function(t){return{axis:"y",type:t.type,value:t.value,dasharray:nS(N.gridline_style),stroke:N.gridline_color,width:NT(N.gridline_width,!0),x1_enter:o.range()[0],x2_enter:o.range()[1],y_enter:s(t.value),x1:e.range()[0],x2:e.range()[1],y:n(t.value)}}),m;N.gridline_category_dividers&&n.step&&(m=n.step(),y.pop(),y.forEach(function(t){t.y_enter-=m/2,t.y-=m/2,N.gridline_category_dividers_extend&&(t.x1=r.y.extended_gridline)}));var v=p.map(function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:nS(z.gridline_style),stroke:z.gridline_color,width:NT(z.gridline_width),x1_enter:o.range()[0],x2_enter:o.range()[1],y_enter:c(t.value),x1:e.range()[0],x2:e.range()[1],y:i(t.value)}}),b;z.gridline_category_dividers&&i.step&&(b=i.step(),v.pop(),v.forEach(function(t){t.y_enter-=b/2,t.y-=b/2,z.gridline_category_dividers_extend&&(t.x2=r.y2.extended_gridline)}));var x=y.concat(v),w=S.selectAll("line").data(g,function(t){return t.type+"-"+t.value});w.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(t).attr("x1",function(t){return a(t.value)}).attr("x2",function(t){return a(t.value)}).attr("y1",l.range()[1]).attr("y2",l.range()[0]).style("opacity",0).remove();var M=w.enter().append("line").style("shape-rendering","crispEdges").attr("x1",function(t){return t.x_enter}).attr("x2",function(t){return t.x_enter}).attr("y1",function(t){return t.y1_enter}).attr("y2",function(t){return t.y2_enter}).style("opacity",0);w.merge(M).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(t).attr("x1",function(t){return t.x}).attr("x2",function(t){return t.x}).attr("y1",function(t){return t.y1}).attr("y2",function(t){return t.y2}).style("opacity",1);var k=E.selectAll("line").data(x,function(t){return t.axis+"-"+t.type+"-"+t.value});k.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(t).attr("x1",a.range()[0]).attr("x2",a.range()[1]).attr("y1",function(t){return("y"===t.axis?l:u)(t.value)}).attr("y2",function(t){return("y"===t.axis?l:u)(t.value)}).style("opacity",0).remove();var j=k.enter().append("line").style("shape-rendering","crispEdges").attr("x1",function(t){return t.x1_enter}).attr("x2",function(t){return t.x2_enter}).attr("y1",function(t){return t.y_enter}).attr("y2",function(t){return t.y_enter}).style("opacity",0);k.merge(j).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(t).attr("x1",function(t){return t.x1}).attr("x2",function(t){return t.x2}).attr("y1",function(t){return t.y}).attr("y2",function(t){return t.y}).style("opacity",1),L=e,D=n,C=i}}function iS(c,u){var n=function t(){var e=null;(c.offsetLeft()||c.offsetTop())&&(e="translate("+c.offsetLeft()+","+c.offsetTop()+")"),c.chart.attr("transform",e)},r=function t(){var e=c.xScale({domain_only:!0}),n=c.xData(),r,i,o,a,s,l,r;r=n.string_array?e.domain():"number"===u.x.tick_mode?e.ticks(u.x.tick_number):"custom"===u.x.tick_mode?(i=ZT(u.x.tick_custom),o=e.domain(),a=o[0]<o[1]?o[0]:o[1],s=o[0]>o[1]?o[0]:o[1],n.datetime_array?(l=c.xDatetimeParse(),i.map(function(t){return l(t)}).filter(function(t){return BT(t)&&a<=t&&t<=s})):(l=c.xNumberParse(),i.map(function(t){return l(t)}).filter(function(t){return!isNaN(t)&&a<=t&&t<=s}))):e.ticks(),c.xTicks._update(r)},i=function t(){var e=c.yScale({domain_only:!0}),n=c.yData(),r,i,o,a,s,l,r;r=n.string_array?e.domain():"number"===u.y.tick_mode?e.ticks(u.y.tick_number):"custom"===u.y.tick_mode?(i=ZT(u.y.tick_custom),o=e.domain(),a=o[0]<o[1]?o[0]:o[1],s=o[0]>o[1]?o[0]:o[1],n.datetime_array?(l=c.yDatetimeParse(),i.map(function(t){return l(t)}).filter(function(t){return BT(t)&&a<=t&&t<=s})):(l=c.yNumberParse(),i.map(function(t){return l(t)}).filter(function(t){return!isNaN(t)&&a<=t&&t<=s}))):e.ticks(),c.yTicks._update(r)},o=function t(){var e=c.y2Scale({domain_only:!0}),n=c.y2Data(),r,i,o,a,s,l,r;r=n.string_array?e.domain():"number"===u.y2.tick_mode?e.ticks(u.y2.tick_number):"custom"===u.y2.tick_mode?(i=ZT(u.y2.tick_custom),o=e.domain(),a=o[0]<o[1]?o[0]:o[1],s=o[0]>o[1]?o[0]:o[1],n.datetime_array?(l=c.y2DatetimeParse(),i.map(function(t){return l(t)}).filter(function(t){return BT(t)&&a<=t&&t<=s})):(l=c.y2NumberParse(),i.map(function(t){return l(t)}).filter(function(t){return!isNaN(t)&&a<=t&&t<=s}))):e.ticks(),c.y2Ticks._update(r)},a=function t(e){c.margins._update(e)},s=qz(c,u),l=Vz(c,u),d=tS(c,u),f=rS(c,u);return function(t){if(t=t||{},ST(),n(),r(),i(),o(),a(t.margins),t.skip_rendering)return c;s(),l();var e=d();return f(e),c}}function oS(t,e){e=Ib(e);var n={},r=Nb(t);Object.defineProperty(n,"svg",{get:r.getSvg}),n.container=r.container,n.chart=Lb(n),n.data_background=n.chart.select("g.fl-data-background"),n.data_foreground=n.chart.select("g.fl-data-foreground"),n.identifier=Cb(n),n.clip=lx(n),n.animationDuration=sj(n);var i=bI(n);return n.width=i.width,n.height=i.height,n.plotAspect=i.plotAspect,Object.defineProperty(n,"plot_width",{get:i.plotWidth}),Object.defineProperty(n,"plot_height",{get:i.plotHeight}),n.offsetLeft=xI(n),n.offsetTop=wI(n),n.margins=pN(n,e),n.xData=QT(n),n.yData=QT(n),n.y2Data=QT(n),n.xFormat=cj(n),n.yFormat=cj(n),n.y2Format=cj(n),n.xNumberParse=mI(n),n.yNumberParse=mI(n),n.y2NumberParse=mI(n),n.xDatetimeParse=vI(n),n.yDatetimeParse=vI(n),n.y2DatetimeParse=vI(n),n.xTitle=rN(n,e),n.yTitle=iN(n,e),n.y2Title=oN(n,e),n.xTicks=JT(n,e),n.yTicks=tN(n,e),n.y2Ticks=eN(n,e),n.xScale=Zz(n,e),n.yScale=Hz(n,e),n.y2Scale=Gz(n,e),n.xZeroAxis=Bz(n),n.yZeroAxis=Bz(n),n.y2ZeroAxis=Bz(n),n.xHide=Qz(n),n.yHide=Qz(n),n.y2Hide=Qz(n),n.y2Hide(!0),n.update=iS(n,e),n}var aS={height_mode:"auto",facet_layout:"single",facet_aspect:66,facet_aspect_mobile:100,facet_aspect_breakpoint:500,facet_by_series:null,facet_min_w:100,facet_fixed_cols:!1,facet_cols:2,facet_gutter_w:1.5,facet_gutter_h:1.5,facet_header_color_mode:"auto",facet_header_color:null,facet_header_font_size:1.25,facet_header_padding:.25,facet_header_bg:"none",facet_header_bg_mode:"fixed",facet_header_bg_color:"#eeeeee",facet_title_align:"auto",chart_type:"line",secondary_series:1,sort_mode:"data",sort_direction:"ascending",series_filter_mode:"none",series_control_single:{button_group_width_mode:"auto"},series_control_single_all:!1,series_control_single_all_text:"All",series_filter:[],series_control_multi_text:"Enter series to show",series_control_multi_none_text:"No more series to show",series_control_select_text:"Press to select",max_series:50,series_control_background:null,series_control_border:"#eeeeee",series_control_text:null,series_control_pill_background:"#333333",series_control_pill_text:"#ffffff",series_control_pill_radius:20,row_filter:[],row_filter_control:{button_group_width_mode:"auto"},row_filter_control_all:!1,row_filter_control_all_text:"All",label_filter:[],controls_style:{},dropdown_style:{},button_style:{},log_control_y_visible:!1,log_control_y_text_linear:"Linear",log_control_y_text_log:"Log",log_control_y:{control_type:"buttons",button_group_width_fixed:10},popup:{},popup_series_text:"",popup_color_headers:!0,highlighted:null,current_series:0,color_mode:"column",color:{},bg_color_style:"none",bg_color:"#f7f7f7",legend_mode:"auto",legend:{title_mode:"fixed"},legend_position:"above",legend_filter_mode:"filter-out",text_legend:"off",text_legend_title:!0,text_legend_subtitle:!0,text_legend_bold:!0,labels:!1,labels_hide_overlaps:!0,labels_font_size_mode:"auto",labels_font_size:.9,labels_bg_mode:"auto",labels_bg_size:30,labels_font_weight:600,labels_color_mode:"auto",labels_fixed_color:null,labels_content:"auto",labels_dot_center:!1,labels_bar_autohide:!0,labels_bar_align:"right",labels_column_align:"top",labels_column_padding:.3,stack_labels:!1,stack_labels_font_size_mode:"auto",stack_labels_font_size:.9,stack_labels_color:null,stack_labels_weight:600,line_width:.2,line_opacity:1,line_curve:"curveMonotoneX",line_interpolate:!0,line_end_labels:!1,line_labels:{},line_dash_items:"",line_dash_width:5,line_dash_space_width:2,area_opacity:.7,shade_between_lines:!1,shade_between_lines_config:"",shade_between_lines_color:"#aaaaaa",shade_between_lines_opacity:"0.3",donut_inner_radius:30,donut_pad_angle:.5,donut_corner_radius:0,donut_auto_scale:!1,column_opacity:.9,column_padding_inner:25,column_padding_in_group:15,column_padding_stack:.5,bar_height:1,dot_mode:"auto",dot_mode_auto_max:250,dot_radius:.25,dot_radius_last:100,dot_opacity:1,dot_hollow:!1,data_trans_duration:800,data_trans_delay:0,data_trans_stagger:0,data_trans_bind_series:!0,data_trans_bind_data_points:!0,animate_on_load:!0,label_data_type:"auto",x:{title_mode:"custom"},x_axis_matching:!0,x_axis_date_format:"auto",x_axis_last_row_only:!0,y:{title_mode:"custom"},y_axis_matching:!0,y_axis_first_col_only:!0,bar_labels_above:!0,bar_labels_color:null,bar_labels_font_size:.9,bar_labels_weight:400,y2:{axis_visible:!0,gridlines_visible:!1,title_mode:"custom"},y_secondary_axis_matching:!0,y_secondary_axis_last_col_only:!0,chart_bg:{},annotations:{},anno_x_enabled:!1,anno_x_lines:"",anno_x_line_color:"#333333",anno_x_font_size:.9,anno_x_line_width:2,anno_x_line_dash:"2",anno_x_areas:"",anno_x_fill_color:"#555555",anno_x_fill_opacity:.1,anno_x_label_align:"top",anno_x_label_vertical:!0,anno_x_label_color:"#888888",anno_x_stack:"above",anno_y_enabled:!1,anno_y_lines:"",anno_y_line_color:"#333333",anno_y_font_size:.9,anno_y_line_width:2,anno_y_line_dash:"2",anno_y_areas:"",anno_y_fill_color:"#555555",anno_y_fill_opacity:.1,anno_y_label_align:"right",anno_y_label_color:"#888888",anno_y_stack:"above",layout:{},localization:{},number_format:{},number_format_secondary:{},number_format_prop:!0,datetime_input_format:"auto"};function sS(){var t;lS(yb(VQ.getSection("primary")).append("svg").attr("id","graphic").append("g").attr("class","facets").node()).chart.remove()}function lS(t){var e;return oS(t,{x:aS.x,y:aS.y,y2:aS.y2,background:aS.chart_bg})}var cS=25,uS=5,dS=10,fS=10,hS={},pS,gS;function _S(t,e,n,r,i,o,a){var s=n-t/2-10,l=n+t/2+10,c=t/2+Math.min(0,s-i.left)+Math.max(0,l-i.right),u,u=c-10<5?[-c,-15*o,Math.max(10,5-c),-10*o]:t-5<c+10?[Math.min(-10,t-c-5),-10*o,Math.min(10,t-c),-15*o]:[-10,-10*o,10,-10*o];return{pos:[c,a],shape:u}}function yS(t,e,n,r,i,o,a){var s=r-e/2-10,l=r+e/2+10,c=e/2+Math.min(0,s-i.top)+Math.max(0,l-i.bottom),u,u=c-10<5?[-15*o,-c,-10*o,Math.max(10,5-c)]:e-5<c+10?[-10*o,Math.min(-10,e-c-5),-15*o,Math.min(10,e-c)]:[-10*o,-10,-10*o,10];return{pos:[a,c],shape:u}}function mS(t,e,n,r,i,o){var a=hS[t](e,n,r,i,o),s=r-cS-a.pos[0],l=i-cS-a.pos[1];return{left:s,top:l,right:s+e+2*cS,bottom:l+n+2*cS}}function vS(t,e,n,r,i,o,a,s,l,c){var u=hS[t](r,i,s,l,c);e.left=o-cS-u.pos[0]+"px",e.top=a-cS-u.pos[1]+"px",n.setAttribute("d","M0,0L"+u.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(u.pos[0]+cS)+","+(u.pos[1]+cS)+")")}function bS(){var e=this;function t(t){return e._maxWidth.match(/^\d+(?:\.\d+)?%$/)?t.width*parseFloat(e._maxWidth)/100:e._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(e._maxWidth):(null!=e._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+e._maxWidth),t.width)}if(e._point){var n=document.documentElement.getBoundingClientRect(),r=e._point[0],i=e._point[1],o=e._container.getBoundingClientRect();r<o.left?r=o.left:r>o.right&&(r=o.right),i<o.top?i=o.top:i>o.bottom&&(i=o.bottom);var a=r-n.left,s=i-n.top,l=e._getElement(),c=l.style,u=l.querySelector(".flourish-popup-svg"),d=u.querySelector("g"),f=d.querySelector("rect"),h=d.querySelector("path"),p=l.querySelector(".flourish-popup-content");c.display="block",p.style.maxWidth=t(o)+"px",e._inner_html!=e._html&&(p.innerHTML=e._inner_html=e._html);for(var g=p.getBoundingClientRect(),_,y;_=Math.ceil(g.width),y=Math.ceil(g.height),c.width=_+2*cS+"px",c.height=y+2*cS+"px",g=p.getBoundingClientRect(),_!=Math.ceil(g.width)||y!=Math.ceil(g.height););f.setAttribute("width",_),f.setAttribute("height",y),u.setAttribute("width",_+2*cS),u.setAttribute("height",y+2*cS);for(var m=cS-10,v=null,b=null,x=null,w=1/0,M=1/0,k,j,A=0;A<e._directions.length;A++){var I=e._directions[A],T=mS(I,_,y,r,i,o),N=Math.max(0,Math.floor(o.left)-T.left-m)+Math.max(0,T.right-Math.ceil(o.right)-m),z=Math.max(0,Math.floor(o.top)-T.top-m)+Math.max(0,T.bottom-Math.ceil(o.bottom)-m);if(0==N&&0==z){v=I;break}(N<w||N==w&&z<k)&&(w=N,k=z,b=I),(z<M||z==M&&N<j)&&(M=z,j=N,x=I)}return vS(I=v||("horizontal"==e._fallbackFit?b:"vertical"==e._fallbackFit?x:(console.warn("Popup: failed to point box of size ("+_+", "+y+") at ("+r+", "+i+") within ("+o.left+", "+o.top+", "+o.right+", "+o.bottom+")"),e._directions[0])),c,h,_,y,a,s,r,i,o),e}console.error("Popup: cannot draw popup till point() has been specified")}function xS(t,e,n){var r=document.createElementNS("http://www.w3.org/2000/svg",t),i;if(e)for(i in e)r.setAttribute(i,e[i]);var o=r.style;if(n)for(i in n)o[i]=n[i];return r}function wS(){var e=this,t="flourish-popup-"+e.unique_id,n=document.getElementById(t),r,i,o,a,s,l,c;return n||((n=document.createElement("div")).className="flourish-popup",n.id=t,(r=n.style).display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",n.addEventListener("click",function(t){e.fire("click",t)},!1),i=xS("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),(o=xS("filter",{id:"dropshadow-"+e.unique_id,height:"130%"})).appendChild(xS("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),o.appendChild(xS("feOffset",{dx:0,dy:2,result:"offsetblur"})),(a=xS("feComponentTransfer")).appendChild(xS("feFuncA",{type:"linear",slope:.2})),o.appendChild(a),s=xS("feMerge"),o.appendChild(s),s.appendChild(xS("feMergeNode")),s.appendChild(xS("feMergeNode",{in:"SourceGraphic"})),i.appendChild(o),(l=xS("g",{filter:"url(#dropshadow-"+e.unique_id+")",fill:"white",stroke:"none"})).appendChild(xS("rect",{x:cS,y:cS,rx:5})),l.appendChild(xS("path")),i.appendChild(l),n.appendChild(i),(c=document.createElement("div")).className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left=cS+"px",r.padding="10px",n.appendChild(c),e._getConstrainer().appendChild(n)),e._resizeConstrainer(),n}function MS(){return pS||((pS=document.createElement("div")).id="flourish-popup-constrainer",(gS=pS.style).overflow="hidden",gS.pointerEvents="none",gS.position="absolute",gS.left="0",gS.top="0",gS.margin="0",gS.padding="0",document.body.appendChild(pS),this._resizeConstrainer(),pS)}function kS(){var t=gS.display;gS.display="none",gS.width=document.documentElement.scrollWidth+"px",gS.height=document.documentElement.scrollHeight+"px",gS.display=t}hS.bottom=function t(e,n){return{shape:[-10,-10,10,-10],pos:[e/2,n+10]}},hS.top=function t(e,n){return{shape:[-10,10,10,10],pos:[e/2,-10]}},hS.left=function t(e,n){return{shape:[10,10,10,-10],pos:[-10,n/2]}},hS.right=function t(e,n){return{shape:[-10,10,-10,-10],pos:[e+10,n/2]}},hS.topLeft=function t(e,n){return{shape:[15,10,10,15],pos:[-10,-10]}},hS.bottomLeft=function t(e,n){return{shape:[15,-10,10,-15],pos:[-10,n+10]}},hS.topRight=function t(e,n){return{shape:[-15,10,-10,15],pos:[e+10,-10]}},hS.bottomRight=function t(e,n){return{shape:[-15,-10,-10,-15],pos:[e+10,n+10]}},hS.bottomFlexible=function t(e,n,r,i,o){return _S(e,n,r,i,o,1,n+10)},hS.topFlexible=function t(e,n,r,i,o){return _S(e,n,r,i,o,-1,-10)},hS.rightFlexible=function t(e,n,r,i,o){return yS(e,n,r,i,o,1,e+10)},hS.leftFlexible=function t(e,n,r,i,o){return yS(e,n,r,i,o,-1,-10)};var jS="2.1.2",AS=1,IS={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function TS(){for(var t in this.unique_id=AS++,IS)this["_"+t]=IS[t];this.handlers={click:[]}}function NS(e){TS.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}for(var zS in IS)NS(zS);function SS(t){return t.replace(/[&<>]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})}function ES(){return new TS}TS.prototype.point=function(t,e){return void 0===t?this._point:(Array.isArray(t)?this._point=[t[0],t[1]]:void 0!==e?this._point=[t,e]:t instanceof HTMLElement||t instanceof SVGElement?(n=t.getBoundingClientRect(),this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]):console.error("Popup: could not understand argument"),this);var n},TS.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},TS.prototype.text=function t(e){return this._html=SS(e),this},TS.prototype.on=function t(e,n){if(!(e in this.handlers))throw new Error("Popup.on: No such event: "+e);return this.handlers[e].push(n),this},TS.prototype.fire=function t(e,n){if(!(e in this.handlers))throw new Error("Popup.fire: No such event: "+e);for(var r=this.handlers[e],i=0;i<r.length;i++)r[i].call(this,n);return this},TS.prototype._getElement=wS,TS.prototype._getConstrainer=MS,TS.prototype._resizeConstrainer=kS,TS.prototype.draw=bS,TS.prototype.hide=function t(){return this._getElement().style.display="none",this};var LS={show_popups:!0,text_color:"#333333",align:"left",font_size:12,fill_color:"#ffffff",opacity:1,padding:10,border_radius:3,show_pointer:!0,show_shadow:!0,is_custom:!(ES.version=jS),style_popups:!1};function DS(t){if("number"!=typeof t)return t;var e=Math.round(t*Math.pow(10,2))/100;return 4==Math.round(t).toString().length?e:sz(",")(e)}function CS(){var t;document.querySelector("#popup-styles")||((t=document.createElement("style")).id="popup-styles",t.type="text/css",t.innerHTML=".flourish-popup { pointer-events: none; }.flourish-popup .flourish-popup-content { pointer-events: auto; }.flourish-popup h1 { margin: 0; font-size: inherit; }.flourish-popup h2 { font-weight: normal; font-size: inherit; margin: 0; }.flourish-popup h2 .name { font-weight: bold; }.flourish-popup ul { padding: 0; margin: 0; }.flourish-popup li { font-size: inherit; list-style: none; }",document.head.appendChild(t))}function OS(t,e,n,r){for(var i in this._state=e,this._default_template=n,this._first_load=!0,this._title_binding=r||"id",LS)null==e[i]&&(e[i]=LS[i]);CS(),this.popup=ES().container(t).point(0,0).draw().hide()}function PS(t,e,n,r){return new OS(t,e,n,r)}function RS(t){throw new TypeError("Expected a value of type string but got a value of type "+typeof t)}function YS(e){return function(t){return"string"!=typeof t&&RS(t),(t=t.trim())?e(t):null}}function US(t,e){var n=Kj(t),r=Jj(t),i,i=YS("function"==typeof e?function(t){return null!==n(t)&&e(t)}:function(t){return null!==n(t)});return Object.freeze({test:i,parse:YS(function(t){return n(t)}),format:function(t){return r(t)},type:"datetime",description:t,id:"datetime$"+t})}OS.prototype.addColumnNames=function(t){if(this._column_names=t,!this._state.custom_template&&this._first_load){for(var e in this._column_names)if(!Array.isArray(this._column_names[e])){var n=this._column_names[e];this._state.custom_template=n+": {{"+n+"}}";break}this._first_load=!1}return this},OS.prototype.hide=function(){return this.popup.hide(),this},OS.prototype.point=function(t,e){var n;return 1==arguments.length&&(t=(n=t.getBoundingClientRect()).left+n.width/2,e=n.top),this.popup.point(t,e),this},OS.prototype.html=function(t){return this.popup.html(t),this},OS.prototype.updateStyle=function(){var t=this.popup._getElement(),e=t.querySelector(".flourish-popup-content");e.style.padding=this._state.padding+"px",e.style.textAlign=this._state.align;var n=t.querySelector(".flourish-popup-svg g");return n.style.fill=this._state.fill_color,n.style.opacity=this._state.opacity,0==this._state.show_shadow?n.removeAttribute("filter"):n.setAttribute("filter","url(#dropshadow-"+this.popup.unique_id+")"),n.querySelector("rect").setAttribute("rx",this._state.border_radius),n.querySelector("path").style.display=this._state.show_pointer?"block":"none",this},OS.prototype.draw=function(i,t){if(this._state.show_popups){var o=this;if(this.updateStyle(),!arguments.length)return this.popup.draw(),t&&t(this.popup._getElement()),this;var n="<div style='color: "+this._state.text_color+"; font-size: "+this._state.font_size+"px; text-align:"+this._state.align+";'>";if(this._state.is_custom||this._default_template)!this._state.is_custom&&this._default_template?n+=this._default_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(o._column_names[n])){var e=o._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+": "+i[n][e]+"</li>"}),r+="</ul>"}else r=i[n];return void 0!==r?DS(r):""}):n+=this._state.custom_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;return Object.keys(o._column_names).some(function(t){if(Array.isArray(o._column_names[t])){var e=o._column_names[t].indexOf(n);if(0<=e)return r=i[t][e],!0}else if(o._column_names[t]==n)return r=i[t],!0}),void 0!==r?DS(r):""});else{i[this._title_binding]&&(n+="<h1>"+i[this._title_binding]+"</h1>");var e={},r;for(var a in this._column_names){if(a!=this._title_binding)if("metadata"==a){if(!Array.isArray(i.metadata))return;for(var s=0;s<i.metadata.length;s++)e[r=this._column_names.metadata[s]]||(e[r]=!0,n+="<h2><span class='name' data-binding='metadata'>"+r+"</span>: "+DS(i.metadata[s])+"</h2>")}else{if(r=this._column_names[a],Array.isArray(r)){r.forEach(function(t,e){n+="<h2><span class='name' data-binding='"+a+"'>"+t+"</span>: "+DS(i[a][e])+"</h2>"});continue}if(e[r])continue;e[r]=!0,n+="<h2><span class='name' data-binding='"+a+"'>"+r+"</span>: "+DS(i[a])+"</h2>"}}n+="</div>"}return this.popup.html(n).draw(),t&&t(this.popup._getElement()),this}},OS.prototype.directions=function(t){return this.popup.directions(t),this},OS.prototype.container=function(t){return this.popup.container(t),this};var FS=Object.freeze([US("%Y-%m-%dT%H:%M:%S.%LZ"),US("%Y-%m-%d"),US("%m/%d/%y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=12&&0<e[1]&&e[1]<=31&&!isNaN(e[2])}),US("%d/%m/%y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12&&!isNaN(e[2])}),US("%m/%d/%Y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=12&&0<e[1]&&e[1]<=31&&1e3<=e[2]}),US("%d/%m/%Y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12&&1e3<=e[2]}),US("%d-%b-%y"),US("%m/%y"),US("%m/%Y"),US("%b %Y"),US("%B %d"),US("%d %b"),US("%Y",function(t){var e=parseFloat(t);return 1499<e&&e<2200}),US("%B"),US("%b"),US("%X"),US("%I:%M %p"),US("%-I%p"),US("%H:%M"),US("Q%q %Y",function(t){return 6===t.replace(/\s/g,"").length}),US("%Y Q%q",function(t){return 6===t.replace(/\s/g,"").length})]);function BS(t){var e,n,r=cz({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]}),i,o;return function(t,e){return(e=e||",.2f")!==o&&(o=e,i=r.format(o)),i(t)}}var ZS={test:YS(function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:YS(function(t){return parseFloat(t.replace(/,/g,""))}),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point"},HS={test:YS(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:YS(function(t){return parseFloat(t.replace(/\s/g,""))}),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point"},GS={test:YS(function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:YS(function(t){return parseFloat(t)}),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point"},QS={test:YS(function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:YS(function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))}),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma"},qS={test:YS(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:YS(function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))}),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma"},VS={test:YS(function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:YS(function(t){return parseFloat(t.replace(/,/,"."))}),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma"},WS={test:function(t){return GS.test(t)||ZS.test(t)},parse:ZS.parse,description:"Optional comma separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$opt_comma_point"},$S={test:function(t){return VS.test(t)||QS.test(t)},parse:QS.parse,description:"Optional point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$opt_point_comma"},XS={test:function(t){return VS.test(t)||qS.test(t)},parse:qS.parse,description:"Optional space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$opt_space_comma"},JS={test:function(t){return GS.test(t)||HS.test(t)},parse:HS.parse,description:"Optional space separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$opt_space_point"},KS=Object.freeze([ZS,HS,QS,qS,GS,VS,WS,$S,XS,JS]);KS.forEach(function(t){t.type="number",t.format=BS(t),Object.freeze(t)});var tE=Object.freeze({test:function(t){return"string"==typeof t||RS(t)},parse:function(t){return"string"==typeof t?t:RS(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),eE=Object.freeze({datetime:FS,number:KS}),nE=Object.freeze(["datetime","number","string"]),rE=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),iE=Object.freeze(Object.keys(rE)),oE,aE,sE;function lE(t){return t.replace(/_(\w)/g,function(t,e){return e.toUpperCase()})}function cE(t,e){return t.index-e.index}function uE(t,e){return e.n_success-t.n_success||cE(t,e)}function dE(t){return(""+t).trim()}function fE(n){return void 0===n?dE:"function"==typeof n?function(t,e){return dE(n(t,e))}:function(t){return dE(t[""+n])}}function hE(t){t?Array.isArray(t)||(t=[t]):t=nE;var i=t.reduce(function(t,e){var n=eE[e];return n&&Array.prototype.push.apply(t,n),t},[]),o=-1!==t.indexOf("string"),a=iE.reduce(function(t,e){return t[e]=rE[e],t},{}),n=function(t,e){e=fE(e);var c=t.map(e).filter(function(t){return t});if(!c.length)return o?[tE]:[];var u=Math.min(a.n_max,c.length),d=Math.floor(u*a.failure_fraction),f=a.n_failing_values,n=a.sort?uE:cE,r=i.slice().reduce(function(t,e,n){for(var r=a=0,i=[],o=!1,a=0;a<u;a++){var s=c[a],l;if(!e.test(s)&&(++r>d?o=!0:-1===i.indexOf(s)&&(i.push(s),i.length>f&&(o=!0)),o))break}return o||t.push({interp:e,n_success:u-r,index:n}),t},[]).sort(n).map(function(t){return t.interp});return o&&r.push(tE),r};return iE.forEach(function(e){n[lE(e)]=function(t){return void 0===t?a[e]:(a[e]=t,n)}}),n}function pE(){(sE=document.createElement("style")).id="flourish-page-styles",sE.type="text/css",document.head.appendChild(sE)}function gE(){var t,i="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var n="@media(min-width: "+qE["breakpoint_"+t]+"px) {\n",r="html { font-size:"+qE["font_size_"+t]+"%; }";i+=(0==e?"":n)+r+(0==e?"":"\n}")+"\n\n"}),sE.innerHTML=i;var e=[qE.body_font,qE.title_font,qE.subtitle_font,qE.footer_font];e.forEach(function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0,i,o;r<n.length;r++){n[r].href==t.url&&(e=!0)}e||((o=document.createElement("link")).setAttribute("rel","stylesheet"),o.setAttribute("href",t.url),o.className="layout-font",document.head.appendChild(o))}});for(var n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){var o=n[r],a=!1;e.forEach(function(t){t&&t.url==o.href&&(a=!0)}),a||o.parentElement.removeChild(o)}document.body.style.fontFamily=qE.body_font.name}hE.DATETIME_IDS=Object.freeze(FS.map(function(t){return t.id})),hE.NUMBER_IDS=Object.freeze(KS.map(function(t){return t.id})),hE.STRING_IDS=Object.freeze([tE.id]),hE.getInterpretation=(aE=FS.concat(KS,tE).reduce(function(t,e){return t[e.id]=e,t},{}),function(t){return aE[t]}),hE._createAccessorFunction=fE;var _E=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]}),yE=(mE=document.createElement("canvas").getContext("2d"),function(t,e){var n;return mE.font=e||"10px sans-serif",mE.measureText(t).width}),mE,vE,bE,xE,wE,ME,kE,jE,AE,IE;function TE(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}function NE(){(vE=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return bE=document.createElement("h1"),xE=document.createElement("h2"),wE=document.createElement("p"),ME=document.createElement("img"),vE.appendChild(ME),vE.appendChild(t),t.appendChild(bE),t.appendChild(xE),vE.appendChild(wE),vE}function zE(){vE.style.textAlign=qE.header_align,vE.style.margin=0,vE.style.borderTop="top"==qE.header_border?qE.header_border_width+"px "+qE.header_border_style+" "+qE.header_border_color:null,vE.style.borderBottom="bottom"==qE.header_border?qE.header_border_width+"px "+qE.header_border_style+" "+qE.header_border_color:null,vE.style.paddingTop="top"==qE.header_border?qE.header_border_space+"rem":"",vE.style.paddingBottom="bottom"==qE.header_border?qE.header_border_space+"rem":"",bE.innerHTML=qE.title?qE.title:"",bE.style.fontFamily=qE.title_font?qE.title_font.name:"inherit",bE.style.fontSize=("custom"!=qE.title_size?qE.title_size:qE.title_size_custom)+"rem",bE.style.lineHeight=qE.title_line_height,bE.style.fontWeight=qE.title_weight,bE.style.color=qE.title_color||qE.font_color,bE.style.margin=0,bE.style.paddingTop=qE.title?("custom"==qE.title_space_above?qE.title_space_above_custom:qE.title_space_above)+"rem":0,xE.innerHTML=qE.subtitle?qE.subtitle:"",xE.style.fontFamily=qE.subtitle_font?qE.subtitle_font.name:"inherit",xE.style.fontSize=("custom"!=qE.subtitle_size?qE.subtitle_size:qE.subtitle_size_custom)+"rem",xE.style.lineHeight=qE.subtitle_line_height,xE.style.fontWeight=qE.subtitle_weight,xE.style.color=qE.subtitle_color||qE.font_color,xE.style.margin=0,xE.style.paddingTop=qE.subtitle?("custom"==qE.subtitle_space_above?qE.subtitle_space_above_custom:qE.subtitle_space_above)+"rem":0,wE.innerHTML=qE.header_text?qE.header_text:"",wE.style.fontSize=("custom"!=qE.header_text_size?qE.header_text_size:qE.header_text_size_custom)+"rem",wE.style.lineHeight=qE.header_text_line_height,wE.style.fontWeight=qE.header_text_weight,wE.style.margin=0,wE.style.color=qE.header_text_color||qE.font_color,wE.style.paddingTop=qE.header_text?("custom"==qE.header_text_space_above?qE.header_text_space_above_custom:qE.header_text_space_above)+"rem":0,ME.style.display=qE.header_logo_enabled&&TE(qE.header_logo_src)?"":"none",ME.style.position="inside"==qE.header_logo_align?"":"fixed",ME.style.height=qE.header_logo_height+"rem",ME.style.top="outside"==qE.header_logo_align?0:"",ME.style.left="outside"==qE.header_logo_align&&"left"==qE.header_logo_position_outside?0:"",ME.style.right="outside"==qE.header_logo_align&&"right"==qE.header_logo_position_outside?0:"",ME.style.marginTop=qE.header_logo_margin_top+"rem",ME.style.marginBottom=qE.header_logo_margin_bottom+"rem",ME.style.marginLeft=qE.header_logo_margin_left+"rem",ME.style.marginRight=qE.header_logo_margin_right+"rem",ME.style.float="top"==qE.header_logo_position_inside||"outside"==qE.header_logo_align?"":qE.header_logo_position_inside,ME.style.width="auto",ME.src=TE(qE.header_logo_src)?qE.header_logo_src:""}var SE=!1;function EE(){var t=document.createElement("style");t.type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t)}function LE(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function DE(){return EE(),(kE=document.createElement("footer")).className="flourish-footer",(jE=document.createElement("div")).className="flourish-footer-text",(IE=document.createElement("a")).target="_blank",(AE=document.createElement("img")).className="flourish-footer-logo",IE.appendChild(AE),kE.appendChild(jE),kE.appendChild(IE),kE}function CE(t){if(t){var e=yw(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}function OE(){return qE.background_color_enabled&&!CE(qE.background_color)}function PE(){var t=TE(qE.footer_logo_src)?qE.footer_logo_src:"";return TE(qE.footer_logo_src_light)&&OE()&&(t=qE.footer_logo_src_light),t}function RE(){return qE.footer_logo_enabled&&PE()}function YE(){var t=[{name:qE.source_name,url:qE.source_url},{name:qE.multiple_sources?qE.source_name_2:"",url:qE.multiple_sources?qE.source_url_2:""},{name:qE.multiple_sources?qE.source_name_3:"",url:qE.multiple_sources?qE.source_url_3:""}].filter(function(t){return t.name||t.url});SE=0<t.length||qE.footer_note||qE.footer_note_secondary||RE(),kE.style.display="flex",kE.style.height=SE?null:0,kE.style.width="100%",kE.style.paddingTop="top"==qE.footer_border?qE.footer_border_space+"rem":"",kE.style.paddingBottom="bottom"==qE.footer_border?qE.footer_border_space+"rem":"",kE.style.borderTop="top"==qE.footer_border?qE.footer_border_width+"px "+qE.footer_border_style+" "+qE.footer_border_color:"",kE.style.borderBottom="bottom"==qE.footer_border?qE.footer_border_width+"px "+qE.footer_border_style+" "+qE.footer_border_color:"",kE.style.fontFamily=qE.footer_font?qE.footer_font.name:"inherit","justify"==qE.footer_align?kE.style.justifyContent="space-between":"left"==qE.footer_align?kE.style.justifyContent="flex-start":"right"==qE.footer_align?kE.style.justifyContent="flex-end":"center"==qE.footer_align&&(kE.style.justifyContent="center"),kE.style.fontSize=qE.footer_text_size+"rem",kE.style.color=qE.footer_text_color||qE.font_color,kE.style.alignItems=qE.footer_align_vertical;var i=document.createElement("span");t.forEach(function(t,e){var n=document.createElement("p"),r;0<e&&(n.innerText=", "),t.url?((r=document.createElement("a")).innerText=t.name||t.url,r.href=LE(t.url),r.target="_blank",n.appendChild(r)):n.innerText+=t.name||t.url,i.innerHTML+=n.innerHTML}),jE.style.order="left"==qE.footer_logo_order?2:"",jE.style.textAlign="justify"==qE.footer_align?"":qE.footer_align;var e="<p>";e+=""!==i.innerHTML?qE.source_label+" "+i.innerHTML:"",e+=qE.footer_note?(""!==i.innerHTML?" • ":"")+qE.footer_note:"",e+="</p>",e+=qE.footer_note_secondary?"<br /><p>"+qE.footer_note_secondary+"</p>":"",jE.innerHTML=e,AE.src=PE(),AE.style.height=qE.footer_logo_height+"rem",AE.style.marginLeft="right"==qE.footer_logo_order?qE.footer_logo_margin+"rem":"",AE.style.marginRight="left"==qE.footer_logo_order?qE.footer_logo_margin+"rem":"",AE.style.verticalAlign=qE.footer_align_vertical,AE.style.display=RE()?"":"none",IE.href=""==qE.footer_logo_link_url?"":LE(qE.footer_logo_link_url),IE.style.cursor=""==qE.footer_logo_link_url?"default":"pointer"}function UE(t){t||gE(),zE(),YE(),FE();var e=XE.wrapper.style;e.height="100vh",e.color=qE.font_color,e.maxWidth="wrapper"==qE.max_width_target?qE.max_width+"px":"",e.marginLeft="wrapper"==qE.max_width_target&&"left"!=qE.max_width_align?"auto":"",e.marginRight="wrapper"==qE.max_width_target&&"right"!=qE.max_width_align?"auto":"",e.padding=qE.margin_top+"rem "+qE.margin_right+"rem "+qE.margin_bottom+"rem "+qE.margin_left+"rem",e.borderTop=qE.border.enabled?qE.border.top.width+"px "+qE.border.top.style+" "+qE.border.top.color:"",e.borderRight=qE.border.enabled?qE.border.right.width+"px "+qE.border.right.style+" "+qE.border.right.color:"",e.borderBottom=qE.border.enabled?qE.border.bottom.width+"px "+qE.border.bottom.style+" "+qE.border.bottom.color:"",e.borderLeft=qE.border.enabled?qE.border.left.width+"px "+qE.border.left.style+" "+qE.border.left.color:"";var n=XE.primary.outer.style,r=XE.legend.outer.style,i=parseFloat(n.order)>parseFloat(r.order)?"above":"below";_E[qE.layout_order].forEach(function(t,e){XE[t].outer.style.order=10*e}),n.flex="1 1 auto",n.height=null,mL(i),r.textAlign=qE.header_align,XE.controls.outer.style.textAlign=qE.header_align,XE.primary.outer.style.maxWidth="primary"==qE.max_width_target?qE.max_width+"px":"",XE.primary.outer.style.marginLeft="primary"==qE.max_width_target&&"left"!=qE.max_width_align?"auto":"",XE.primary.outer.style.marginRight="primary"==qE.max_width_target&&"right"!=qE.max_width_align?"auto":"";var o=qE.screenreader_hide_primary&&""!=qE.screenreader_text_primary,a,s;document.getElementById("fl-layout-primary-description").innerText=qE.screenreader_hide_primary?qE.screenreader_text_primary:"",o?XE.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):XE.primary.outer.removeAttribute("aria-describedBy"),qE.screenreader_hide_primary?XE.primary.inner.setAttribute("aria-hidden",!0):XE.primary.inner.removeAttribute("aria-hidden");var l=(s="custom"==qE.space_between_sections?qE.space_between_sections_custom:qE.space_between_sections)/2+"rem";WE.map(function(t){var e=XE[t],n=e.outer.style,r;return{name:t,height:KE(e.inner),order:parseFloat(n.order),style:n}}).sort(function(t,e){return t.order-e.order}).filter(function(t){return!!t.height||(t.style.paddingBottom="",void(t.style.paddingTop=""))}).forEach(function(t,e,n){t.style.paddingTop=e?l:"",t.style.paddingBottom=e<n.length-1?l:""})}function FE(){document.body.style.backgroundColor=qE.background_color_enabled?qE.background_color:"transparent",document.body.style.backgroundImage=qE.background_image_enabled?"url("+qE.background_image_src+")":"",document.body.style.backgroundSize=qE.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=qE.background_image_position}var BE=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});function ZE(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}var HE="Your web browser does not support the features used by this content. Consider updating to a modern browser.",GE,QE,qE;function VE(t){return window.innerWidth!==GE&&(GE=window.innerWidth,QE=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*QE}var WE=["header","controls","legend","primary","footer"],$E,XE={};function JE(t){return t.getBoundingClientRect().width}function KE(t){return t.getBoundingClientRect().height}function tL(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",XE.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}function eL(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",nL(r)),"controls"!=t&&"legend"!=t||i.setAttribute("aria-hidden",!0),r.appendChild(i),XE.wrapper.appendChild(r),{outer:r,inner:i}}function nL(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;return n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e),e}function rL(){var t=XE.primary.outer;t.style.position="relative",($E=document.createElement("div")).id="fl-layout-overlay";var e=$E.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");return n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",$E.appendChild(n),t.appendChild($E),$E}function iL(){return XE.wrapper}function oL(){return XE.sidebar}function aL(t){return-1!==WE.indexOf(t)?XE[t].inner:null}function sL(t){return XE[t]||void 0===t?JE("wrapper"==t||void 0===t?XE.wrapper:XE[t].outer):null}function lL(t){return XE[t]||void 0===t?"wrapper"==t||void 0===t?JE(XE.wrapper)-gL("horizontal")-_L("horizontal"):JE(XE[t].inner):null}function cL(t){return XE[t]||void 0===t?KE("wrapper"==t||void 0===t?XE.wrapper:XE[t].outer):null}function uL(t){return XE[t]||void 0===t?"wrapper"==t||void 0===t?KE(XE.wrapper)-gL("vertical")-_L("vertical"):KE(XE[t].inner):null}function dL(){return KE(XE.primary.outer)-hL(XE.primary.outer)}function fL(){return JE(XE.primary.inner)}function hL(t){var e,n;return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function pL(){var t,e,n;return ZE()-gL("vertical")-_L("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+cL(e)},0)-hL(XE.primary.outer)}function gL(t){var e;return"left"==t?e=qE.margin_left:"right"==t?e=qE.margin_right:"top"==t?e=qE.margin_top:"bottom"==t?e=qE.margin_bottom:"horizontal"==t?e=qE.margin_left+qE.margin_right:"vertical"==t&&(e=qE.margin_top+qE.margin_bottom),VE(e)}function _L(t){return qE.border.enabled?"vertical"==t?qE.border.top.width+qE.border.bottom.width:"horizontal"==t?qE.border.left.width+qE.border.right.width:null:0}function yL(t){var e=XE.primary,n,r;Flourish.fixed_height||void 0===Flourish.fixed_height?e.inner.style.height="":(r=(n=null===t)?pL():t)+hL(XE.primary.outer)!==parseFloat(e.outer.style.height)&&(XE.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:cL()))}function mL(t){var e=parseFloat(XE.primary.outer.style.order);XE.legend.outer.style.order=e+("below"===t.trim().toLowerCase()?1:-1)}function vL(t){var e=$E.querySelector(".fl-layout-overlay-message"),n;t?($E.style.display="block",n="string"==typeof t?t:HE,e.innerHTML=n):(e.textContent="",$E.style.display="none")}function bL(){return $E}function xL(t){for(var e in qE=t,BE)void 0===qE[e]&&(qE[e]=BE[e]);return pE(),XE.wrapper=tL(),WE.forEach(function(t,e){XE[t]=eL(t,e)}),aL("header").appendChild(NE()),aL("footer").appendChild(DE()),XE.primary.outer.style.overflow="hidden",rL(),UE(!0),{update:UE,getWrapper:iL,getSidebar:oL,getSection:aL,getOuterWidth:sL,getInnerWidth:lL,getOuterHeight:cL,getInnerHeight:uL,getPrimaryHeight:dL,getPrimaryWidth:fL,getDefaultPrimaryHeight:pL,setHeight:yL,setLegendPosition:mL,showOverlay:vL,remToPx:VE,getOverlay:bL}}function wL(){return this.declarations=[],this}function ML(t){return this.selector=t,this.styles=[],this}wL.prototype.select=function(t){if(!t)return this;var e=new ML(t,this);return(e.parent=this).addDeclaration(e),e},wL.prototype.addDeclaration=function(t){return this.declarations.push(t),this},wL.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},wL.prototype.clear=function(){return this.declarations=[],this},ML.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},ML.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var kL=Object.freeze({font_size:1,font_weight:"bold",padding:.4});function jL(t,e,n){for(var r in this._state=t,kL)void 0===this._state[r]&&(this._state[r]=kL[r]);return this._layout=n||{},this._styles=new wL,this._selector=e,this._createStylesheet(),this}jL.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},jL.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+".fl-control .button").style("padding",this._state.padding+"rem "+2*this._state.padding+"rem"),this._styles.select(this._selector+" .list-item").style("padding",Math.max(this._state.padding,.5)+"rem"),this._styles.select(this._selector+"-dropdown .main").style("padding",this._state.padding+"rem "+1.5*this._state.padding+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("padding",this._state.padding+"rem 0"),this._stylesheet.innerHTML=this._styles.print()};var AL=(IL=document.createElement("canvas").getContext("2d"),function(t,e){var n;return IL.font=e||"10px sans-serif",IL.measureText(t).width}),IL;function TL(t,e){if("string"!=typeof t)return!1;var n=yw(t);return n.opacity=void 0!==e?e:1,n}function NL(t,e){var n=TL(t,e);return!!n&&n.toString()}var zL=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function SL(t,e,n){for(var r in this._state=t,zL)void 0===this._state[r]&&(this._state[r]=zL[r]);return this._layout=n||{},this._styles=new wL,this._selector=e,this._createStylesheet(),this}SL.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},SL.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=NL(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("box-sizing","content-box").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var EL=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function LL(t,e,n){for(var r in this._state=t,EL)void 0===this._state[r]&&(this._state[r]=EL[r]);return this._layout=n||{},this._styles=new wL,this._selector=e,this._createStylesheet(),this}function DL(t,e,n){return new jL(t,e,n)}function CL(t,e,n){return new SL(t,e,n)}function OL(t,e,n){return new LL(t,e,n)}LL.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},LL.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=NL(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" .main").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+" .main .symbol").style("float","right").select("div").style("border-top-color",e+" !important"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var PL=Object.freeze({input_decimal_separator:".",output_separators:",."});function RL(t,e){return{decimal:t,thousands:e,grouping:[3],currency:["",""]}}function YL(e){var n=new RegExp("[^-0-9eE"+e+"]","g");return function(t){return"number"==typeof t?t:""===t||void 0===t?NaN:parseFloat(t.replace(n,"").replace(e,"."))}}function UL(t){var e=1<t.length,n=e?t.charAt(1):t.charAt(0),r=e?t.charAt(0):"",i=cz(RL(n,r)).format;return i.decimal=n,i.thousands=r,i}function FL(t){for(var e in PL)void 0===t[e]&&(t[e]=PL[e]);return{getParser:function(){return YL(t.input_decimal_separator)},getFormatterFunction:function(){return UL(t.output_separators)}}}var BL=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function ZL(t,e){if(!(e=0<e?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return 0<e?Math.round(t*n)/n:Math.round(t/n)*n}function HL(t){var e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}function GL(a,t){var s=0<=a.n_dec?Math.floor(a.n_dec):Math.ceil(a.n_dec),l=t(",."+(0<s?s:"0")+"f"),e=t.decimal,c=t.thousands,u=a.strip_zeros&&0<s?new RegExp("\\"+e+"?0+$"):null,d=a.strip_separator&&c,f=a.negative_sign,h=HL(a);return function(t){var e=0<=s?h(t):ZL(h(t),s),n=e<0,r=Math.abs(e),i=d&&c&&1e3<=r&&r<1e4,o=l(r);return u&&(o=o.replace(u,"")),i&&(o=o.replace(c,"")),n&&"none"!==f?"-$nk"===f?"-"+a.prefix+o+a.suffix:"$-nk"===f?a.prefix+"-"+o+a.suffix:"($nk)"===f?"("+a.prefix+o+a.suffix+")":a.prefix+"("+o+")"+a.suffix:a.prefix+o+a.suffix}}function QL(e){for(var t in BL)void 0===e[t]&&(e[t]=BL[t]);return function(t){return GL(e,t)}}function qL(t){var e;return t.appendChild(this._container.node()),document.querySelector("#legend-styles")||((e=document.createElement("style")).id="legend-styles",e.type="text/css",e.innerHTML=".fl-legend-container.interactive .fl-legend-item:hover { opacity: 0.75; cursor: pointer; }",document.head.appendChild(e)),this}function VL(t){return this._formatFunction=t,this}function WL(){return this._container}function $L(t){return void 0===t?this._visible:(this._visible=t,this)}function XL(t){return void 0===t?this._auto_title:(this._auto_title=t,this)}function JL(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"}).style("font-weight",this._state.title_weight).style("color",this._state.text_color).style("vertical-align","middle").style("font-size",this._state.text_size+"rem").style("line-height","1.25rem").style("margin-top",0).style("margin-bottom",0).style("margin-right",this._state.text_size+"rem")}var KL=0,tD=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",swatch_width:.75,swatch_height:1,swatch_radius:3,order_override:"",orientation:"horizontal",text_color:null,text_size:1,text_weight:"normal"});function eD(t){for(var e in this._state=t,tD)void 0===this._state[e]&&(this._state[e]=tD[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+KL,this._visible=!0,this._auto_title="",this._container=yb(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),KL++,this}function nD(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0,o;i<r.length;i++){n[r[i]]=i}for(var a=[],s=0;s<t.length;s++){var l=t[s],c=n[l.label];void 0!==c&&(a[c]=l)}return a.filter(function(t){return void 0!==t})}function rD(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function iD(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}eD.prototype.appendTo=qL,eD.prototype.format=VL,eD.prototype.getContainer=WL,eD.prototype.visible=$L,eD.prototype.autoTitle=XL,eD.prototype._updateTitle=JL,eD.prototype.data=function(t,r){return this._colorFunction=r,t||r?(r?Array.isArray(t)?this._legend_items=t.slice().map(function(t,e){var n="object"==typeof t?t.label||"":t;return n?{label:n,color:r(n,e),index:e}:null}).filter(function(t){return null!==t}):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},eD.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},eD.prototype.on=function(t,i){return this._container&&(i&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):i||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",0<this._eventListeners.length),i?this._container.on(t,function(){var t=nb.target,e=t.parentNode,n=t.classList.contains("fl-legend-item")?t:e.classList.contains("fl-legend-item")?e:null,r;n&&(r=yb(n).datum(),i.call(n,r,r.index))}):this._container.on(t,null)),this},eD.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_items.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},eD.prototype._updateLegend=function(){var e=this,n=this._formatFunction,t;this._container.style("line-height","1.25rem").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("flex-direction","horizontal"==this._state.orientation?null:"column"),t=this._state.order_override.trim()?nD(this._legend_items,this._state.order_override):this._legend_items;var r=this._container.selectAll(".fl-legend-item").data(t),i=r.enter().append("div").attr("class","fl-legend-item");i.append("div").attr("class","fl-legend-swatch"),i.append("p").attr("class","fl-legend-label");var o=r.merge(i);return o.style("display","horizontal"==this._state.orientation?"inline-block":"block").style("opacity",function(t){return-1<e._filtered_items.indexOf(t.label)?.2:""}).style("line-height","0").style("vertical-align","middle").style("margin-right","horizontal"==this._state.orientation?.5*this._state.text_size+"rem":""),o.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("margin-right",.25*this._state.text_size+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",function(t){return t.color}).style("vertical-align","middle").style("display","inline-block"),o.select(".fl-legend-label").style("font-size",this._state.text_size+"rem").style("color",this._state.text_color).text(function(t){return n?n(t.label):t.label}).style("margin",0).style("vertical-align","middle").style("user-select","none").style("line-height","1.25rem").style("font-weight",this._state.text_weight).style("display","inline-block"),r.exit().remove(),this._legend_item_els=o,this};var oD,aD=Array.prototype.slice;function sD(t){return t}function lD(t,e,n,r){var i=JI(t,e,n),o;switch((r=XN(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=fz(i,a))||(r.precision=o),lz(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=hz(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=dz(i))||(r.precision=o-2*("%"===r.type))}return sz(r)}function cD(s){var l=s.domain;return s.ticks=function(t){var e=l();return $I(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){var n=l();return lD(n[0],n[n.length-1],null==t?10:t,e)},s.nice=function(t){null==t&&(t=10);var e=l(),n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=i,i=o,o=a,a=n,n=r,r=a),0<(a=XI(i,o,t))?a=XI(i=Math.floor(i/a)*a,o=Math.ceil(o/a)*a,t):a<0&&(a=XI(i=Math.ceil(i*a)/a,o=Math.floor(o*a)/a,t)),0<a?(e[n]=Math.floor(i/a)*a,e[r]=Math.ceil(o/a)*a,l(e)):a<0&&(e[n]=Math.ceil(i*a)/a,e[r]=Math.floor(o*a)/a,l(e)),s},s}function uD(){var i=[],n=[],r=[],e;function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=KI(i,t/e);return a}function a(t){return isNaN(t=+t)?e:n[FI(r,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e=0,n=t.length,r;e<n;++e)null==(r=t[e])||isNaN(r=+r)||i.push(r);return i.sort(PI),o()},a.range=function(t){return arguments.length?(n=aD.call(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return uD().domain(i).range(n).unknown(e)},rD.apply(a,arguments)}function dD(){var n=0,r=1,i=1,o=[.5],a=[0,1],e;function s(t){return t<=t?a[FI(o,t,0,i)]:e}function l(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],l()):[n,r]},s.range=function(t){return arguments.length?(i=(a=aD.call(t)).length-1,l()):a.slice()},s.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:i<=e?[o[i-1],r]:[o[e-1],o[e]]},s.unknown=function(t){return arguments.length&&(e=t),s},s.thresholds=function(){return o.slice()},s.copy=function(){return dD().domain([n,r]).range(a).unknown(e)},rD.apply(cD(s),arguments)}function fD(){var n=[.5],r=[0,1],e,i=1;function o(t){return t<=t?r[FI(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=aD.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=aD.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return fD().domain(n).range(r).unknown(e)},rD.apply(o,arguments)}function hD(){var e=0,n=1,r,i,o,a,s=sD,l=!1,c;function u(t){return isNaN(t=+t)?c:s(0===o?.5:(t=(a(t)-r)*o,l?Math.max(0,Math.min(1,t)):t))}return u.domain=function(t){return arguments.length?(r=a(e=+t[0]),i=a(n=+t[1]),o=r===i?0:1/(i-r),u):[e,n]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(s=t,u):s},u.unknown=function(t){return arguments.length?(c=t,u):c},function(t){return r=(a=t)(e),i=t(n),o=r===i?0:1/(i-r),u}}function pD(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gD(){var t=cD(hD()(sD));return t.copy=function(){return pD(t,gD())},iD.apply(t,arguments)}function _D(){var e=0,n=.5,r=1,i,o,a,s,l,c=sD,u,d=!1,f;function h(t){return isNaN(t=+t)?f:(t=.5+((t=+u(t))-o)*(t<o?s:l),c(d?Math.max(0,Math.min(1,t)):t))}return h.domain=function(t){return arguments.length?(i=u(e=+t[0]),o=u(n=+t[1]),a=u(r=+t[2]),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),h):[e,n,r]},h.clamp=function(t){return arguments.length?(d=!!t,h):d},h.interpolator=function(t){return arguments.length?(c=t,h):c},h.unknown=function(t){return arguments.length?(f=t,h):f},function(t){return i=(u=t)(e),o=t(n),a=t(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),h}}function yD(){var t=cD(_D()(sD));return t.copy=function(){return pD(t,yD())},iD.apply(t,arguments)}var mD=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,text_color:null,text_size:1,text_weight:"normal"}),vD=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",clip_height:1,small_circle_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555",text_color:null,text_size:1,text_weight:"normal"});function bD(t){return new eD(t)}function xD(){return parseFloat}function wD(){return function(t){return t.toString()}}function MD(t){return t.toLowerCase()}function kD(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function jD(t,e,n,r){var i="numeric"===e.sort,o="temporal"===e.sort,a=MD;i?a=n:o&&(a=Kj(e.sort_temporal_format));var s=t.map(function(t,e){var n=a(t);return{value:t,options_index:e,parsed:n,display:i&&!isNaN(n)?r(n):t}});return"unsorted"==e.sort?s:s.sort(function(t,e){return kD(t.parsed,e.parsed)})}function AD(){return this.declarations=[],this}function ID(t){return this.selector=t,this.styles=[],this}function TD(){var t=new AD;return t.select(".fl-controls-container").style("display","inline-block").style("line-height","0"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("cursor"," pointer",""),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-block").style("background","#eee").style("padding","0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em"),t.select(".fl-control.grouped:not(.hidden)").style("display","table").style("table-layout","fixed").select(".button").style("display","table-cell").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").select(".list").style("display","none").style("position","absolute").style("background-color","white").style("z-index","100").style("border","1px solid #eee").select(".list-item").style("cursor","pointer").style("padding","0.5rem"),t.select(".fl-control-dropdown.open .list").style("display","block"),t.select(".fl-control-dropdown .main").style("position","relative"),t.select(".fl-control-dropdown .symbol").style("float","right").select("div").style("border-top-color","#333333"),t.print()}AD.prototype.select=function(t){if(!t)return this;var e=new ID(t,this);return(e.parent=this).addDeclaration(e),e},AD.prototype.addDeclaration=function(t){return this.declarations.push(t),this},AD.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},AD.prototype.clear=function(){return this.declarations=[],this},ID.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this};var ND=!(ID.prototype.select=function(t){return this.parent.select(this.selector+" "+t)});function zD(){var t,e,n;ND||"undefined"==typeof document||(t=TD(),e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),ND=!0)}var SD=(ED=document.createElement("canvas").getContext("2d"),function(t,e){var n;return ED.font=e||"10px sans-serif",ED.measureText(t).width}),ED,LD;function DD(){var e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;LD=function(t){return t*e}}var CD=90;function OD(a,s,n){var l={},i=document.body,c=yb(n).append("div").attr("class","fl-control fl-control-dropdown"),r=c.node(),t=c.append("div").attr("class","main"),u=t.append("span").attr("class","current");t.append("span").attr("class","symbol").style("width","10px").append("div").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-bottom","5px solid transparent").style("border-top-style","solid").style("border-top-width","5px").style("top","50%").style("position","absolute").style("margin-top","-2.5px");var d=c.append("div").attr("class","list"),e=function(){c.classed("open",!0),d.style("top","100%"),d.style("bottom",null),d.style("display",null),d.style("overflow","auto");var t=i.getBoundingClientRect(),e=d.node().getBoundingClientRect(),n,r;0<e.bottom-t.bottom&&(r=t.bottom-e.top-30,CD<r?d.style("max-height",r+"px"):d.style("top","auto").style("bottom","100%")),e.right>window.innerWidth&&d.style("right",0)},f=function(){c.classed("open",!1),d.style("right",null),d.style("max-height",null),d.style("display","none")},o=function(){(c.classed("open")?f:e)()};t.on("click",function(){o()});var h=function(){if(c.classed("open")){for(var t=event.target,e=t.parentElement;e;){if(t===r)return;e=(t=e).parentElement}f()}},p=function(t){var e="100%";"auto"==s.dropdown_width_mode?e=Math.min(t+40,LD(20))+"px":"fixed"==s.dropdown_width_mode&&(e=LD(s.dropdown_width_fixed)+"px"),n.style.width="full"==s.dropdown_width_mode?e:"",c.style("width",e).style("display","full"!==s.dropdown_width_mode?"inline-table":null),c.select(".main").style("width",e)},g=function(){f(),c.style("display","none")};return l.appendedToDOM=function(t){return t&&(i=t),document.querySelector("body").addEventListener("click",h,!1),l},l.removedFromDOM=function(){return document.querySelector("body").removeEventListener("click",h),l},l.show=p,l.hide=g,l.update=function(t){d.text("");var e=window.getComputedStyle(c.node()).fontSize;if(!a.n_options||"dropdown"!==s.control_type)return g(),l;var n="";d.text("").selectAll(".list-item").data(t).enter().append("div").attr("class","list-item").text(function(t){return t.display.length>n.length&&(n=t.display),t.display}).on("click",function(t){f();var e=t.options_index;e!==a.index()&&(a.index(e),u.text(t.display).attr("title",t.display),a.trigger("change"))});var r=SD(n,e+" sans-serif"),i,o=t[a.getSortedIndex()].display;return u.text(o).attr("title",o),p(r),l},l}function PD(r,i,t){var o={},a=yb(t).append("div").attr("class","fl-control fl-control-buttons"),s=function(){a.classed("hidden",!1)},l=function(){a.classed("hidden",!0)};return o.show=s,o.hide=l,o.update=function(t){if(a.text(""),!r.n_options||"buttons"!==i.control_type)return l(),o;var e=r.index();a.classed("grouped",i.button_group),a.classed("fixed-width","fixed"==i.button_group_width_mode||"full"==i.button_group_width_mode),a.style("width",i.button_group&&"fixed"==i.button_group_width_mode?LD(i.button_group_width_fixed)+"px":"full"==i.button_group_width_mode?"100%":null);var n=a.selectAll(".button").data(t).enter().append("div");n.attr("class","button").style("cursor","pointer").classed("selected",function(t){return t.options_index===e}).on("click",function(t){var e=t.options_index;e!==r.index()&&(r.index(e),n.classed("selected",function(t){return t.options_index===e}),r.trigger("change"))}).append("span").text(function(t){return t.display}),s()},o}var RD=Array.prototype.slice;function YD(t){return t}var UD=1,FD=2,BD=3,ZD=4,HD=1e-6;function GD(t){return"translate("+(t+.5)+",0)"}function QD(t){return"translate(0,"+(t+.5)+")"}function qD(e){return function(t){return+e(t)}}function VD(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}function WD(){return!this.__axis}function $D(g,_){var y=[],m=null,v=null,b=6,x=6,w=3,M=g===UD||g===ZD?-1:1,k=g===ZD||g===FD?"x":"y",j=g===UD||g===BD?GD:QD;function e(t){var e=null==m?_.ticks?_.ticks.apply(_,y):_.domain():m,n=null==v?_.tickFormat?_.tickFormat.apply(_,y):YD:v,r=Math.max(b,0)+w,i=_.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,s=(_.bandwidth?VD:qD)(_.copy()),l=t.selection?t.selection():t,c=l.selectAll(".domain").data([null]),u,d=(u=l.selectAll(".tick").data(e,_).order()).exit(),f=u.enter().append("g").attr("class","tick"),h=u.select("line"),p=u.select("text"),c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),u=u.merge(f),h=h.merge(f.append("line").attr("stroke","currentColor").attr(k+"2",M*b)),p=p.merge(f.append("text").attr("fill","currentColor").attr(k,M*r).attr("dy",g===UD?"0em":g===BD?"0.71em":"0.32em"));t!==l&&(c=c.transition(t),u=u.transition(t),h=h.transition(t),p=p.transition(t),d=d.transition(t).attr("opacity",HD).attr("transform",function(t){return isFinite(t=s(t))?j(t):this.getAttribute("transform")}),f.attr("opacity",HD).attr("transform",function(t){var e=this.parentNode.__axis;return j(e&&isFinite(e=e(t))?e:s(t))})),d.remove(),c.attr("d",g===ZD||g==FD?x?"M"+M*x+","+o+"H0.5V"+a+"H"+M*x:"M0.5,"+o+"V"+a:x?"M"+o+","+M*x+"V0.5H"+a+"V"+M*x:"M"+o+",0.5H"+a),u.attr("opacity",1).attr("transform",function(t){return j(s(t))}),h.attr(k+"2",M*b),p.attr(k,M*r).text(n),l.filter(WD).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===FD?"start":g===ZD?"end":"middle"),l.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(_=t,e):_},e.ticks=function(){return y=RD.call(arguments),e},e.tickArguments=function(t){return arguments.length?(y=null==t?[]:RD.call(t),e):y.slice()},e.tickValues=function(t){return arguments.length?(m=null==t?null:RD.call(t),e):m&&m.slice()},e.tickFormat=function(t){return arguments.length?(v=t,e):v},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function XD(t){return $D(BD,t)}var JD=Array.prototype,KD=JD.map,tC=JD.slice;function eC(t){return function(){return t}}function nC(t){return+t}var rC=[0,1];function iC(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:eC(n)}function oC(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}function aC(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}function sC(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1],a=o<i?(i=n(o,i),r(s,a)):(i=n(i,o),r(a,s));return function(t){return a(i(t))}}function lC(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=FI(n,t,1,i)-1;return a[e](o[e](t))}}function cC(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function uC(e,n){var r=rC,i=rC,o=SM,a=!1,s,l,c;function u(){return s=2<Math.min(r.length,i.length)?lC:sC,l=c=null,t}function t(t){return(l=l||s(r,i,a?oC(e):e,o))(+t)}return t.invert=function(t){return(c=c||s(i,r,iC,a?aC(n):n))(+t)},t.domain=function(t){return arguments.length?(r=KD.call(t,nC),u()):r.slice()},t.range=function(t){return arguments.length?(i=tC.call(t),u()):i.slice()},t.rangeRound=function(t){return i=tC.call(t),o=EM,u()},t.clamp=function(t){return arguments.length?(a=!!t,u()):a},t.interpolate=function(t){return arguments.length?(o=t,u()):o},u()}function dC(t,e,n){var r=t[0],i=t[t.length-1],o=JI(r,i,null==e?10:e),a;switch((n=XN(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(r),Math.abs(i));return null!=n.precision||isNaN(a=fz(o,s))||(n.precision=a),lz(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=hz(o,Math.max(Math.abs(r),Math.abs(i))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=dz(o))||(n.precision=a-2*("%"===n.type))}return sz(n)}function fC(s){var l=s.domain;return s.ticks=function(t){var e=l();return $I(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return dC(l(),t,e)},s.nice=function(t){null==t&&(t=10);var e=l(),n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=i,i=o,o=a,a=n,n=r,r=a),0<(a=XI(i,o,t))?a=XI(i=Math.floor(i/a)*a,o=Math.ceil(o/a)*a,t):a<0&&(a=XI(i=Math.ceil(i*a)/a,o=Math.floor(o*a)/a,t)),0<a?(e[n]=Math.floor(i/a)*a,e[r]=Math.ceil(o/a)*a,l(e)):a<0&&(e[n]=Math.ceil(i*a)/a,e[r]=Math.floor(o*a)/a,l(e)),s},s}function hC(){var t=uC(iC,kM);return t.copy=function(){return cC(t,hC())},fC(t)}var pC="1.3.2";function gC(t){this.container=yb(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function _C(e){0<e.length&&"_"==e.charAt(0)&&(gC.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}var yC=new gC;for(var mC in yC)_C(mC);function vC(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),r-n==0)return e;if(r-n==1)return t[n];var i,o;if(r-n==2)return Math.abs(t[n]-e)<=Math.abs(t[n+1]-e)?t[n]:t[n+1];var a=n+Math.floor((r-n)/2),s=t[a],l,c=t[a-1];return c<=e&&e<=s?Math.abs(c-e)<=Math.abs(s-e)?c:s:s<=e?vC(t,e,a,r):vC(t,e,n,a)}function bC(t,e){return"boolean"==typeof t?t?Math.round(e):e:vC(t,e)}function xC(t){return new gC(t)}function wC(t){var e,n;return'<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+t+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>'}function MC(t){var e,n;return'<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+t+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>'}function kC(o,a,t){var s={},r=yb(t).append("div").attr("class","fl-control fl-control-slider animatable"),i=r.append("div").attr("class","slider-play"),l=r.append("div").attr("class","fl-controls-slider"),e,n,c,u,d,f,h,p=null,g=function(){clearTimeout(p),p=null},_=function(t){var e=u[t];e.options_index!==o.index()&&(o.index(e.options_index),o.trigger("change"))},y=xC(l.node()).snap(!0).on("change",function(t){var e=null!==p;e&&g(),_(t),e&&v()}),m=function(){g(),r.classed("playing",!1),i.html(e),o._isPlaying_(!1),h=!1},v=function(){var t=o.getSortedIndex(),e=d[t],n=o.n_options-1,r=t<n?t+1:0;p=setTimeout(function(){_(r),(a.slider_loop||r<n?v:m)()},e)},b=function(){r.classed("playing",!0),i.html(n),v(),o._isPlaying_(!0),h=!0};i.on("click",function(){(null===p?b:m)()});var x=function(){var t=Math.round(LD(a.slider_handle_height)/2);r.style("width",Math.round(LD(a.slider_width))+"px"),i.style("height",2*t+"px").style("width",2*t+"px").style("display",a.slider_play_button?null:"none");var e=r.node().getBoundingClientRect().width,n=i.node().getBoundingClientRect().width;l.style("width",Math.max(e-n,1)+"px").style("height",2*t+"px"),y.handleRadius(t).margin({left:t+5,right:t+LD(a.slider_margin),top:t})},w=function(){a.slider_play_button?r.classed("animatable",!0):(m(),r.classed("animatable",!1)),c!==a.slider_handle_color&&(y.update(),c=a.slider_handle_color||"currentColor",r.select(".slider-handle").style("fill",c),e=wC(c),n=MC(c),i.html(p?n:e))},M=function(){return r.style("display","inline-block"),x(),w(),s},k=function(){return m(),r.style("display","none"),s};return s.show=M,s.hide=k,s.update=function(t){if(u=t,!o.n_options||"slider"!==a.control_type)return k(),s;M();var r=o.n_options,i=a.slider_loop;d=u.map(function(t,e){var n;return 1e3*(a.slider_step_time+(i&&e===r-1?a.slider_restart_pause:0))});var e=o.getSortedIndex(),n=u[e];return y.domain([0,r-1]).value(e).endLabel(n.display).channelHeight(Math.round(LD(a.slider_track_height))).channelFill(a.slider_background_color).update(),y.container.select("svg").attr("fill","currentColor"),(f=f||l.select("text.slider-end-labels")).style("fill",a.slider_font_color).attr("y","0").attr("dy","0.25em"),o._isPlaying_()&&!h?b():!o._isPlaying_()&&h&&m(),s},s}gC.prototype.margin=function t(e){if(!e)return this._margin;for(mC in e){if(!(mC in this._margin))throw"Slider.margin: unrecognised option "+mC;this._margin[mC]=e[mC]}return this},gC.prototype.on=function t(e,n){if(!(e in this.handlers))throw"Slider.on: No such event: "+e;return this.handlers[e].push(n),this},gC.prototype.fire=function t(e,n){if(!(e in this.handlers))throw"Slider.fire: No such event: "+e;for(var r=this.handlers[e],i=0;i<r.length;i++)r[i].call(this,n);return this},gC.prototype.update=gC.prototype.draw=function t(){var i=this,e=this._width,n=this._height,r=this.container.node();if(!e){var o=r.getBoundingClientRect();if(!o||0==o.width)return this;e=o.width,n=o.height}var a=null==this._channelRadius?this._channelHeight/2:this._channelRadius,s=null==this._margin.left?Math.max(this._handleRadius,a):this._margin.left,l=null==this._margin.right?Math.max(this._handleRadius,a):this._margin.right,c=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,u=e-s-l,d=u+2*a,f=1.5*this._labelSize,h;null!=this._label&&null==this._margin.top&&(c+=f),"http://www.w3.org/2000/svg"==r.namespaceURI?h=this.container:((h=this.container.selectAll("svg").data([{width:e,height:n}])).exit().remove(),(h=h.enter().append("svg").merge(h)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var p=h.selectAll("g.slider-container").data([{left:s,top:c,id:this._id}]);p.exit().remove(),(p=p.enter().append("g").attr("class","slider-container").merge(p)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():hC()).domain(this._domain).range([0,u]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=bC(this._snap,this._value));var g=[],_,_;this._axis&&(_="boolean"!=typeof this._axis?this._axis(this.scale):XD().scale(this.scale).tickPadding(6),this._ticks&&_.ticks(this._ticks),this._tickFormat&&_.tickFormat(this._tickFormat),this._tickSize?_.tickSize(this._tickSize):_.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),g.push(_));var y,m=p.selectAll(".slider-axis").data(g).enter(),v,b,x,w;function M(t){document.addEventListener("mouseup",k,!1),document.addEventListener("mousemove",j,!1),x=t.clientX,w=i.scale(i._value)}function k(){document.removeEventListener("mouseup",k,!1),document.removeEventListener("mousemove",j,!1)}function j(t){N(t.clientX-x)}function A(t){1==t.touches.length&&(document.addEventListener("touchend",I,!1),document.addEventListener("touchmove",T,!1),x=t.touches[0].clientX,w=i.scale(i._value))}function I(){document.removeEventListener("touchend",I,!1),document.removeEventListener("touchmove",T,!1)}function T(t){1==t.touches.length&&N(t.touches[0].clientX-x)}function N(t){var e=w+t,n=Math.max(0,Math.min(u,e)),r=i.scale.invert(n);i._snap&&(r=bC(i._snap,r)),b.attr("cx",i.scale(r)),r!=i._value&&(i._value=r,i.fire("change",i._value))}m.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(yb(this))}),m.select(".domain").attr("fill","none"),m.selectAll(".tick line").attr("stroke","black"),m.exit().remove(),(v=p.selectAll(".slider-channel").data([{width:d,height:this._channelHeight,channel_r:a}])).exit().remove(),(v=v.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(u,bb(this)[0]));i._value=i.scale.invert(t),i._snap&&(i._value=bC(i._snap,i._value)),b.attr("cx",i.scale(i._value)),i.fire("change",i._value)}).merge(v)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(b=(b=p.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(b)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){nb.preventDefault(),M(nb)}).on("touchstart",function(){nb.preventDefault(),A(nb)});var z=[];this._label&&z.push({label:this._label,x:u/2,y:-f,font_size:this._labelSize});var S=p.selectAll(".slider-label").data(z);S.exit().remove(),(S=S.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(S)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);var E=[];this._startLabel&&E.push({label:this._startLabel,x:this._startLabelBelow?0:-(a+5+Math.max(0,this._handleRadius-a)),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&E.push({label:this._endLabel,x:this._endLabelBelow?u:u+(a+Math.max(0,this._handleRadius-a)+5),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var L=p.selectAll(".slider-end-labels").data(E);return L.exit().remove(),(L=L.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(L)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},xC.version=pC;var jC=Object.freeze({control_type:"dropdown",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:"unsorted",sort_temporal_format:"%Y",_index_:null,_is_playing_:!1});function AC(e,t,n){var r={};t=t||xD,n=n||wD;var i=[],o=[],a=[],s=document.createElement("div");s.setAttribute("class","fl-controls-container");var l=OD(r,e,s),c=PD(r,e,s),u=kC(r,e,s);for(var d in jC)void 0===e[d]&&(e[d]=jC[d]);var f=e._index_,h=function(t){return i.length&&0<=t&&t<i.length},p=function(t){s.style.display=1<t.length?null:"none",s.style.width="",u.update(t),l.update(t),c.update(t)};r.appendTo=function(t,e){return zD(),yb(t).node().appendChild(s),l.appendedToDOM(e),r};var g=function(){var e=_(),n=i[e];return a.forEach(function(t){t(n,e)}),r};r.remove=function(){return s.parentElement&&s.parentElement.removeChild(s),l.removedFromDOM(),r},r.options=function(t){if(void 0===t)return i.slice();if(!Array.isArray(t))return r;var e=(i=t.slice()).length,n=_();return e?(null===n||e<=n)&&_(0):_(null),r},Object.defineProperty(r,"n_options",{get:function(){return i.length}});var _=function(t){return void 0===t?(e._is_playing_||(f=e._index_),f):(null===t||h(t)?(f=t,e._is_playing_||(e._index_=f)):console.warn("Invalid index, ignoring update call"),r)};r.index=_,r.getSortedIndex=function(){var n=_(),r;return"unsorted"==e.sort?n:(o.some(function(t,e){if(t.options_index===n)return r=e,!0}),r)},r.value=function(t){if(void 0===t)return i[_()];var e=i.indexOf(t);return-1!==e&&_(e),r},r.on=function(t,e){return"change"===t&&a.push(e.bind(r)),r},r.update=function(){return DD(),o=jD(i,e,t(),n()),p(o),r},r.trigger=function(t){return"change"===t&&g(),r};var y=function(t){if(void 0===t)return e._is_playing_;e._is_playing_=!!t,t||_(f)};return r._isPlaying_=y,r}var IC={max_width:8,position:"spread-y",hide_overlaps:!0,text_color:null,text_size:1,text_bg_size:25,text_bg_color:null,text_weight:700,text_line_height:.9,text_max_lines:3,text_padding_vertical:.5,text_padding_horizontal:.5,lines:"auto",line_padding:.25,line_color:"#aaaaaa",line_width:.075,line_style:"step"};function TC(t,e){for(var n in IC)t.hasOwnProperty(n)||(t[n]=IC[n]);return this._data=[],this._container=void 0!==e?e:null,this._state=t,this._duration=1e3,this._delay=1e3,this._y_bounds=[-1/0,1/0],this._group=null,this._background_color=null,this._foreground_color="black",this._aria_hidden=!1,this}function NC(t,e){t.top+=e,t.bottom+=e,t.y_offset+=e}function zC(t,e,n){for(var r=t.sort(function(t,e){return PI(t.y,e.y)}),i=[],o=0;o<r.length;o++){var a=r[o],s=r[o-1]||null,l=s?a.top-(s.bottom+n):a.top-e[0],c;0==o||0<l?i.push([a]):i[i.length-1].push(a)}for(var o=0;o<i.length;o++)for(var c=i[o],u=0;u<c.length;u++){var a=c[u],s=c[u-1]||null;(l=s?a.top-(s.bottom+n):a.top-e[0])<0&&NC(a,-l)}for(var o=i.length-1;0<=o;o--){var c=i[o],d=i[o+1]?i[o+1][0].top:e[1],f;(f=d-c[c.length-1].bottom-n)<0&&c.forEach(function(t){NC(t,f)})}for(var o=0;o<i.length;o++){var c=i[o],h=i[o-1]?i[o-1][i[o-1].length-1].bottom+n:e[0],l=c[0].top-h,d,f=(d=e[1])-c[c.length-1].bottom;l<0&&0<f&&c.forEach(function(t){var e;NC(t,Math.min(-l,f))})}for(var o=0;o<i.length;o++){var c=i[o],h=i[o-1]?i[o-1][i[o-1].length-1].bottom+n:e[0],l=c[0].top-h,d,f=(d=i[o+1]?i[o+1][0].top:e[1])-c[c.length-1].bottom,p=0;c.forEach(function(t){p+=t.y_offset});var g,_=-(p/c.length),y=_<0?Math.max(_,-l):Math.min(_,f),m=0,v=0;c.forEach(function(t){NC(t,y),t.y_offset<0&&(t.positive_index=m++),0<t.y_offset&&(t.negative_index=v++)}),c.forEach(function(t){t.y_offset<0?(t.step_line_x_index=t.positive_index,t.step_line_x_count=m):0<t.y_offset&&(t.step_line_x_index=v-t.negative_index-1,t.step_line_x_count=v)})}t.any_offsets=t}function SC(t,e){for(var n=t.sort(function(t,e){return PI(t.y,e.y)}),r=e[0],i=0;i<n.length;i++){var o=n[i];o.top<r||o.bottom>e[1]?o.hidden=!0:r=o.bottom}}function EC(i,t,o,a,s){var l=0,e=t.map(function(t){var e=LC(t.text,o,a,s);l=Math.max(l,e.widest_line);var n={};n.x=t.x,n.y=t.y,n.text=t.text,n.color=t.color,n.lines=e;var r=i._group&&"undefined"!==t[i._group];return n.group=r?t[i._group]:"",n});return e.widest_label=l,e}function LC(t,e,n,r){var i=[],o=0,a,s=document.createElement("canvas").getContext("2d");s.font=e;var l=s.measureText(t).width;if(l<=r)i.push(t),o=l;else{for(var c=t.trim().split(/\s+/g),u="",d=0;d<c.length;d++){var f=c[d],h=u+(u?" ":"")+f,p=s.measureText(h).width,g,_;if(!(p<=r)){if(!(i.length+1==n)&&u)if(i.push(u),s.measureText(f).width<=r){u=f;continue}for(var y=1,m=h;m=h.substring(0,h.length-y)+"…",r<(p=s.measureText(m).width)&&++y<h.length;);o=Math.max(o,p),u=m;break}u=h,o=Math.max(o,p)}i.push(u)}return i.widest_line=o,i}function DC(t){var e,n;return window.innerWidth!==e&&(e=window.innerWidth,n=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*n}function CC(t){return new TC(t)}TC.prototype.container=function(t){return void 0!==t?(this._container=t,this):this._container},TC.prototype.data=function(t){return void 0!==t?(this._data=t,this):this._data},TC.prototype.group=function(t){return void 0!==t?(this._group=t,this):this._group},TC.prototype.backgroundColor=function(t){return void 0!==t?(this._background_color=t,this):this._background_color},TC.prototype.foregroundColor=function(t){return void 0!==t?(this._foreground_color=t,this):this._foreground_color},TC.prototype.duration=function(t){return void 0!==t?(this._duration=t,this):this._duration},TC.prototype.delay=function(t){return void 0!==t?(this._delay=t,this):this._delay},TC.prototype.yBounds=function(t){return void 0!==t?(this._y_bounds=t,this):this._y_bounds},TC.prototype.ariaHidden=function(t){return void 0!==t?(this._aria_hidden=t,this):this._aria_hidden},TC.prototype.getWidth=function(){return this.update(!0)},TC.prototype.update=function(t){if(null!=this._container){var e=this,a=this._state,n=this._duration,r=this._delay,i=this._container,o=this._data,l=this._y_bounds,s=this._screenreadable,c=this._background_color,u=this._foreground_color,d=DC(a.text_size),f=S(i,d,a),h=d*a.text_line_height,p=DC(a.text_padding_vertical),g=DC(a.text_padding_horizontal),_=Math.min(g/2,DC(a.line_padding)),y=g-_,m=EC(e,o,f,a.text_max_lines,DC(a.max_width));if(t)return m.widest_label+g;m.forEach(E);var v={};e._group?m.forEach(function(t){var e=t.group;e in v||(v[e]=[]),v[e].push(t)}):v=[m];var b=!1,x,x;if("spread-y"==a.position)for(var w in v){zC(x=v[w],l,p),x.any_offsets&&(b=!0)}if(a.hide_overlaps)for(var w in v){SC(x=v[w],l)}var M=!0;"off"!=a.lines&&("auto"!=a.lines||b)||(M=!1),m=m.filter(function(t){return!t.hidden});var k=yb(this._container).selectAll(".fl-label").data(m,function(t){return t.text}),j=k.enter().append("g").attr("class","fl-label").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).attr("font-size",d).attr("font-weight",a.text_weight).attr("opacity",0);j.append("path").attr("fill","none").attr("d",z).attr("stroke-width",a.line_width+"rem").attr("stroke",a.line_color||u),j.append("text").attr("class","bg").attr("transform",N),j.append("text").attr("class","fg").attr("transform",N);var A=k.merge(j);A.attr("aria-hidden",!s).transition().duration(n).delay(r).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).attr("font-size",d).attr("font-weight",a.text_weight).attr("opacity",1),A.select("path").transition().duration(n).delay(r).attr("d",z).attr("stroke-width",a.line_width+"rem").attr("stroke",a.line_color||u),A.select("text.bg").transition().duration(n).delay(r).attr("transform",N),A.select("text.fg").transition().duration(n).delay(r).attr("transform",N),k.exit().remove();var I=A.select("text.bg").selectAll("tspan").data(function(t){return t.lines});I.merge(I.enter().append("tspan")).text(function(t){return t}).transition().duration(n).delay(r).attr("x",0).attr("fill","none").attr("stroke",a.text_bg_color||c).attr("stroke-width",d*a.text_bg_size/100).attr("dy",function(t,e){return e?h+"px":0}),I.exit().remove();var T=A.select("text.fg").selectAll("tspan").data(function(t){return t.lines});return T.merge(T.enter().append("tspan")).transition().duration(n).delay(r).attr("x",0).attr("fill",function(t){return a.text_color||this.parentNode.__data__.color||"black"}).attr("dy",function(t,e){return e?h+"px":0}).text(function(t){return t}),T.exit().remove(),this}function N(t){return"translate("+g+","+(t.y_offset+t.dy)+")"}function z(t){if(!M)return"";var e=t.step_line_x_index||0,n=(t.step_line_x_count||0)+1,r=y/n,i=r+r*e,o="M 0,0 l ";return"step"==a.line_style?(o+=i+",0 l ",o+="0,"+t.y_offset+" l ",o+=y-i+",0"):o+=y+","+t.y_offset,o}function S(t,e,n){var r,i,o;return n.text_weight+" "+(e+"px ")+getComputedStyle(t).fontFamily}function E(t,e){var n=.33*d-h*(t.lines.length-1)/2;t.dy=n;var r=0,i=h-t.dy,o=t.y-i-l[0];o<0&&(r=-o);var a=h*(t.lines.length-1)- -t.dy,s=l[1]-t.y-a;s<0&&(r-=-s),t.y_offset=r,t.height=h*t.lines.length,t.top=t.y+t.y_offset-t.height/2,t.bottom=t.top+t.height}console.error("@flourish/labels: you must set a container for your labels using the .container() method. This should be an SVG group.")},"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function t(){var r=this;return{contains:function t(e){return-1!==r.className.baseVal.split(" ").indexOf(e)},add:function t(e){return r.setAttribute("class",(r.getAttribute("class")||"")+" "+e)},remove:function t(e){var n=r.getAttribute("class").replace(new RegExp("(\\s|^)".concat(e,"(\\s|$)"),"g"),"$2");r.classList.contains(e)&&r.setAttribute("class",n)},toggle:function t(e){this.contains(e)?this.remove(e):this.add(e)}}}});var OC=document.createElement("style");OC.innerHTML='body.fl-cursor-custom,body.fl-cursor-custom *{cursor:none!important}body.fl-cursor-pointer,body.fl-cursor-pointer *{cursor:pointer!important}body.fl-cursor-default .fl-annotations .fl-annotations-cursor,body.fl-cursor-pointer .fl-annotations .fl-annotations-cursor{visibility:hidden}.fl-annotations{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,0);cursor:pointer;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-transition:opacity .25s;transition:opacity .25s}.fl-annotations,.fl-annotations.is-dragging,.fl-annotations.is-dragging *{pointer-events:none}.flourish-popup{z-index:100000}.fl-project-editor{font-family:Source Sans Pro,sans-serif;color:#333;margin:0;font-size:16px;height:100%;-webkit-font-smoothing:antialiased}.fl-project-editor *{box-sizing:border-box}.fl-project-editor .no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fl-project-editor h1,.fl-project-editor h2,.fl-project-editor h3,.fl-project-editor h4,.fl-project-editor p{margin:0;font-weight:400}.fl-project-editor input,.fl-project-editor select,.fl-project-editor textarea{font-family:Source Sans Pro,sans-serif}.fl-project-editor a:link,.fl-project-editor a:visited{color:inherit;text-decoration:none}.fl-project-editor a:active,.fl-project-editor a:hover{opacity:.75}.fl-project-editor header{display:block;position:absolute;top:0;left:0;width:100%}.fl-project-editor main{display:block;position:absolute;top:80px;left:0;width:100%;height:calc(100vh - 80px);overflow-y:auto;-webkit-transition:height .5s ease,top .5s ease;transition:height .5s ease,top .5s ease}@media(min-width:420px){.fl-project-editor main{top:92px;height:calc(100vh - 92px)}}.fl-project-editor .hide-editor-bar main{top:50px;height:calc(100vh - 50px)}@media(min-width:420px){.fl-project-editor .hide-editor-bar main{top:62px;height:calc(100vh - 62px)}}.fl-project-editor .user-nav{float:right;padding-top:0;display:none}@media(min-width:820px){.fl-project-editor .user-nav{display:block;margin-top:13px;height:36px}.fl-project-editor .user-nav .dropdown-head #current-picture{height:36px;width:36px;border-radius:9999px;margin-left:10px}.fl-project-editor .user-nav .dropdown-list{left:auto;right:-5px;margin-top:-5px}}.fl-project-editor .visualisation-editor{overflow-x:hidden}.fl-project-editor .visualisation-editor .template-chooser.visible+.tab-panes{display:none}.fl-project-editor .visualisation-editor .tab-panes{height:100%;width:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation,.fl-project-editor .visualisation-editor .tab-panes .row-inner,.fl-project-editor .visualisation-editor .tab-panes .row.editor,.fl-project-editor .visualisation-editor .tab-panes .tab-pane{height:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{position:relative}@media (min-width:820px){.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{min-height:100%;padding-bottom:40px}}.fl-project-editor .visualisation-editor .tab-panes .tab-pane .side-panel{display:none}.fl-project-editor .visualisation-editor .tab-panes .tab-pane.active .side-panel{display:block}.fl-project-editor .visualisation-editor .tab-panes .tab-pane:not(.active) #spreadsheet-container input{display:none}.fl-project-editor .story-editor,.fl-project-editor .visualisation-editor{background:#f9f9f9}.fl-project-editor .row.editor{padding:0}.no-template .fl-project-editor .row.editor{display:none}.fl-project-editor .row.editor .row-inner{max-width:none;padding:0 10px}.fl-project-editor .row.editor #visibility-status .label,.fl-project-editor .row.editor .blueprint-tag{display:inline-block;margin-left:2px}.fl-project-editor .row.editor #story,.fl-project-editor .row.editor #visualisation{height:100%;width:100%;-webkit-transition:height .5s ease;transition:height .5s ease;position:relative}.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{width:100%;height:auto;overflow:visible;-webkit-transition:width .5s ease;transition:width .5s ease;position:relative;text-align:center}.fl-project-editor .row.editor #story .editor-core .preview-holder,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder{width:100%;height:100%;padding-right:4px;min-width:100px;min-height:100px;-webkit-transition:margin-left .5s ease,width .5s ease,opacity 1s;transition:margin-left .5s ease,width .5s ease,opacity 1s;position:relative;background:#fff;display:inline-block;box-shadow:0 0 2px rgba(0,0,0,.2)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{max-height:100%;overflow-y:auto;min-width:100px;text-align:right;border:none;background:#fff;display:block;width:100%;height:100%}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{width:100vw;border:none;position:relative}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{height:100%;width:100%;min-width:100px;border:none;-webkit-box-flex:1;flex:1}.fl-project-editor .row.editor #story .editor-core .preview-holder .loading-spinner,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .loading-spinner{position:absolute;left:50%;top:50%;width:27px;height:27px;opacity:0;pointer-events:none;z-index:5;margin-top:-13.5px;margin-left:-13.5px}.fl-project-editor .row.editor #story .editor-core .preview-holder .unsupported-notice,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .unsupported-notice{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f9f9f9;padding:20px;z-index:10}.fl-project-editor .row.editor #story .editor-core #resize-overlay,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.fl-project-editor .row.editor #story .editor-core #resize-overlay.dragging,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay.dragging{display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{position:absolute;width:4px;bottom:0;top:0;right:0;margin-bottom:0;display:none;z-index:100;-webkit-transition:width .2s;transition:width .2s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle{cursor:ew-resize;position:absolute;width:4px;bottom:0;top:0;right:0;background:#eee;-webkit-transition:width .1s,background .1s;transition:width .1s,background .1s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle:after{display:block;content:"";position:absolute;top:0;bottom:0;left:-4px;background:transparent;right:0;width:auto}.fl-project-editor .row.editor #story .editor-core #resize-handle-container .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container .resize-handle-icon{position:absolute;right:3px;top:50%;margin-top:-15px;opacity:.8;pointer-events:none;-webkit-transition:right .1s;transition:right .1s;display:none}.fl-project-editor .row.editor #story .editor-core #resize-handle-container>i,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container>i{position:absolute;top:5px;left:5px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover{width:6px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle{width:6px;background:#ddd}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle:after{left:-10px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover .resize-handle-icon{right:2px;display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container.dragging #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container.dragging #resize-handle:after{left:-200px;right:0}@media(min-width:770px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{display:block}}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0 10px 0 0}}.fl-project-editor .row.editor #visualisation{padding:10px 0 0}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{-webkit-transform-origin:left top;transform-origin:left top}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview.mini-preview{z-index:1000;opacity:1;box-shadow:none;-webkit-animation:fadeIn .5s;animation:fadeIn .5s;overflow:hidden;pointer-events:none}@-webkit-keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{width:100%}}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe{height:calc(100% - 64px)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview.nav-style-none iframe{height:100%}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core{max-width:calc(100% - 220px);margin-left:220px;min-height:calc(100vh - 94px)}}.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder iframe{width:320px}.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder iframe{width:500px}.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder iframe{width:768px}.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder iframe{width:1024px}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core{max-width:calc(100% - 350px)}}.fl-project-editor .project-header{padding:0 10px;position:absolute;top:2px;left:48px;right:0;width:auto}@media(min-width:420px){.fl-project-editor .project-header{left:60px}.fl-project-editor .project-header:after{clear:both;display:block;content:""}}@media(min-width:620px){.fl-project-editor .project-header{height:60px;z-index:110}}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{text-align:left;margin:-1px 0 0 3px;height:auto;line-height:1em;display:inline-block;border-radius:3px;vertical-align:top}@media(min-width:420px){.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{font-size:11px;padding:2px 3px 1px}}.fl-project-editor .project-header #visibility-status{cursor:pointer}.fl-project-editor .project-header #visibility-status:hover{color:#333}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .read-only{color:#aaa;font-weight:400;padding:1px 3px 2px;background:#eee}.fl-project-editor .project-header #visibility-status.public,.fl-project-editor .project-header .read-only.public{background:#ffdc98;color:#000}.fl-project-editor .project-header #visibility-status.public:hover,.fl-project-editor .project-header .read-only.public:hover{background:#eec26d;color:#000}.fl-project-editor .project-header .blueprint-tag{font-size:9px;font-weight:700;background:#2886b2;color:#fff;text-transform:uppercase;padding:1px 5px 2px;cursor:default}.fl-project-editor .project-header .project-settings{margin-left:10px;font-size:14px;font-weight:400;line-height:0;vertical-align:top;margin-bottom:-3px;display:inline-block;margin-top:-2px;z-index:110;height:auto}.fl-project-editor .project-header .project-settings .dropdown-head{padding-right:5px;padding-left:5px;padding-bottom:10px;font-size:16px}.fl-project-editor .project-header .project-settings .dropdown-list{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header .project-settings{top:0;margin-top:-4px;padding-top:19px}}@media(min-width:620px){.fl-project-editor .project-header .project-settings{padding-top:18px}}.fl-project-editor .project-header .has-name+.project-settings{margin-left:0}.fl-project-editor .project-header .name{position:relative;vertical-align:top;font-weight:400;font-style:italic;height:23px;margin-left:0;width:auto;display:inline-block;font-size:16px;z-index:110;margin-top:3px}@media(min-width:420px){.fl-project-editor .project-header .name{margin-top:5px;height:26px}}@media(min-width:620px){.fl-project-editor .project-header .name{font-size:18px}}@media(min-width:820px){.fl-project-editor .project-header .name{font-size:18px}}.fl-project-editor .project-header .name input{font-size:1em;font-size:inherit;border:none;border-bottom:1px solid #ccc;border-radius:0;background:#fff;font-style:italic;padding:0;display:inline-block;color:#aaa;position:absolute;left:0;top:0;box-sizing:content-box;outline:none;height:23px}@media(min-width:420px){.fl-project-editor .project-header .name input{height:26px}}.fl-project-editor .project-header .name .name-width-setter{font-size:inherit;padding:0;display:inline-block;opacity:0;pointer-events:none;max-width:140px;min-width:40px;white-space:pre}@media(min-width:420px){.fl-project-editor .project-header .name .name-width-setter{max-width:240px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}.fl-project-editor .project-header .name.not-editable input{border-color:transparent;color:#333;top:0;background:transparent;font-style:normal}.fl-project-editor .project-header .name.has-name .name-width-setter,.fl-project-editor .project-header .name.has-name input{font-style:normal;background:none}.fl-project-editor .project-header .name.has-name input{color:#333;border-color:#ccc;top:0;font-style:normal}.fl-project-editor .project-header .name.has-name .name-overlay{display:block;top:0}.fl-project-editor .project-header .name .name-overlay{display:none;content:"";position:absolute;left:125px;top:0;width:20px;height:100%;background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,0)),color-stop(80%,#fff));background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff 80%)}@media(min-width:420px){.fl-project-editor .project-header .name .name-overlay{left:225px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-overlay{left:325px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-overlay{left:325px}}.fl-project-editor .project-header .project-author{color:#aaa;font-weight:400;top:30px;font-size:11px;line-height:1em;position:absolute}@media(min-width:420px){.fl-project-editor .project-header .project-author{top:38px;font-size:12px}}@media(min-width:820px){.fl-project-editor .project-header .project-author{font-size:12px}}.fl-project-editor .project-header .project-author+.dropdown .dropdown-head{display:inline-block}.fl-project-editor .project-header .project-author+.dropdown .badge{top:-14px}.fl-project-editor .project-header .project-author+.dropdown .dropdown-list .badge{position:absolute;right:10px;top:12px;pointer-events:none}.fl-project-editor .project-header #export-btn-group{float:right;margin-bottom:0;margin-right:0;margin-top:9px}.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px;padding:0;text-align:center}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:none}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{padding:0 8px;height:36px;width:auto}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:inline}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:3px}}.fl-project-editor .project-header #export-btn-group #create-btn{height:36px;line-height:34px}.visualisation-editor.no-template .fl-project-editor .project-header #export-btn-group{display:none}.fl-project-editor .project-header #export-btn-group #story-btn-form{display:inline-block}.fl-project-editor .project-header #export-btn-group #story-btn{border:1px solid #ddd;background-color:#eee;color:#333;font-family:Source Sans Pro;margin-right:8px;overflow:visible}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group{margin-top:15px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group{margin-top:12px}}.fl-project-editor .row.editor-bar{background:#e3e3e3;height:30px;font-size:12px;padding:0 10px}.fl-project-editor .row.editor-bar #visualisation-tabs{z-index:110;width:calc(100% - 120px);margin-left:60px;text-align:center}.fl-project-editor .row.editor-bar #visualisation-tabs button{font-size:12px;line-height:1em}.fl-project-editor .row.editor-bar #visualisation-tabs button i{margin-right:3px;font-size:11px}.fl-project-editor .row.editor-bar #visibility-status,.fl-project-editor .row.editor-bar .read-only{display:inline-block;float:left;font-weight:700;color:#aaa;margin-top:7px}.fl-project-editor .row.editor-bar .confirm-saved{float:right;margin-top:8px;margin-left:0;width:60px}@media(min-width:820px){.fl-project-editor .row.editor-bar #visualisation-tabs{width:calc(100% - 380px);margin-left:0}}.fl-project-editor .tab-data .tab-preview{position:fixed;z-index:2}.fl-project-editor .tab-data #preview-menu{opacity:0;pointer-events:none}.fl-project-editor .side-panel{text-align:left;position:relative;background:#f9f9f9;line-height:1.1;margin-left:0;padding:10px 0 1px;width:100%}.fl-project-editor .side-panel.closed{margin-left:-300px}.fl-project-editor .side-panel .side-panel-inner{margin-bottom:87px;background:#fff}@media(min-width:820px){.fl-project-editor .side-panel .side-panel-inner{border:none;background:transparent}}.fl-project-editor .side-panel .side-panel-close{position:absolute;top:15px;right:10px;font-size:1.25em;width:1.5em;height:1.5em;padding:.1em;text-align:center;border:1px solid rgba(0,0,0,.4);border-radius:3px;background:#eaeaea;-webkit-transition:right .5s ease;transition:right .5s ease;z-index:1}.fl-project-editor .side-panel .side-panel-close.opener{right:calc(-1.5em + 1px);border-bottom-left-radius:0;border-top-left-radius:0}.fl-project-editor .side-panel .side-panel-close:hover{opacity:1}.fl-project-editor .side-panel .side-panel-close:hover i{opacity:.7}.fl-project-editor .side-panel#slides-panel{height:100%;padding:0;background:#fff;margin-top:20px}.fl-project-editor .side-panel#slides-panel .side-panel-scrollbox{padding:0 15px 10px}@media(min-width:820px){.fl-project-editor .side-panel#slides-panel{max-width:200px;right:auto;position:absolute;top:0;margin-top:0;border-right:1px solid #ddd}}.fl-project-editor .side-panel .side-panel-scrollbox{width:100%;height:100%;padding:10px 10px 20px;overflow-y:scroll}.fl-project-editor .side-panel .side-panel-scrollbox .side-panel-inner{width:100%}@media(min-width:1220px){.fl-project-editor .side-panel .side-panel-scrollbox{padding:20px}}.fl-project-editor .side-panel h1{margin:1em 0 .5em;font-size:.9em;opacity:.5;cursor:default}.fl-project-editor .side-panel h2{font-size:13px;letter-spacing:0;font-weight:500;margin:0 0 .6em;position:relative;color:#333;word-wrap:break-word}.fl-project-editor .side-panel .toplevel-settings-block{padding:0 5px 20px}.fl-project-editor .side-panel .toplevel-settings-block .settings-option{display:inline-block}.fl-project-editor .side-panel .toplevel-settings-block .settings-option:first-child{margin-top:9px}.fl-project-editor .side-panel .settings-divider{margin:1rem -10px 0;clear:both;width:calc(100% + 20px);height:1px;background:#eee}.fl-project-editor .side-panel .settings-subhead{text-transform:uppercase;font-size:.7rem;font-weight:700;color:#999;padding:.5rem 5px .25rem;margin:0;width:100%}.fl-project-editor .side-panel .settings-block{margin:0;display:inline-block;width:100%;background-color:#fff;padding:0 10px;min-height:24px}.fl-project-editor .side-panel .settings-block h2{margin:0 -10px;font-size:.8rem;padding:.75em 30px;font-weight:700;background-color:#f5f5f5;border-top:1px solid #ddd;cursor:pointer;color:#535e65}.fl-project-editor .side-panel .settings-block h2:focus{outline:none}.fl-project-editor .side-panel .settings-block h2:focus,.fl-project-editor .side-panel .settings-block h2:hover{background:#e8e8e8}.fl-project-editor .side-panel .settings-block h2:after{content:"";width:.6rem;height:.8rem;position:absolute;left:15px;background-repeat:no-repeat;background-position:50%;background-image:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjYXJldC1yaWdodCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkyIDUxMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWNhcmV0LXJpZ2h0IGZhLXctNiBmYS0zeCI+PHBhdGggZmlsbD0iIzUzNWU2NSIgZD0iTTAgMzg0LjY2MlYxMjcuMzM4YzAtMTcuODE4IDIxLjU0My0yNi43NDEgMzQuMTQyLTE0LjE0MmwxMjguNjYyIDEyOC42NjJjNy44MSA3LjgxIDcuODEgMjAuNDc0IDAgMjguMjg0TDM0LjE0MiAzOTguODA0QzIxLjU0MyA0MTEuNDA0IDAgNDAyLjQ4IDAgMzg0LjY2MnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .settings-block .settings-divider,.fl-project-editor .side-panel .settings-block .settings-option,.fl-project-editor .side-panel .settings-block .settings-subhead{display:none}.fl-project-editor .side-panel .settings-block input::-webkit-contacts-auto-fill-button{visibility:hidden;display:none!important;pointer-events:none;position:absolute;right:0}.fl-project-editor .side-panel .settings-block.open{padding-bottom:1rem}.fl-project-editor .side-panel .settings-block.open h2:after{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fl-project-editor .side-panel .settings-block.open .settings-option{display:inline-block}.fl-project-editor .side-panel .settings-block.open .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-block.open .settings-divider,.fl-project-editor .side-panel .settings-block.open .settings-subhead{display:block}.fl-project-editor .side-panel .settings-block.open h2+.settings-divider{background:transparent;margin-top:.25rem}.fl-project-editor .side-panel .settings-block.hidden{display:none}.fl-project-editor .side-panel h3{font-size:.8rem;line-height:1.2em;font-weight:400;margin-top:0;margin-bottom:3px;color:#333;display:inline-block;cursor:default;overflow:hidden;vertical-align:top;background:#fff;text-overflow:ellipsis}.fl-project-editor .side-panel p{font-size:12px;margin-top:0;font-weight:300}.fl-project-editor .side-panel .settings-option{position:relative;margin-top:.75rem;display:none;vertical-align:bottom;width:100%;padding:0 5px}.fl-project-editor .side-panel .settings-option label{font-size:13px;display:inline-block;vertical-align:top;width:100%}.fl-project-editor .side-panel .settings-option label .help-tip{margin-left:3px;color:#d0d0d0;font-style:normal}.fl-project-editor .side-panel .settings-option label .help-tip:hover{color:#aaa}.fl-project-editor .side-panel .settings-option label:hover{z-index:2;position:relative}.fl-project-editor .side-panel .settings-option label:hover h3{padding-right:1px}.fl-project-editor .side-panel .settings-option button,.fl-project-editor .side-panel .settings-option input,.fl-project-editor .side-panel .settings-option select,.fl-project-editor .side-panel .settings-option textarea{border-radius:3px;border:1px solid #ddd;padding:.2em .1em .2em .3em;min-height:30px;font-size:13px;display:block;outline:none;-webkit-transition:border .2s linear;transition:border .2s linear;max-width:100%}.fl-project-editor .side-panel .settings-option button:focus,.fl-project-editor .side-panel .settings-option input:focus,.fl-project-editor .side-panel .settings-option select:focus,.fl-project-editor .side-panel .settings-option textarea:focus{border:1px solid #777}.fl-project-editor .side-panel .settings-option ::-webkit-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option :-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option ::-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option .autocomplete .dropdown-list .dropdown-item{font-size:13px;padding:10px 10px 10px 6px}.fl-project-editor .side-panel .settings-option .color-wrapper{width:30px;height:30px;overflow:hidden;border-radius:3px;border:1px solid #fff;position:relative;font-size:14px;min-height:30px}.fl-project-editor .side-panel .settings-option .color-wrapper input{-webkit-transform:scale(10);transform:scale(10);position:absolute}.fl-project-editor .side-panel .settings-option .color-wrapper:after{display:block;position:absolute;content:"";border:1px solid rgba(0,0,0,.1);left:0;right:0;top:0;bottom:0;pointer-events:none}.fl-project-editor .side-panel .settings-option .color-wrapper:invalid{box-shadow:none}.fl-project-editor .side-panel .settings-option .single-button{background:#eee;color:#333;width:100%;border:none;padding:0;cursor:pointer;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .single-button:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .single-button:focus{border:none}.fl-project-editor .side-panel .settings-option .buttons-container{display:-webkit-box;display:flex}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]{width:0;height:0;opacity:0;margin:0;display:inline-block;display:none}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label{font-size:13px;background:#eee;color:#333;display:inline-block;height:30px;cursor:pointer;text-align:center;padding-top:8px;border-right:1px solid #fff;border-bottom:1px solid #fff;background-size:cover;background-position:50% 50%;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label i{color:#555}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label img{margin-top:-8px}.fl-project-editor .side-panel .settings-option .buttons-container.large input[type=radio]+label{height:60px}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:not([disabled])+label:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:disabled+label{cursor:default}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label{background-color:#ccdee6;cursor:default;position:relative}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:hover{background-color:#ccdee6}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:after{width:100%;height:2px;background:#2886b2;bottom:0;position:absolute;content:"";left:0}.fl-project-editor .side-panel .settings-option input[data-autocomplete]+.fa{position:absolute;right:10px;margin-top:-21px;font-size:12px;pointer-events:none}.fl-project-editor .side-panel .settings-option select{width:100%;height:30px}.fl-project-editor .side-panel .settings-option.option-type-color input{padding:0;background:#fff}.fl-project-editor .side-panel .settings-option.option-type-color,.fl-project-editor .side-panel .settings-option.option-type-number,.fl-project-editor .side-panel .settings-option.option-type-rows{width:50%}.fl-project-editor .side-panel .settings-option.option-type-color.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-number.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-rows.width-quarter input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-color input,.fl-project-editor .side-panel .settings-option.option-type-number input,.fl-project-editor .side-panel .settings-option.option-type-rows input{width:calc((100% - 10px)/2);min-width:40px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons).settings-buttons>label{height:auto}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input{display:none}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons)>label:first-child{position:absolute;padding-left:37px;padding-top:7px;width:auto;right:5px;left:5px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider{position:relative;cursor:pointer;width:33px;height:30px;background:transparent;padding-left:0;padding-top:0}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:hover:after{border-color:#bbb}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:before{position:absolute;content:"";height:12px;width:33px;top:9px;left:0;border-radius:6px;background-color:#ddd;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:after{position:absolute;content:"";height:24px;width:24px;left:0;bottom:3px;border-radius:50%;background-color:#fff;border:1px solid #ddd;box-sizing:border-box;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:before{background:#ccdee6}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:after{left:9px;background:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:hover:after{background-color:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-code textarea,.fl-project-editor .side-panel .settings-option.option-type-string input,.fl-project-editor .side-panel .settings-option.option-type-text textarea,.fl-project-editor .side-panel .settings-option.option-type-url input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-code textarea.size-large,.fl-project-editor .side-panel .settings-option.option-type-text textarea.size-large{height:50vh}.fl-project-editor .side-panel .settings-option.option-type-code label{width:calc(100% - 18px)}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{font-size:.7em;color:#999;-webkit-transform:scaleY(-1);transform:scaleY(-1);margin-bottom:.3em;display:inline-block;vertical-align:bottom;-webkit-transition:-webkit-transform .1s ease;transition:-webkit-transform .1s ease;transition:transform .1s ease;transition:transform .1s ease,-webkit-transform .1s ease}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control.selected{-webkit-transform:scale(-1);transform:scale(-1);cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-code textarea{font-family:monospace;font-size:13px}.fl-project-editor .side-panel .settings-option.option-type-font input.font-menu{width:100%;outline:none}.fl-project-editor .side-panel .settings-option.option-type-colors input{width:100%;margin:0;z-index:1;cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{display:-webkit-box;display:flex;-webkit-box-align:stretch;align-items:stretch;min-height:30px;overflow:hidden}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches em,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item em{font-style:normal;color:#777;display:block;padding:8px;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{display:inline-block;height:30px;-webkit-box-flex:1;flex:1}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span:nth-child(n+13):nth-child(-n+99),.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span:nth-child(n+13):nth-child(-n+99){display:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches{padding:0;position:absolute;left:4px;right:26px;z-index:0;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{padding:2px 0!important;width:100%}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item label{position:absolute;top:6px;left:8px;color:hsla(0,0%,98%,.9);pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors.custom input{opacity:0}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches{-webkit-box-align:start;align-items:flex-start}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span{max-width:28px;pointer-events:auto;-webkit-transition:-webkit-transform .1s;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span:hover{-webkit-transform:scale(1.2);transform:scale(1.2)}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa{font-size:24px;color:#ccc;margin-left:4px}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa:before{position:relative;top:2px}.fl-project-editor .side-panel .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-option.width-full{width:100%!important}.fl-project-editor .side-panel .settings-option.width-half{width:50%!important}.fl-project-editor .side-panel .settings-option.width-quarter{width:25%!important}.fl-project-editor .side-panel .settings-option.width-three-quarters{width:75%!important}.fl-project-editor .side-panel .settings-option .description-link{cursor:pointer;color:#dd4141}.fl-project-editor .side-panel .detailed-settings h2{margin-bottom:.75rem}.fl-project-editor .side-panel .detailed-settings h2:after{content:""}.fl-project-editor .side-panel .palette{max-height:calc(100vh - 210px);overflow-y:auto;padding:1px}.fl-project-editor .side-panel .palette .swatch-color,.fl-project-editor .side-panel .palette button,.fl-project-editor .side-panel .palette input[type=color]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;width:28px;height:28px;padding:0;margin:1px;border:none;outline:none;background:transparent}.fl-project-editor .side-panel .palette .swatch-color.fa-plus-square:before,.fl-project-editor .side-panel .palette button.fa-plus-square:before,.fl-project-editor .side-panel .palette input[type=color].fa-plus-square:before{font-size:32px;color:#ddd;margin-left:1px}.fl-project-editor .side-panel .palette .swatch-color.fa-times,.fl-project-editor .side-panel .palette button.fa-times,.fl-project-editor .side-panel .palette input[type=color].fa-times{position:absolute;right:0;opacity:0;color:#aaa}.fl-project-editor .side-panel .palette .swatch-color.fa-times:hover,.fl-project-editor .side-panel .palette button.fa-times:hover,.fl-project-editor .side-panel .palette input[type=color].fa-times:hover{color:#888}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette button::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch-wrapper{padding:0}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch,.fl-project-editor .side-panel .palette button::-webkit-color-swatch,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch{border:none}.fl-project-editor .side-panel .palette [draggable]{cursor:move;cursor:grab;cursor:-webkit-grab}.fl-project-editor .side-panel .palette [draggable]:active{cursor:grabbing;cursor:-webkit-grabbing}.fl-project-editor .side-panel .palette .swatch-handle{display:block;width:15px;height:28px;color:#ddd;position:absolute;left:1px;top:7px;text-align:center;font-size:18px;font-weight:700;line-height:5.5px;pointer-events:none}.fl-project-editor .side-panel .palette input[type=text]{width:120px;width:calc(100% - 52px);background:transparent;padding:5px 8px;border-width:0;margin:0}.fl-project-editor .side-panel .palette p{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:0;padding:5px 5px 5px 20px;border-bottom:1px solid #eee}.fl-project-editor .side-panel .palette p:first-child{border-top:1px solid #eee}.fl-project-editor .side-panel .palette p:hover button.fa-times{opacity:.5}.fl-project-editor .side-panel .palette p:hover [draggable]:before{opacity:1}.fl-project-editor .side-panel .side-panel-top{border-top:none;border-bottom:1px solid rgba(0,0,0,.1);margin-top:0;padding:17px 10px 20px;font-size:1em}.fl-project-editor .side-panel .side-panel-top.shadow{box-shadow:3px 3px 5px rgba(0,0,0,.1)}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .side-panel-icon-btn{color:#fff;background:#9a9a9a;padding:7px 0 0;border-radius:9999px;width:30px;height:30px;text-align:center;margin:0}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .4em;height:1em;border-left:1px solid rgba(0,0,0,.25);display:inline-block;vertical-align:middle}#story .fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .25em}.fl-project-editor .side-panel .current-template{margin:0;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;position:relative;padding:10px 10px 0;min-height:56px;border-bottom:1px solid #ddd}.fl-project-editor .side-panel .current-template h1{padding-right:76px;opacity:1;font-size:12px;font-weight:400;min-height:36px;margin:0;padding-top:3px}.fl-project-editor .side-panel .current-template h1>span{display:block;font-weight:700;font-size:16px}.fl-project-editor .side-panel .current-template h3{margin-top:.7em}.fl-project-editor .side-panel .current-template h3 i{margin-left:.2em;color:rgba(0,0,0,.5)}.fl-project-editor .side-panel .current-template .current-template-title{position:relative}.fl-project-editor .side-panel .current-template .current-template-title .current-template-version{margin-left:4px;font-size:12px}.fl-project-editor .side-panel .current-template .current-template-thumbnail{position:absolute;right:-10px;top:-10px;width:76px;height:calc(100% + 19px);background-size:cover;background-position:50%;background-repeat:no-repeat}.fl-project-editor .side-panel .current-template .current-template-thumbnail:after{width:20px;height:100%;position:absolute;left:0;right:0;background:-webkit-gradient(linear,left top,right top,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));content:"";display:block}.fl-project-editor .side-panel .template-theme button#reset-to-theme:disabled{color:#d3d3d3}@media (min-width:620px) and (max-width:819px){.fl-project-editor .side-panel .side-panel-inner{max-width:500px;margin:20px auto}}@media(min-width:820px){.fl-project-editor .side-panel{max-width:size(3.5);position:fixed;right:0;top:93px;background:#fff;overflow-y:auto;height:calc(100vh - 93px);border-left:1px solid #ddd}.fl-project-editor .side-panel .current-template{padding-top:0;min-height:46px}}.fl-project-editor .tab-preview #visualisation .editor-core{overflow:visible!important}.fl-project-editor .tab-preview.active #visualisation .editor-core{overflow:auto!important}.fl-project-editor body.full-screen .row.editor #story,.fl-project-editor body.full-screen .row.editor #visualisation{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.fl-project-editor body.full-screen .row.editor #story .editor-core #preview,.fl-project-editor body.full-screen .row.editor #visualisation .editor-core #preview{width:100%!important}.fl-project-editor body.full-screen .row.editor #story #exit-full-screen,.fl-project-editor body.full-screen .row.editor #visualisation #exit-full-screen{display:block}.fl-project-editor body.loading .loading-spinner{opacity:1!important;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor body.loading .content{min-height:100vh}.fl-project-editor body.loading .preview-holder{pointer-events:none;background-color:#f3f3f3}.fl-project-editor body.loading .preview-holder #preview{background:transparent!important}.fl-project-editor body.loading .preview-holder iframe{opacity:.1}.fl-project-editor body.loading #blank-slide,.fl-project-editor body.loading .row.data{opacity:0;pointer-events:none}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor #private-publishing{display:inline-block;padding-right:15px;margin-top:10px;width:100%}.fl-project-editor #private-publishing+input{width:100%;padding:5px}.fl-project-editor #private-publishing+input.hidden{display:none}.fl-project-editor #private-publishing+input.error{border-color:#dd4141}.fl-project-editor #private-publishing.upgrade-btn{width:auto;color:#999}.fl-project-editor #private-publishing.upgrade-btn:after{top:4px}.fl-annotations-source-element{position:absolute;left:-3rem;width:3rem;height:3rem;z-index:9999;background:#333;background-position:50%;background-size:40%;background-repeat:no-repeat;border:none;border-radius:100% 0 0 100%;top:.25rem;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg data-prefix=\'fas\' data-icon=\'pencil-alt\' xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 512 512\'%3E%3Cpath fill=\'%23fff\' d=\'M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\'/%3E%3C/svg%3E")}.fl-annotations-add-element,.fl-annotations-source-element{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;pointer-events:all}.fl-annotations-add-element{display:block;border:none;margin:1rem;border-radius:2rem;color:#fff;font-weight:700;text-align:center;padding-left:1.5rem;padding-right:0;font-size:1rem;height:2.5rem;line-height:2.5rem;background:#333;background-position:.5rem;background-size:1.5rem;background-repeat:no-repeat;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 36 36\'%3E%3Cstyle%3E.fl-annotations-cursor rect{fill:%23fff}%3C/style%3E%3Cg xmlns=\'http://www.w3.org/2000/svg\' class=\'fl-annotations-cursor\' transform=\'translate(18 18)\'%3E%3Ccircle r=\'16\' style=\'transition:stroke .25s\' fill=\'none\' stroke=\'%23fff\' stroke-width=\'2\' stroke-dasharray=\'4,4\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-1-6h2V6h-2z\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-6-1H6v2H-6z\'/%3E%3C/g%3E%3C/svg%3E")}.fl-annotations .fl-annotations-node{pointer-events:none}.fl-annotations .fl-annotations-node.fl-connector-popup,.fl-annotations.is-editing .fl-annotations-node{pointer-events:all}.fl-annotations .fl-annotations-node.fl-marker text,.fl-annotations .fl-annotations-node.fl-point text{fill:#fff;text-anchor:middle;dominant-baseline:middle;alignment-baseline:middle;font-size:.8rem;font-weight:800}.fl-annotations .fl-annotations-node.fl-marker.selected circle{fill:#333}.fl-annotations .fl-notch{fill:none;stroke-dasharray:4,4;pointer-events:none}.fl-annotations.is-editing .fl-notch{pointer-events:all}.fl-annotations .fl-annotations-node .fl-connector,.fl-annotations .fl-annotations-node text,.fl-annotations.is-editing.is-dragging .fl-notch{pointer-events:none}.fl-annotations .fl-annotations-inline a,.fl-annotations.is-editing .fl-annotations-inline{pointer-events:all}.fl-annotations .fl-annotations-cursor{visibility:hidden;pointer-events:none}.fl-annotations.is-edit-add .fl-annotations-cursor{visibility:visible}.fl-annotations .fl-annotations-cursor circle{fill:none;stroke:#eee;stroke-width:2px;stroke-dasharray:4,4;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid circle{stroke:#333;-webkit-animation:cursorRotate 5s linear 0s infinite normal;animation:cursorRotate 5s linear 0s infinite normal}.fl-annotations .fl-annotations-cursor line{stroke:#eee;stroke-width:2px;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid line{stroke:#333}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle{stroke-dasharray:6,2;stroke-dashoffset:1}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.inner-outline line,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline line{stroke:#fff;stroke-width:4px}@-webkit-keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor .fl-annotation-list{list-style-type:none;margin:0;padding:1rem;border-bottom:1px solid #eee}.fl-project-editor .fl-annotation-list:empty{padding:0}.fl-annotation-list-wrap{background:#fff;margin:0;font-size:.8rem;max-height:10rem;overflow:auto;position:relative;box-shadow:inset 0 -10px 10px -10px rgba(0,0,0,.25);-webkit-transition:box-shadow .5s;transition:box-shadow .5s}.fl-annotation-list-wrap.scroll-end{box-shadow:inset 0 -10px 10px -10px transparent}.fl-project-editor .fl-annotation-list>li{display:-webkit-box;display:flex;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;list-style-type:none;line-height:1.35rem;color:#b1b1b1;cursor:pointer}.fl-project-editor .fl-annotation-list .drop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:none}.fl-project-editor .fl-annotation-list.dragging .drop-overlay{display:-webkit-box;display:flex}.fl-project-editor .fl-annotation-list .drop-above,.fl-project-editor .fl-annotation-list .drop-below{-webkit-box-flex:1;flex-grow:1}.fl-project-editor .fl-annotation-list .drop-above{border-top:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-below{border-bottom:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-above.dropping{border-top:1px solid #666}.fl-project-editor .fl-annotation-list .drop-below.dropping{border-bottom:1px solid #666}.fl-project-editor .fl-annotation-list>li .text{display:block;overflow:hidden;text-overflow:ellipsis;-webkit-box-flex:1;flex-grow:1;white-space:nowrap}.fl-project-editor .fl-annotation-list>li .icon{display:none;margin-left:.5rem;color:#333;opacity:0;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected .icon,.fl-project-editor .fl-annotation-list>li:hover .icon{display:inline-block;margin-left:.5rem;opacity:.5}.fl-project-editor .fl-annotation-list>li .icon:hover{opacity:1}.fl-project-editor .fl-annotation-list>li:hover{color:#000}.fl-project-editor .fl-annotation-list>li:before{content:"";width:.75rem;height:.75rem;display:inline-block;background:#b1b1b1;vertical-align:middle;margin-right:.5rem;border-radius:100%;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected{cursor:default}.fl-project-editor .fl-annotation-list>li.selected:before{background:#333}.fl-project-editor .fl-annotation-list>li.selected .text{color:#333}.fl-annotation-list li.drag-over{background:red}.icon-pencil{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNjYgNC4wODZMOS43NTYgMi45OUEuODA5LjgwOSAwIDAwMTAgMi4zOTZhLjg0NS44NDUgMCAwMC0uMjQ0LS42TDguMjA1LjI1QS44Mi44MiAwIDAwNy42MDQgMGEuNzg0Ljc4NCAwIDAwLS41OTQuMjVMNS45MTQgMS4zNCA4LjY2IDQuMDg2ek0yLjc0NiAxMGw1LjQ5Mi01LjQ5Mi0yLjc0Ni0yLjc0NkwwIDcuMjU0VjEwaDIuNzQ2em0tLjYzNC0zLjIzNGMtLjA5NyAwLS4xNDUtLjA0OS0uMTQ1LS4xNDYgMC0uMDQ0LjAxNS0uMDguMDQ2LS4xMTJsMy41NzgtMy41NzdhLjE1My4xNTMgMCAwMS4xMTItLjA0N2MuMDk3IDAgLjE0NS4wNDkuMTQ1LjE0NmEuMTUzLjE1MyAwIDAxLS4wNDYuMTEyTDIuMjI0IDYuNzE5YS4xNTMuMTUzIDAgMDEtLjExMi4wNDd6bS4yODQgMi4zOUgxLjY5VjguMzFILjg0NXYtLjcwNmwuNi0uNiAxLjU1MiAxLjU1LS42MDEuNjAxeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+")}.icon-clone{width:10px;height:10px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg aria-hidden="true" data-prefix="fas" data-icon="clone" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-clone fa-w-16 fa-3x"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"/></svg>\')}.icon-trash{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMjg2IDEwLjg1N2MuMjk0IDAgLjU0Ny0uMTM1Ljc1Ni0uNDA1LjIxLS4yNy4zMTUtLjU5LjMxNS0uOTZ2LTYuMzVIMTBjLjA2MyAwIC4xMTQtLjAyLjE1NC0uMDYuMDQtLjA0LjA2LS4wOS4wNi0uMTUzVjIuNWEuMjA5LjIwOSAwIDAwLS4wNi0uMTU0LjIwOS4yMDkgMCAwMC0uMTU0LS4wNkg3LjkzbC0uNDY4LTEuMTE5QS45MjguOTI4IDAgMDA3LjEuNzQ2Ljk0NS45NDUgMCAwMDYuNTcxLjU3SDQuNDNhLjk0NS45NDUgMCAwMC0uNTMuMTc1LjkyOC45MjggMCAwMC0uMzYxLjQyMWwtLjQ2OSAxLjExOUgxYS4yMDkuMjA5IDAgMDAtLjE1NC4wNi4yMDkuMjA5IDAgMDAtLjA2LjE1NHYuNDI5YzAgLjA2Mi4wMi4xMTMuMDYuMTU0LjA0LjA0LjA5Mi4wNi4xNTQuMDZoLjY0M3Y2LjM3NWMwIC4zNy4xMDUuNjg2LjMxNS45NDcuMjEuMjYyLjQ2Mi4zOTIuNzU2LjM5Mmg1LjU3MnpNNyAyLjI4Nkg0bC4zMjgtLjc4NGEuMTg5LjE4OSAwIDAxLjExNC0uMDczaDIuMTIzYS4xODkuMTg5IDAgMDEuMTE0LjA3M0w3IDIuMjg2ek00IDkuMTQzaC0uNDI5YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5Mi0uMDYuMTU0LS4wNkg0Yy4wNjMgMCAuMTE0LjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6bTEuNzE0IDBoLS40MjhhLjIwOS4yMDkgMCAwMS0uMTU0LS4wNi4yMDkuMjA5IDAgMDEtLjA2LS4xNTRWNC4yMTRjMC0uMDYyLjAyLS4xMTQuMDYtLjE1NC4wNC0uMDQuMDkxLS4wNi4xNTQtLjA2aC40MjhjLjA2MyAwIC4xMTQuMDIuMTU0LjA2LjA0LjA0LjA2LjA5Mi4wNi4xNTRWOC45M2MwIC4wNjItLjAyLjExMy0uMDYuMTU0YS4yMDkuMjA5IDAgMDEtLjE1NC4wNnptMS43MTUgMEg3YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5MS0uMDYuMTU0LS4wNmguNDI5Yy4wNjIgMCAuMTEzLjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6IiBmaWxsPSIjMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=")}.fl-project-editor .side-panel .help-tip{display:inline-block;position:relative;width:.7rem;height:.7rem;-webkit-transform:translateY(1px);transform:translateY(1px);opacity:.6;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGZhLXctMTYgZmEtM3giPjxwYXRoIGZpbGw9IiNhYWEiIGQ9Ik01MDQgMjU2YzAgMTM2Ljk5Ny0xMTEuMDQzIDI0OC0yNDggMjQ4UzggMzkyLjk5NyA4IDI1NkM4IDExOS4wODMgMTE5LjA0MyA4IDI1NiA4czI0OCAxMTEuMDgzIDI0OCAyNDh6TTI2Mi42NTUgOTBjLTU0LjQ5NyAwLTg5LjI1NSAyMi45NTctMTE2LjU0OSA2My43NTgtMy41MzYgNS4yODYtMi4zNTMgMTIuNDE1IDIuNzE1IDE2LjI1OGwzNC42OTkgMjYuMzFjNS4yMDUgMy45NDcgMTIuNjIxIDMuMDA4IDE2LjY2NS0yLjEyMiAxNy44NjQtMjIuNjU4IDMwLjExMy0zNS43OTcgNTcuMzAzLTM1Ljc5NyAyMC40MjkgMCA0NS42OTggMTMuMTQ4IDQ1LjY5OCAzMi45NTggMCAxNC45NzYtMTIuMzYzIDIyLjY2Ny0zMi41MzQgMzMuOTc2QzI0Ny4xMjggMjM4LjUyOCAyMTYgMjU0Ljk0MSAyMTYgMjk2djRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg1NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEydi0xLjMzM2MwLTI4LjQ2MiA4My4xODYtMjkuNjQ3IDgzLjE4Ni0xMDYuNjY3IDAtNTguMDAyLTYwLjE2NS0xMDItMTE2LjUzMS0xMDJ6TTI1NiAzMzhjLTI1LjM2NSAwLTQ2IDIwLjYzNS00NiA0NiAwIDI1LjM2NCAyMC42MzUgNDYgNDYgNDZzNDYtMjAuNjM2IDQ2LTQ2YzAtMjUuMzY1LTIwLjYzNS00Ni00Ni00NnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .help-tip:hover{opacity:1}.fl-project-editor .side-panel .help-tip:after{content:attr(data-popup-body);position:absolute;bottom:100%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.fl-annotations-tip{font-family:Source Sans Pro,sans-serif;max-width:15rem;background:#fff;color:#333;box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:.5rem;padding:.625rem;font-size:.72rem;line-height:1.25em;position:absolute;z-index:999999;pointer-events:none}.fl-annotations-tip:after{content:"";position:absolute;bottom:-8px;left:50%;margin-left:-8px;width:0;height:0;border-color:#fff transparent transparent;border-style:solid;border-width:8px 8px 0}.fl-annotations-tip.hidden{display:none}.fl-disable-selection,.fl-disable-selection *{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.fl-project-editor{z-index:100000;overflow-y:auto;width:18rem;background:#fff;box-shadow:0 -2px 5px 0 rgba(0,0,0,.2);height:100vh;overflow:auto}.fl-project-editor .side-panel .side-panel-inner{margin:0;max-width:none}.fl-project-editor .side-panel{padding:0;background:transparent;height:auto;position:static;overflow:none}.fl-annotation-settings{border-top:1px solid #eee}.fl-annotation-contents :first-child{margin-top:0}.fl-annotation-contents :last-child{margin-bottom:0}.fl-annotation-contents a{color:inherit}.fl-annotation-contents img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;pointer-events:none}.empty-annotation-message{padding:1rem;font-size:1rem;text-align:center;color:#aaa}.fl-project-editor .fl-annotation-settings .settings-block,.fl-project-editor .fl-annotation-settings .toplevel-settings-block{display:none}.fl-project-editor.active-annotation .fl-annotation-settings .settings-block,.fl-project-editor.active-annotation .fl-annotation-settings .toplevel-settings-block{display:block}.fl-project-editor.active-annotation .fl-annotation-settings .empty-annotation-message{display:none}@media screen and (min-width:521px){.fl-annotations-add-element{display:none}}@media screen and (max-width:520px){.fl-project-editor{right:0;position:absolute}.is-edit-settings .fl-annotations-add-element,.is-edit-settings .fl-annotations-source-element{left:-21rem}}',document.head.appendChild(OC);var PC=RC;function RC(t,e){for("string"==typeof e&&(e=YC(e)),"function"!=typeof e&&(e=UC(e));t&&!e(t);)t=t.parentNode;return t||null}function YC(e){return e=String(e).toUpperCase(),function(t){return e===t.nodeName}}function UC(e){return function(t){return e===t}}function FC(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var BC=FC;function ZC(t){return"function"==typeof t}function HC(t){return"number"==typeof t}function GC(t){return"object"==typeof t&&null!==t}function QC(t){return void 0===t}(FC.EventEmitter=FC).prototype._events=void 0,FC.prototype._maxListeners=void 0,FC.defaultMaxListeners=10,FC.prototype.setMaxListeners=function(t){if(!HC(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},FC.prototype.emit=function(t){var e,n,r,i,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||GC(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(QC(n=this._events[t]))return!1;if(ZC(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(GC(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},FC.prototype.on=FC.prototype.addListener=function(t,e){var n;if(!ZC(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,ZC(e.listener)?e.listener:e),this._events[t]?GC(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,GC(this._events[t])&&!this._events[t].warned&&(n=QC(this._maxListeners)?FC.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},FC.prototype.once=function(t,e){if(!ZC(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},FC.prototype.removeListener=function(t,e){var n,r,i,o;if(!ZC(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||ZC(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(GC(n)){for(o=i;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},FC.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(ZC(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},FC.prototype.listeners=function(t){var e,e=this._events&&this._events[t]?ZC(this._events[t])?[this._events[t]]:this._events[t].slice():[];return e},FC.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(ZC(e))return 1;if(e)return e.length}return 0},FC.listenerCount=function(t,e){return t.listenerCount(e)};var qC=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],VC={left:0,top:0},WC=function t(e,o){o=o||{},e=e||window;var a=new BC;a.target=o.target||e;var r=null,s=o.filtered,n=qC;"string"==typeof o.type&&(n=qC.filter(function(t){return 0===t.indexOf(o.type)}));var i=n.map(function(r){var i=eO(r),t;return{type:r,listener:function(t){var e=t,n;/^touch/.test(r)&&(/^touchend$/.test(r)&&!1!==o.preventSimulated&&t.preventDefault(),e=s?l(t,r):JC(t.changedTouches,a.target)),e&&(n=XC(e,a.target),a.emit(i,t,n))}}});return a.enable=function t(){return i.forEach(tO(e,!0)),a},a.disable=function t(){return r=null,i.forEach(tO(e,!1)),a},a.enable(),a;function l(t,e){var n;return r&&/^touch(end|cancel)/.test(e)?(n=KC(t.changedTouches,r.identifier||0))&&(r=null):!r&&/^touchstart/.test(e)?r=n=JC(t.changedTouches,a.target):r&&(n=KC(t.changedTouches,r.identifier||0)),n}},$C;function XC(t,e){var n=t.clientX||0,r=t.clientY||0,i=nO(e);return[n-i.left,r-i.top]}function JC(t,e){return Array.prototype.slice.call(t).filter(function(t){return t.target===e})[0]||t[0]}function KC(t,e){for(var n=0;n<t.length;n++)if(t[n].identifier===e)return t[n];return null}function tO(e,n){return function(t){n?e.addEventListener(t.type,t.listener,{passive:!1}):e.removeEventListener(t.type,t.listener,{passive:!1})}}function eO(t){return t.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start")}function nO(t){return t===window||t===document||t===document.body?VC:t.getBoundingClientRect()}var rO=void 0!==i&&(i.crypto||i.msCrypto),iO,$C,oO;rO&&rO.getRandomValues&&(iO=new Uint8Array(16),$C=function t(){return rO.getRandomValues(iO),iO}),$C||(oO=new Array(16),$C=function(){for(var t=0,e;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),oO[t]=e>>>((3&t)<<3)&255;return oO});for(var aO=$C,sO=[],lO=0;lO<256;++lO)sO[lO]=(lO+256).toString(16).substr(1);function cO(t,e){var n=e||0,r;return sO[t[n++]]+sO[t[n++]]+sO[t[n++]]+sO[t[n++]]+"-"+sO[t[n++]]+sO[t[n++]]+"-"+sO[t[n++]]+sO[t[n++]]+"-"+sO[t[n++]]+sO[t[n++]]+"-"+sO[t[n++]]+sO[t[n++]]+sO[t[n++]]+sO[t[n++]]+sO[t[n++]]+sO[t[n++]]}var uO=cO;function dO(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||aO)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||uO(i)}var fO=dO,hO={origin:[0,0],content_offset:[.025,.025]},pO=function t(e,n){Pb(this,t),this.id="",this.position=e,this.device_visibility="all",this.text_size=1,this.text_color="#333333",this.text_bg="#ffffff",this.text_weight="bold",this.text_line_height=1.25,this.label_width=10,this.popup_position="center",this.popup_bg="#ffffff",this.line_marker="none",this.stroke_color="#333333",this.stroke_opacity=1,this.stroke_width=2,this.subject_fill="#333333",this.point_radius=.5,this.point_text="",this.point_text_color="#FFFFFF",this.subject_fill_opacity=0,this.subject_type="none",this.connector_type="direct",this.connector_extend_line="enabled",this.contents="Type your annotation...",n&&Object.assign(this,n),this.view=Object.assign({},hO),this.view.origin=this.view.origin.slice(),this.view.content_offset=this.view.content_offset.slice()},gO,_O;function yO(){var t=new pO,e=Object.assign({},t);return delete e.view,delete e.position,delete e.id,delete e.contents,e}pO.getDefaultSettings=yO;var mO=520;function vO(){return window.innerWidth!==gO&&(gO=window.innerWidth,_O=gO<=mO),_O}function bO(t){var e=t.device_visibility;return"all"==e||("mobile"==e?vO():"desktop"!=e||!vO())}var xO=n(function(t,e){t.exports=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n;if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator])return(n=t[Symbol.iterator]()).next.bind(n);if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=t(function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}}),a=/[&<>"']/,s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=function t(e){return u[e]};function f(t,e){if(e){if(a.test(t))return t.replace(s,d)}else if(l.test(t))return t.replace(c,d);return t}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(t){return t.replace(h,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}var _=/(^|[^\[])\^/g;function y(r,e){r=r.source||r,e=e||"";var i={replace:function t(e,n){return n=(n=n.source||n).replace(_,"$1"),r=r.replace(e,n),i},getRegex:function t(){return new RegExp(r,e)}};return i}var m=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(t,e,n){if(t){var r;try{r=decodeURIComponent(g(n)).replace(m,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!v.test(n)&&(n=A(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}var x={},w=/^[^:]+:\/*[^/]*$/,M=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/,j;function A(t,e){x[" "+t]||(w.test(t)?x[" "+t]=t+"/":x[" "+t]=N(t,"/",!0));var n=-1===(t=x[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(M,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(k,"$1")+e:t+e}function I(t){for(var e=1,n,r;e<arguments.length;e++)for(r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}function T(t,e){var n,r=t.replace(/\|/g,function(t,e,n){for(var r=!1,i=e;0<=--i&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),i=0;if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function N(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}function z(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1}function S(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(t,e){if(e<1)return"";for(var n="";1<e;)1&e&&(n+=t),e>>=1,t+=t;return n+t}var L=f,D=g,C=y,O=b,P=A,R={exec:function t(){}},Y=I,U,F,B,Z=S,H=E,G=n.defaults,Q=N,q=T,V=L,W=z;function $(t,e,n){var r=e.href,i=e.title?V(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:V(o)}}function X(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/),n;return null!==e&&e[0].length>=r.length?t.slice(r.length):t}).join("\n")}var J=function(){function t(t){this.options=t||G}var e=t.prototype;return e.space=function t(e){var n=this.rules.block.newline.exec(e);if(n)return 1<n[0].length?{type:"space",raw:n[0]}:{raw:"\n"}},e.code=function t(e,n){var r=this.rules.block.code.exec(e);if(r){var i=n[n.length-1];if(i&&"paragraph"===i.type)return{raw:r[0],text:r[0].trimRight()};var o=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Q(o,"\n")}}},e.fences=function t(e){var n=this.rules.block.fences.exec(e);if(n){var r=n[0],i=X(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:i}}},e.heading=function t(e){var n=this.rules.block.heading.exec(e);if(n){var r=n[2].trim(),i;return/#$/.test(r)&&(i=Q(r,"#"),!this.options.pedantic&&i&&!/ $/.test(i)||(r=i.trim())),{type:"heading",raw:n[0],depth:n[1].length,text:r}}},e.nptable=function t(e){var n=this.rules.block.nptable.exec(e);if(n){var r={type:"table",header:q(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};if(r.header.length===r.align.length){for(var i=r.align.length,o,o=0;o<i;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(i=r.cells.length,o=0;o<i;o++)r.cells[o]=q(r.cells[o],r.header.length);return r}}},e.hr=function t(e){var n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}},e.blockquote=function t(e){var n=this.rules.block.blockquote.exec(e);if(n){var r=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],text:r}}},e.list=function t(e){var n=this.rules.block.list.exec(e);if(n){for(var r=n[0],i=n[2],o=1<i.length,t={type:"list",raw:r,ordered:o,start:o?+i.slice(0,-1):"",loose:!1,items:[]},a=n[0].match(this.rules.block.item),s=!1,l,c,u,d,f,h,p,g,_=a.length,u=this.rules.block.listItemStart.exec(a[0]),y=0;y<_;y++){if(r=l=a[y],y!==_-1){if(d=this.rules.block.listItemStart.exec(a[y+1]),this.options.pedantic?d[1].length>u[1].length:d[1].length>u[0].length||3<d[1].length){a.splice(y,2,a[y]+"\n"+a[y+1]),y--,_--;continue}(!this.options.pedantic||this.options.smartLists?d[2][d[2].length-1]!==i[i.length-1]:o==(1===d[2].length))&&(f=a.slice(y+1).join("\n"),t.raw=t.raw.substring(0,t.raw.length-f.length),y=_-1),u=d}c=l.length,~(l=l.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),h=s||/\n\n(?!\s*$)/.test(l),y!==_-1&&(s="\n"===l.charAt(l.length-1),h=h||s),h&&(t.loose=!0),this.options.gfm&&(g=void 0,(p=/^\[[ xX]\] /.test(l))&&(g=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,""))),t.items.push({type:"list_item",raw:r,task:p,checked:g,loose:h,text:l})}return t}},e.html=function t(e){var n=this.rules.block.html.exec(e);if(n)return{type:this.options.sanitize?"paragraph":"html",raw:n[0],pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):V(n[0]):n[0]}},e.def=function t(e){var n=this.rules.block.def.exec(e),r;if(n)return n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),{tag:n[1].toLowerCase().replace(/\s+/g," "),raw:n[0],href:n[2],title:n[3]}},e.table=function t(e){var n=this.rules.block.table.exec(e);if(n){var r={type:"table",header:q(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=n[0];for(var i=r.align.length,o,o=0;o<i;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(i=r.cells.length,o=0;o<i;o++)r.cells[o]=q(r.cells[o].replace(/^ *\| *| *\| *$/g,""),r.header.length);return r}}},e.lheading=function t(e){var n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:"="===n[2].charAt(0)?1:2,text:n[1]}},e.paragraph=function t(e){var n=this.rules.block.paragraph.exec(e);if(n)return{type:"paragraph",raw:n[0],text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]}},e.text=function t(e,n){var r=this.rules.block.text.exec(e);if(r){var i=n[n.length-1];return i&&"text"===i.type?{raw:r[0],text:r[0]}:{type:"text",raw:r[0],text:r[0]}}},e.escape=function t(e){var n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:V(n[1])}},e.tag=function t(e,n,r){var i=this.rules.inline.tag.exec(e);if(i)return!n&&/^<a /i.test(i[0])?n=!0:n&&/^<\/a>/i.test(i[0])&&(n=!1),!r&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?r=!0:r&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(r=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:n,inRawBlock:r,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):V(i[0]):i[0]}},e.link=function t(e){var n=this.rules.inline.link.exec(e);if(n){var r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var i=Q(r.slice(0,-1),"\\");if((r.length-i.length)%2==0)return}else{var o=W(n[2],"()"),a,s;-1<o&&(s=(0===n[0].indexOf("!")?5:4)+n[1].length+o,n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,s).trim(),n[3]="")}var l=n[2],c="",t;return this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l),t&&(l=t[1],c=t[3])):c=n[3]?n[3].slice(1,-1):"",l=l.trim(),/^</.test(l)&&(l=this.options.pedantic&&!/>$/.test(r)?l.slice(1):l.slice(1,-1)),$(n,{href:l?l.replace(this.rules.inline._escapes,"$1"):l,title:c?c.replace(this.rules.inline._escapes,"$1"):c},n[0])}},e.reflink=function t(e,n){var r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){var i=(r[2]||r[1]).replace(/\s+/g," "),i;if((i=n[i.toLowerCase()])&&i.href)return $(r,i,r[0]);var o=r[0].charAt(0);return{type:"text",raw:o,text:o}}},e.strong=function t(e,n,r){void 0===r&&(r="");var i=this.rules.inline.strong.start.exec(e);if(i&&(!i[1]||i[1]&&(""===r||this.rules.inline.punctuation.exec(r)))){n=n.slice(-1*e.length);var o="**"===i[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd,a;for(o.lastIndex=0;null!=(i=o.exec(n));)if(a=this.rules.inline.strong.middle.exec(n.slice(0,i.index+3)))return{type:"strong",raw:e.slice(0,a[0].length),text:e.slice(2,a[0].length-2)}}},e.em=function t(e,n,r){void 0===r&&(r="");var i=this.rules.inline.em.start.exec(e);if(i&&(!i[1]||i[1]&&(""===r||this.rules.inline.punctuation.exec(r)))){n=n.slice(-1*e.length);var o="*"===i[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,a;for(o.lastIndex=0;null!=(i=o.exec(n));)if(a=this.rules.inline.em.middle.exec(n.slice(0,i.index+2)))return{type:"em",raw:e.slice(0,a[0].length),text:e.slice(1,a[0].length-1)}}},e.codespan=function t(e){var n=this.rules.inline.code.exec(e);if(n){var r=n[2].replace(/\n/g," "),i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=V(r,!0),{type:"codespan",raw:n[0],text:r}}},e.br=function t(e){var n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}},e.del=function t(e){var n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2]}},e.autolink=function t(e,n){var r=this.rules.inline.autolink.exec(e);if(r){var i,o,o="@"===r[2]?"mailto:"+(i=V(this.options.mangle?n(r[1]):r[1])):i=V(r[1]);return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}},e.url=function t(e,n){var r,i,o,a;if(r=this.rules.inline.url.exec(e)){if("@"===r[2])o="mailto:"+(i=V(this.options.mangle?n(r[0]):r[0]));else{for(;a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0],a!==r[0];);i=V(r[0]),o="www."===r[1]?"http://"+i:i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}},e.inlineText=function t(e,n,r){var i=this.rules.inline.text.exec(e);if(i){var o,o=n?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):V(i[0]):i[0]:V(this.options.smartypants?r(i[0]):i[0]);return{type:"text",raw:i[0],text:o}}},t}(),K=R,tt=C,et=Y,nt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:K,table:K,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};nt.def=tt(nt.def).replace("label",nt._label).replace("title",nt._title).getRegex(),nt.bullet=/(?:[*+-]|\d{1,9}[.)])/,nt.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,nt.item=tt(nt.item,"gm").replace(/bull/g,nt.bullet).getRegex(),nt.listItemStart=tt(/^( *)(bull)/).replace("bull",nt.bullet).getRegex(),nt.list=tt(nt.list).replace(/bull/g,nt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+nt.def.source+")").getRegex(),nt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",nt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,nt.html=tt(nt.html,"i").replace("comment",nt._comment).replace("tag",nt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nt.paragraph=tt(nt._paragraph).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",nt._tag).getRegex(),nt.blockquote=tt(nt.blockquote).replace("paragraph",nt.paragraph).getRegex(),nt.normal=et({},nt),nt.gfm=et({},nt.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),nt.gfm.nptable=tt(nt.gfm.nptable).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",nt._tag).getRegex(),nt.gfm.table=tt(nt.gfm.table).replace("hr",nt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",nt._tag).getRegex(),nt.pedantic=et({},nt.normal,{html:tt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",nt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:K,paragraph:tt(nt.normal._paragraph).replace("hr",nt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",nt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var rt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:K,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:K,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};rt.punctuation=tt(rt.punctuation).replace(/punctuation/g,rt._punctuation).getRegex(),rt._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",rt._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",rt._comment=tt(nt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),rt.em.start=tt(rt.em.start).replace(/punctuation/g,rt._punctuation).getRegex(),rt.em.middle=tt(rt.em.middle).replace(/punctuation/g,rt._punctuation).replace(/overlapSkip/g,rt._overlapSkip).getRegex(),rt.em.endAst=tt(rt.em.endAst,"g").replace(/punctuation/g,rt._punctuation).getRegex(),rt.em.endUnd=tt(rt.em.endUnd,"g").replace(/punctuation/g,rt._punctuation).getRegex(),rt.strong.start=tt(rt.strong.start).replace(/punctuation/g,rt._punctuation).getRegex(),rt.strong.middle=tt(rt.strong.middle).replace(/punctuation/g,rt._punctuation).replace(/overlapSkip/g,rt._overlapSkip).getRegex(),rt.strong.endAst=tt(rt.strong.endAst,"g").replace(/punctuation/g,rt._punctuation).getRegex(),rt.strong.endUnd=tt(rt.strong.endUnd,"g").replace(/punctuation/g,rt._punctuation).getRegex(),rt.blockSkip=tt(rt._blockSkip,"g").getRegex(),rt.overlapSkip=tt(rt._overlapSkip,"g").getRegex(),rt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,rt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,rt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,rt.autolink=tt(rt.autolink).replace("scheme",rt._scheme).replace("email",rt._email).getRegex(),rt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,rt.tag=tt(rt.tag).replace("comment",rt._comment).replace("attribute",rt._attribute).getRegex(),rt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,rt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,rt.link=tt(rt.link).replace("label",rt._label).replace("href",rt._href).replace("title",rt._title).getRegex(),rt.reflink=tt(rt.reflink).replace("label",rt._label).getRegex(),rt.reflinkSearch=tt(rt.reflinkSearch,"g").replace("reflink",rt.reflink).replace("nolink",rt.nolink).getRegex(),rt.normal=et({},rt),rt.pedantic=et({},rt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:tt(/^!?\[(label)\]\((.*?)\)/).replace("label",rt._label).getRegex(),reflink:tt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rt._label).getRegex()}),rt.gfm=et({},rt.normal,{escape:tt(rt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),rt.gfm.url=tt(rt.gfm.url,"i").replace("email",rt.gfm._extended_email).getRegex(),rt.breaks=et({},rt.gfm,{br:tt(rt.br).replace("{2,}","*").getRegex(),text:tt(rt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var it={block:nt,inline:rt},ot=n.defaults,at=it.block,st=it.inline,lt=H;function ct(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ut(t){for(var e="",n,r,i=t.length,n=0;n<i;n++)r=t.charCodeAt(n),.5<Math.random()&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var dt=function(){function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ot,this.options.tokenizer=this.options.tokenizer||new J,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:at.normal,inline:st.normal};this.options.pedantic?(e.block=at.pedantic,e.inline=st.pedantic):this.options.gfm&&(e.block=at.gfm,this.options.breaks?e.inline=st.breaks:e.inline=st.gfm),this.tokenizer.rules=e}i.lex=function t(e,n){var r;return new i(n).lex(e)},i.lexInline=function t(e,n){var r;return new i(n).inlineTokens(e)};var t=i.prototype;return t.lex=function t(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},t.blockTokens=function t(e,n,r){var i,o,a,s;for(void 0===n&&(n=[]),void 0===r&&(r=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&n.push(i);else if(i=this.tokenizer.code(e,n))e=e.substring(i.raw.length),i.type?n.push(i):((s=n[n.length-1]).raw+="\n"+i.raw,s.text+="\n"+i.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],r),n.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),a=i.items.length,o=0;o<a;o++)i.items[o].tokens=this.blockTokens(i.items[o].text,[],!1);n.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),n.push(i);else if(r&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),n.push(i);else if(r&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.text(e,n))e=e.substring(i.raw.length),i.type?n.push(i):((s=n[n.length-1]).raw+="\n"+i.raw,s.text+="\n"+i.text);else if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return n},t.inline=function t(e){for(var n,r,i,o,a,s,l=e.length,n=0;n<l;n++)switch((s=e[n]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},o=s.header.length,r=0;r<o;r++)s.tokens.header[r]=[],this.inlineTokens(s.header[r],s.tokens.header[r]);for(o=s.cells.length,r=0;r<o;r++)for(a=s.cells[r],s.tokens.cells[r]=[],i=0;i<a.length;i++)s.tokens.cells[r][i]=[],this.inlineTokens(a[i],s.tokens.cells[r][i]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(o=s.items.length,r=0;r<o;r++)this.inline(s.items[r].tokens)}return e},t.inlineTokens=function t(e,n,r,i){var o;void 0===n&&(n=[]),void 0===r&&(r=!1),void 0===i&&(i=!1);var a=e,s,l,c;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(0<u.length)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(a));)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,s.index)+"["+lt("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,s.index)+"["+lt("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(l||(c=""),l=!1,o=this.tokenizer.escape(e))e=e.substring(o.raw.length),n.push(o);else if(o=this.tokenizer.tag(e,r,i))e=e.substring(o.raw.length),r=o.inLink,i=o.inRawBlock,n.push(o);else if(o=this.tokenizer.link(e))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,i)),n.push(o);else if(o=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,i)),n.push(o);else if(o=this.tokenizer.strong(e,a,c))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],r,i),n.push(o);else if(o=this.tokenizer.em(e,a,c))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],r,i),n.push(o);else if(o=this.tokenizer.codespan(e))e=e.substring(o.raw.length),n.push(o);else if(o=this.tokenizer.br(e))e=e.substring(o.raw.length),n.push(o);else if(o=this.tokenizer.del(e))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],r,i),n.push(o);else if(o=this.tokenizer.autolink(e,ut))e=e.substring(o.raw.length),n.push(o);else if(r||!(o=this.tokenizer.url(e,ut))){if(o=this.tokenizer.inlineText(e,i,ct))e=e.substring(o.raw.length),c=o.raw.slice(-1),l=!0,n.push(o);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(o.raw.length),n.push(o);return n},e(i,null,[{key:"rules",get:function t(){return{block:at,inline:st}}}]),i}(),ft=n.defaults,ht=O,pt=L,gt=function(){function t(t){this.options=t||ft}var e=t.prototype;return e.code=function t(e,n,r){var i=(n||"").match(/\S*/)[0],o;return!this.options.highlight||null!=(o=this.options.highlight(e,i))&&o!==e&&(r=!0,e=o),e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+pt(i,!0)+'">'+(r?e:pt(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:pt(e,!0))+"</code></pre>\n"},e.blockquote=function t(e){return"<blockquote>\n"+e+"</blockquote>\n"},e.html=function t(e){return e},e.heading=function t(e,n,r,i){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+i.slug(r)+'">'+e+"</h"+n+">\n":"<h"+n+">"+e+"</h"+n+">\n"},e.hr=function t(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function t(e,n,r){var i=n?"ol":"ul",o;return"<"+i+(n&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+i+">\n"},e.listitem=function t(e){return"<li>"+e+"</li>\n"},e.checkbox=function t(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function t(e){return"<p>"+e+"</p>\n"},e.table=function t(e,n){return"<table>\n<thead>\n"+e+"</thead>\n"+(n=n&&"<tbody>"+n+"</tbody>")+"</table>\n"},e.tablerow=function t(e){return"<tr>\n"+e+"</tr>\n"},e.tablecell=function t(e,n){var r=n.header?"th":"td",i;return(n.align?"<"+r+' align="'+n.align+'">':"<"+r+">")+e+"</"+r+">\n"},e.strong=function t(e){return"<strong>"+e+"</strong>"},e.em=function t(e){return"<em>"+e+"</em>"},e.codespan=function t(e){return"<code>"+e+"</code>"},e.br=function t(){return this.options.xhtml?"<br/>":"<br>"},e.del=function t(e){return"<del>"+e+"</del>"},e.link=function t(e,n,r){if(null===(e=ht(this.options.sanitize,this.options.baseUrl,e)))return r;var i='<a href="'+pt(e)+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>"},e.image=function t(e,n,r){if(null===(e=ht(this.options.sanitize,this.options.baseUrl,e)))return r;var i='<img src="'+e+'" alt="'+r+'"';return n&&(i+=' title="'+n+'"'),i+=this.options.xhtml?"/>":">"},e.text=function t(e){return e},t}(),_t=function(){function t(){}var e=t.prototype;return e.strong=function t(e){return e},e.em=function t(e){return e},e.codespan=function t(e){return e},e.del=function t(e){return e},e.html=function t(e){return e},e.text=function t(e){return e},e.link=function t(e,n,r){return""+r},e.image=function t(e,n,r){return""+r},e.br=function t(){return""},t}(),yt=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function t(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function t(e,n){var r=e,i=0;if(this.seen.hasOwnProperty(r))for(i=this.seen[e];r=e+"-"+ ++i,this.seen.hasOwnProperty(r););return n||(this.seen[e]=i,this.seen[r]=0),r},e.slug=function t(e,n){void 0===n&&(n={});var t=this.serialize(e);return this.getNextSafeSlug(t,n.dryrun)},t}(),mt=n.defaults,vt=D,bt=function(){function i(t){this.options=t||mt,this.options.renderer=this.options.renderer||new gt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _t,this.slugger=new yt}i.parse=function t(e,n){var r;return new i(n).parse(e)},i.parseInline=function t(e,n){var r;return new i(n).parseInline(e)};var t=i.prototype;return t.parse=function t(e,n){void 0===n&&(n=!0);for(var r="",i,o,a,s,l,c,u,d,f,h,p,g,_,y,m,v,b,x,w=e.length,i=0;i<w;i++)switch((h=e[i]).type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,vt(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(u=d="",s=h.header.length,o=0;o<s;o++)u+=this.renderer.tablecell(this.parseInline(h.tokens.header[o]),{header:!0,align:h.align[o]});for(d+=this.renderer.tablerow(u),f="",s=h.cells.length,o=0;o<s;o++){for(u="",l=(c=h.tokens.cells[o]).length,a=0;a<l;a++)u+=this.renderer.tablecell(this.parseInline(c[a]),{header:!1,align:h.align[a]});f+=this.renderer.tablerow(u)}r+=this.renderer.table(d,f);continue;case"blockquote":f=this.parse(h.tokens),r+=this.renderer.blockquote(f);continue;case"list":for(p=h.ordered,g=h.start,_=h.loose,s=h.items.length,f="",o=0;o<s;o++)v=(m=h.items[o]).checked,b=m.task,y="",m.task&&(x=this.renderer.checkbox(v),_?0<m.tokens.length&&"text"===m.tokens[0].type?(m.tokens[0].text=x+" "+m.tokens[0].text,m.tokens[0].tokens&&0<m.tokens[0].tokens.length&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=x+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:x}):y+=x),y+=this.parse(m.tokens,_),f+=this.renderer.listitem(y,b,v);r+=this.renderer.list(f,p,g);continue;case"html":r+=this.renderer.html(h.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(f=h.tokens?this.parseInline(h.tokens):h.text;i+1<w&&"text"===e[i+1].type;)f+="\n"+((h=e[++i]).tokens?this.parseInline(h.tokens):h.text);r+=n?this.renderer.paragraph(f):f;continue;default:var M='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(M);throw new Error(M)}return r},t.parseInline=function t(e,n){n=n||this.renderer;for(var r="",i,o,a=e.length,i=0;i<a;i++)switch((o=e[i]).type){case"escape":r+=n.text(o.text);break;case"html":r+=n.html(o.text);break;case"link":r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break;case"image":r+=n.image(o.href,o.title,o.text);break;case"strong":r+=n.strong(this.parseInline(o.tokens,n));break;case"em":r+=n.em(this.parseInline(o.tokens,n));break;case"codespan":r+=n.codespan(o.text);break;case"br":r+=n.br();break;case"del":r+=n.del(this.parseInline(o.tokens,n));break;case"text":r+=n.text(o.text);break;default:var s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return r},i}(),xt=Y,wt=Z,Mt=L,kt=n.getDefaults,jt=n.changeDefaults,At=n.defaults,It;function Tt(t,r,i){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof r&&(i=r,r=null),r=xt({},Tt.defaults,r||{}),wt(r),i){var o=r.highlight,a;try{a=dt.lex(t,r)}catch(t){return i(t)}var s=function t(e){var n;if(!e)try{n=bt.parse(a,r)}catch(t){e=t}return r.highlight=o,e?i(e):i(null,n)};if(!o||o.length<3)return s();if(delete r.highlight,!a.length)return s();var l=0;return Tt.walkTokens(a,function(n){"code"===n.type&&(l++,setTimeout(function(){o(n.text,n.lang,function(t,e){return t?s(t):(null!=e&&e!==n.text&&(n.text=e,n.escaped=!0),void(0===--l&&s()))})},0))}),void(0===l&&s())}try{var e=dt.lex(t,r);return r.walkTokens&&Tt.walkTokens(e,r.walkTokens),bt.parse(e,r)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",r.silent)return"<p>An error occurred:</p><pre>"+Mt(t.message+"",!0)+"</pre>";throw t}}return Tt.options=Tt.setOptions=function(t){return xt(Tt.defaults,t),jt(Tt.defaults),Tt},Tt.getDefaults=kt,Tt.defaults=At,Tt.use=function(s){var n=xt({},s),e;s.renderer&&function(){var a=Tt.defaults.renderer||new gt,t=function t(i){var o=a[i];a[i]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.renderer[i].apply(a,e);return!1===r&&(r=o.apply(a,e)),r}};for(var e in s.renderer)t(e);n.renderer=a}(),s.tokenizer&&function(){var a=Tt.defaults.tokenizer||new J,t=function t(i){var o=a[i];a[i]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.tokenizer[i].apply(a,e);return!1===r&&(r=o.apply(a,e)),r}};for(var e in s.tokenizer)t(e);n.tokenizer=a}(),s.walkTokens&&(e=Tt.defaults.walkTokens,n.walkTokens=function(t){s.walkTokens(t),e&&e(t)}),Tt.setOptions(n)},Tt.walkTokens=function(t,e){for(var n=p(t),r;!(r=n()).done;){var i=r.value;switch(e(i),i.type){case"table":for(var o=p(i.tokens.header),a;!(a=o()).done;){var s=a.value;Tt.walkTokens(s,e)}for(var l=p(i.tokens.cells),c;!(c=l()).done;)for(var u,d=p(c.value),f;!(f=d()).done;){var h=f.value;Tt.walkTokens(h,e)}break;case"list":Tt.walkTokens(i.items,e);break;default:i.tokens&&Tt.walkTokens(i.tokens,e)}}},Tt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=xt({},Tt.defaults,e||{}),wt(e);try{var n=dt.lexInline(t,e);return e.walkTokens&&Tt.walkTokens(n,e.walkTokens),bt.parseInline(n,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Mt(t.message+"",!0)+"</pre>";throw t}},Tt.Parser=bt,Tt.parser=bt.parse,Tt.Renderer=gt,Tt.TextRenderer=_t,Tt.Lexer=dt,Tt.lexer=dt.lex,Tt.Tokenizer=J,Tt.Slugger=yt,Tt.parse=Tt}()}),wO={gfm:!0,breaks:!0};function MO(t){return t=String(t||""),"<div class='fl-annotation-contents'>"+(t=xO(t,wO))+"</div>"}var kO=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&("object"==typeof Symbol.iterator&&("object"==typeof Symbol.toPrimitive&&("object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables)))},jO=function(){var t=Object.assign,e;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},AO=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}},IO=function(){},TO=void 0,NO=function(t){return t!==TO&&null!==t},zO=Object.keys,SO=function(t){return zO(NO(t)?Object(t):t)},EO=AO()?Object.keys:SO,LO=function(t){if(!NO(t))throw new TypeError("Cannot use null or undefined");return t},DO=Math.max,CO=function(e,n){var r,t,i=DO(arguments.length,2),o;for(e=Object(LO(e)),o=function(t){try{e[t]=n[t]}catch(t){r=r||t}},t=1;t<i;++t)EO(n=arguments[t]).forEach(o);if(void 0!==r)throw r;return e},OO=jO()?Object.assign:CO,PO=Array.prototype.forEach,RO=Object.create,YO=function(t,e){var n;for(n in t)e[n]=t[n]},UO=function(t){var e=RO(null);return PO.call(arguments,function(t){NO(t)&&YO(Object(t),e)}),e},FO=function(t){return"function"==typeof t},BO="razdwatrzy",ZO=function(){return"function"==typeof BO.contains&&(!0===BO.contains("dwa")&&!1===BO.contains("foo"))},HO=String.prototype.indexOf,GO=function(t){return-1<HO.call(this,t,arguments[1])},QO=ZO()?String.prototype.contains:GO,qO=n(function(t){var e,e;(t.exports=function(t,e){var n,r,i,o,a;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],null==t?(n=i=!0,r=!1):(n=QO.call(t,"c"),r=QO.call(t,"e"),i=QO.call(t,"w")),a={value:e,configurable:n,enumerable:r,writable:i},o?OO(UO(o),a):a}).gs=function(t,e,n){var r,i,o,a;return"string"!=typeof t?(o=n,n=e,e=t,t=null):o=arguments[3],null==e?e=void 0:FO(e)?null==n?n=void 0:FO(n)||(o=n,n=void 0):(o=e,e=n=void 0),i=null==t?!(r=!0):(r=QO.call(t,"c"),QO.call(t,"e")),a={get:e,set:n,configurable:r,enumerable:i},o?OO(UO(o),a):a}}),VO=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1},WO=function(t){if(!VO(t))throw new TypeError(t+" is not a symbol");return t},$O=Object.create,XO=Object.defineProperties,JO=Object.defineProperty,KO=Object.prototype,tP,eP,nP=$O(null),rP=(iP=$O(null),function(t){for(var e=0,n;iP[t+(e||"")];)++e;return iP[t+=e||""]=!0,JO(KO,n="@@"+t,qO.gs(null,function(t){JO(this,n,qO(t))})),n}),iP,eP=function t(e){if(this instanceof eP)throw new TypeError("TypeError: Symbol is not a constructor");return t()},oP=tP=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=$O(eP.prototype),e=void 0===e?"":String(e),XO(n,{__description__:qO("",e),__name__:qO("",rP(e))})};XO(tP,{for:qO(function(t){return nP[t]?nP[t]:nP[t]=tP(String(t))}),keyFor:qO(function(t){var e;for(e in WO(t),nP)if(nP[e]===t)return e}),hasInstance:qO("",tP("hasInstance")),isConcatSpreadable:qO("",tP("isConcatSpreadable")),iterator:qO("",tP("iterator")),match:qO("",tP("match")),replace:qO("",tP("replace")),search:qO("",tP("search")),species:qO("",tP("species")),split:qO("",tP("split")),toPrimitive:qO("",tP("toPrimitive")),toStringTag:qO("",tP("toStringTag")),unscopables:qO("",tP("unscopables"))}),XO(eP.prototype,{constructor:qO(tP),toString:qO("",function(){return this.__name__})}),XO(tP.prototype,{toString:qO(function(){return"Symbol ("+WO(this).__description__+")"}),valueOf:qO(function(){return WO(this)})}),JO(tP.prototype,tP.toPrimitive,qO("",function(){return WO(this)})),JO(tP.prototype,tP.toStringTag,qO("c","Symbol")),JO(eP.prototype,tP.toPrimitive,qO("c",tP.prototype[tP.toPrimitive])),JO(eP.prototype,tP.toStringTag,qO("c",tP.prototype[tP.toStringTag]));var aP=kO()?Symbol:oP,sP=uP,lP=dP,cP=aP("see-change-array");function uP(o){for(var a=[],t=0;t<o.length;t++)a[t]=o[t]();return e;function e(){for(var t=!1,e=0;e<o.length;e++){var n=o[e],r=n(),i;n[cP]?r&&(t=!0,a[e]=r):r!==a[e]&&(t=!0,a[e]=r)}return t}}function dP(n){var t=n.length,r;return i(),e[cP]=!0,e;function e(){return n.length!==t?(t=n.length,i(),!0):r()}function i(){for(var t=[],e=0;e<n.length;e++)!function(e){t[e]=function t(){return n[e]}}(e);r=uP(t)}}function fP(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o-i,d=s-a,f=!!r.extend_line,h=pP(t,e,n,f),p,g,u,d;!f&&u<0&&h<=0&&(u=(o+=l/(2+h))-i),"rect"===t&&(p=r.radius_x+r.radius_pad,g=r.radius_y+r.radius_pad,u=o,d=s,(0<p&&-p<u||p<0&&u<+p)&&(i=Math.abs(p)>Math.abs(u)?0:p),(0<g&&-g<d||g<0&&d<+g)&&(a=Math.abs(g)>Math.abs(d)?0:g)),s<0&&(s+=c),i===l/2&&a===c/2&&(i=o,a=s),u=o-i,d=s-a;var _=o,y=s,m=s<a&&i<o||o<i&&a<s?-1:1,v;if(Math.abs(u)<Math.abs(d)?(_=o,y=a+u*m):(y=s,_=i+d*m),"circle"!==t&&"point"!==t||!r.radius)return hP(f?[[[i,a],[_,y],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[_,y],[o,s]]]);var b=r.radius,x=Math.sqrt(u*u+d*d);x<b-r.radius_pad?b-=r.radius_pad:x>b+r.radius_pad&&(b+=r.radius_pad);var w=b/Math.sqrt(2),M;if(Math.abs(u)>w&&Math.abs(d)>w)return i=w*(o<0?-1:1),a=w*(s<0?-1:1),hP(M=f?[[[i,a],[_,y],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[_,y],[o,s]]]);if(Math.abs(u)>Math.abs(d)){var k=Math.asin(-s/b),i=Math.abs(Math.cos(k)*b)*(o<0?-1:1),j;return hP(f?[[[i,s],[o,s]],[[o,s],[o+l,s]]]:[[[i,s],[o,s]]])}var A=Math.acos(o/b),a=Math.abs(Math.sin(A)*b)*(s<0?-1:1),I;return hP(f?[[[o,a],[o,s]],[[o,s],[o+l,s]]]:[[[o,a],[o,s]]])}function hP(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=0===r?"M":"L",o=t[n][r][0],a=t[n][r][1];e.push(i+o+","+a)}return e.join(" ")}function pP(t,e,n,r){var i=e[0],o=n[0],a=n[2],s;return!!r||0<o-i?1:o-i<-a?-1:0}function gP(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=r[0]-n[0],s=r[1]-n[1],l=i*s-o*a;if(0==l)return 1/0;var c=n[0]-t[0],u=n[1]-t[1],d=(c*s-u*a)/l;if(d<0||1<d)return 1/0;var f=(c*o-u*i)/l;return f<0||1<f?1/0:d}function _P(t,e,n,r){var i=n[1][1],o=n[0][1],a=n[0][0],s=n[1][0],l=gP(t,e,[i,a],[i,s]),c=gP(t,e,[i,a],[o,a]),u=gP(t,e,[o,a],[o,s]),d=gP(t,e,[i,s],[o,s]),i;return!(1/0<=(i=Math.min(l,c,u,d)))&&(r&&(r[0]=t[0]+(e[0]-t[0])*i,r[1]=t[1]+(e[1]-t[1])*i),1)}sP.array=lP,fP.align=pP;var yP=[0,0];function mP(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=bP(t,e,n),d,f,h,p;if((o-i<0&&u<=0&&(o+=l/(2+u)),s<-c?s+=c:s<0&&(s+=c/2),"rect"===t)&&_P([o,s],[0,0],[[-r.radius_x-r.radius_pad,-r.radius_y-r.radius_pad],[+r.radius_x+r.radius_pad,+r.radius_y+r.radius_pad]],yP))return vP([[yP,[o,s]]]);if("circle"!==t&&"point"!==t||!r.radius)return vP([[[i,a],[o,s]]]);var g=Math.sqrt(o*o+s*s),_=r.radius+r.radius_pad,y=_*o/g,m=_*s/g;return yP[0]=y,yP[1]=m,vP([[yP,[o,s]]])}function vP(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=0===r?"M":"L",o=t[n][r][0],a=t[n][r][1];e.push(i+o+","+a)}return e.join(" ")}function bP(t,e,n,r){var i=e[0],o=n[0],a=n[2];return 0<=o-i?1:o-i<=-a?-1:0}function xP(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o-i,d=s-a,f=!!r.extend_line,h=MP(t,e,n,f),p,g,u,d,_,a;if(!f&&u<0&&0===h&&(u=(o+=l/2)-i),"rect"===t&&(p=r.radius_x+2*r.radius_pad,g=r.radius_y+2*r.radius_pad,d=s,a=(_=(u=o)<p&&-p<u+l)?(i=0,Math.sign(d)*g):(i=Math.sign(u)*p,0)),s<0&&(s+=c),i===l/2&&a===c/2&&(i=o,a=s),"rect"===t){if(_)return wP(f?[[[0,a],[0,s]],[[Math.min(o,0),s],[Math.max(0,o+l),s]]]:[[[0,a],[0,s]],[[0,s],[o,s]]]);var y,m=o<0?(i+o+l)/2:(i+o)/2,v;return wP(f?[[[i,a],[m,a],[m,s],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[m,a],[m,s],[-1===h?o+l:o,s]]])}if(u=o-i,d=s-a,"circle"!==t&&"point"!==t&&"none"!==t)throw new Error("Unexpected annotation type for getStep()");var b=r.radius||0,x=Math.sqrt(u*u+d*d);x<b-r.radius_pad?b-=r.radius_pad:x>b+r.radius_pad&&(b+=r.radius_pad);var w=1;if(Math.abs(o)>b&&(0<o||o<-b-l)){o<-b&&(w*=-1,o+=l);var M=((i=b*(o<(a=0)?-1:1))+o)/2;return wP(f?[[[i,a],[M,a],[M,s],[o,s]],[[o,s],[o+l*w,s]]]:0===h?[[[i,a],[o,a],[o,s]]]:[[[i,a],[M,a],[M,s],[o,s]]])}return a=b*(s<0?-1:1),wP(f?[[[i,a],[i,s],[o,s]],[[o,s],[o+l*w,s]]]:-1===h?[[[i,a],[i,s],[o+l,s]]]:[[[i,a],[i,s],[o,s]]])}function wP(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=0===r?"M":"L",o=t[n][r][0],a=t[n][r][1];e.push(i+o+","+a)}return e.join(" ")}function MP(t,e,n,r){var i=e[0],o=n[0],a=n[2],s;return!!r||0<o-i?1:o-i<-a?-1:0}mP.align=bP,xP.align=MP;var kP={polyline:fP,direct:mP,step:xP,none:function t(){return""},popup:function t(){return""}},jP;function AP(t){var e=(t=t||window).innerWidth,n=t.innerHeight;return Math.sqrt(e*e+n*n)}function IP(t){jP=yb(t).append("defs")}var TP={},NP={arrowhead:function t(e,n,r){return e.append("marker").attr("id",n).attr("viewBox","0 0 10 10").attr("refX","7.5").attr("refY","5").attr("markerWidth","5").attr("markerHeight","5").attr("orient","auto-start-reverse").attr("fill",r).append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}};function zP(t,e){var n=TP[t];if(!n)return null;var r,i="marker-"+t+"-"+SP(e);return n[e]=n[e]||NP[t](jP,i,e),"url(#"+i+")"}function SP(t){return t.replace(/[^a-f0-9]/gi,"-").toLowerCase()}Object.keys(NP).forEach(function(t){return TP[t]={}});var EP=Object.create?Object.create(null):{},LP=function(){function o(t,e,n,r){var i=this;Pb(this,o),this.id=t,this.state=e.view,this.parent=n,this.parent_svg=r,this.settings=e,this.selected=!1,this.editable=!1,this.active=!0,this.shouldUpdatePath=sP(this.pathDependencies().concat([function(){return i.state.content_offset[0]},function(){return i.state.content_offset[1]},function(){return i.settings.contents},function(){return i.settings.text_size},function(){return i.settings.label_width},function(){return i.settings.stroke_color},function(){return i.settings.connector_type},function(){return i.settings.subject_type},function(){return i.settings.line_marker},function(){return window.innerWidth},function(){return window.innerHeight},function t(){var e=!1;return function(){return e||!(e=!0)}}()])),this.element=yb(r).append("g").attr("data-annotation-id",this.id).attr("data-annotation-interactive",!0).classed("fl-annotations-node",!0).node(),this.el_path=yb(this.element).append("path").style("stroke",this.settings.stroke_color).style("stroke-width",this.settings.stroke_width).style("fill","none").classed("fl-connector",!0),this.el_content=yb(n).append("aside").attr("data-annotation-content","true").style("position","absolute").classed("fl-annotations-inline",!0),this.el_content_bg=this.el_content.append("span").style("position","absolute").classed("fl-label-bg",!0),this.el_content_fg=this.el_content.append("span").style("position","absolute").classed("fl-label-fg",!0),this.id&&(EP[this.id]=this),this._updateContents()}return Yb(o,[{key:"pathDependencies",value:function t(){return[]}},{key:"updatePath",value:function t(e,n,r){var i=kP[this.getConnectorType()],o="disabled"!==this.settings.connector_extend_line,a=i.align?i.align(this.type,e,n,o):1,s=a<0?"right":0<a?"left":"center";Object.assign(r,{extend_line:o});var l=i(this.type,e,n,r);this.el_path.attr("d",l),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),this.el_content_bg.style("text-align",s),this.el_content_fg.style("text-align",s);var c=this.settings.stroke_color;this.el_path.style("stroke",this.settings.stroke_color).style("stroke-opacity",this.settings.stroke_opacity).style("stroke-width",r.connector_width||this.settings.stroke_width).style("stroke-linecap","square").style("stroke-dasharray",r.connector_dash?"4, 4":null).attr("marker-start",zP(this.settings.line_marker,c))}},{key:"ofType",value:function t(e){if(e===this.constructor)return this;var n=this.id,r=this.settings,i=this.parent,o=this.parent_svg;return this.destroy(),new e(n,r,i,o)}},{key:"onDragStart",value:function t(e,n){return!0}},{key:"onDragMove",value:function t(e,n){return!0}},{key:"onDragEnd",value:function t(e,n){return!0}},{key:"update",value:function t(){var e=this.getConnectorType(),n=this.state.origin[0],r=this.state.origin[1];yb(this.element).attr("transform","translate(".concat(n," ").concat(r,")")).classed("fl-connector-popup","popup"==e).classed("fl-connector-line","polyline"==e||"step"==e),this._updateContents()}},{key:"_displayEditorInterface",value:function t(){return this.editable&&this.active}},{key:"_displayPath",value:function t(){var e=this.getConnectorType();return"none"!==e&&"popup"!==e&&this._displayContent()}},{key:"_displayContent",value:function t(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}},{key:"_updateContents",value:function t(){this._displayContent()&&(this._updateContentsMarkup(),this._updateContentsDom())}},{key:"_updateContentsMarkup",value:function t(){var e=MO(this.settings.contents);this.el_content_bg.html(e),this.el_content_fg.html(e)}},{key:"_updateContentsDom",value:function t(){var e=AP(),n=this.state.content_offset[0]*e,r=this.state.content_offset[1]*e,i=this.state.origin[0],o=this.state.origin[1];this.el_content.style("left",i+n+"px").style("top",o+r+"px").style("width","100%").style("color",this.settings.text_color).style("visibility",this._displayContent()).style("font-size",this.settings.text_size+"rem").style("font-weight",this.settings.text_weight).style("line-height",this.settings.text_line_height+"em"),this.el_content_bg.style("-webkit-text-stroke-width",.15*this.settings.text_size+"rem").style("-webkit-text-stroke-color",this.settings.text_bg).style("max-width",this.settings.label_width+"rem"),this.el_content_fg.style("max-width",this.settings.label_width+"rem")}},{key:"getPopupPosition",value:function t(e){return[0,0]}},{key:"getConnectorType",value:function t(){var e;return"popup"==this.settings.device_visibility&&vO()?"popup":this.settings.connector_type}},{key:"destroy",value:function t(e){e&&e.stayInDOM||!this.element.parentNode||this.element.parentNode.removeChild(this.element),this.state=null,this.element=null,this.settings=null,delete EP[this.id]}},{key:"setSelected",value:function t(e){return e=!!e,this.selected!==e&&((this.selected=e)?this.element.classList.add("selected"):this.element.classList.remove("selected"),!0)}},{key:"setActive",value:function t(e){return this.active!==(e=!!e)&&(this.active=e,this.element.style.visibility=e?"visible":"hidden",this.el_content.style("visibility",this._displayContent()?"visible":"hidden"),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),!0)}},{key:"type",get:function t(){return String(this.constructor.name)}}]),o}(),DP,CP,OP;function PP(t){return RP(),t*OP}function RP(){window.innerWidth!==CP&&(CP=window.innerWidth,OP=parseFloat(getComputedStyle(document.documentElement).fontSize))}LP.getByID=function t(e){return EP[e]||null};var YP,UP=8,FP,BP,ZP={circle:function(t){Ub(c,t);var a=Qb(c);function c(t,e,n,r){var i;Pb(this,c),i=a.call(this,t,e,n,r);var o=AP();return i.state.radius="radius"in i.state?i.state.radius:.05,i.el_content.attr("data-annotation-type","circle"),i.group=yb(i.element).classed("fl-circle",!0),i.el_circle=i.group.append("circle").classed("main-circle",!0).attr("fill","none").attr("stroke",i.settings.stroke_color).attr("stroke-width",i.settings.stroke_width).attr("cx",0).attr("cy",0).style("opacity",0).attr("r",i.state.radius*o+10),i.el_circle.transition().style("opacity",1).attr("r",i.state.radius*o),i.el_notch_radius=i.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",i.state.radius*o),i.el_notch_origin=i.group.append("circle").classed("fl-notch",!0).attr("r",8),i.el_content.attr("data-annotation-id",i.id),i.svg=r,i._is_drag_custom=!1,i._drag_mode_offset=!1,i._drag_mode_radius=!1,i._drag_start=[0,0],i._drag_base_position=[0,0],i._has_run=!1,i.updatePath(i.state.content_offset[0],i.state.content_offset[1]),i}return Yb(c,[{key:"type",get:function t(){return"circle"}}]),Yb(c,[{key:"pathDependencies",value:function t(){var e=this;return[function(){return e.state.radius}]}},{key:"setActive",value:function t(e){return!!Vb(Fb(c.prototype),"setActive",this).call(this,e)&&(this.updateNotchVisibility(),!0)}},{key:"onDragStart",value:function t(e,n){var r=AP();return this._drag_mode_offset=!!PC(e.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_mode_radius=e.target===this.el_notch_radius.node(),this._drag_start[0]=n[0],this._drag_start[1]=n[1],this._drag_base_position[0]=r*this.state.content_offset[0],this._drag_base_position[1]=r*this.state.content_offset[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius,!this._is_drag_custom}},{key:"onDragMove",value:function t(e,n){return!this._is_drag_custom||(this._drag_mode_radius?(r=n[0]-this.state.origin[0],i=n[1]-this.state.origin[1],o=Math.sqrt(r*r+i*i),this.state.radius=o/AP()):(a=n[0]-this._drag_start[0],s=n[1]-this._drag_start[1],l=AP(),this.state.content_offset[0]=(a+this._drag_base_position[0])/l,this.state.content_offset[1]=(s+this._drag_base_position[1])/l),this.update(),!1);var r,i,o,a,s,l}},{key:"onDragEnd",value:function t(e,n){return this.onDragMove(e,n)}},{key:"update",value:function t(){Vb(Fb(c.prototype),"update",this).call(this);var e,n=AP()*this.state.radius,r=this.settings.stroke_color;this.el_circle.style("opacity",1).attr("stroke",r).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("r",n).interrupt(),this.el_notch_origin.attr("stroke",r),this.el_notch_radius.attr("stroke",r).attr("cx",n),this.updateNotchVisibility(),this.updatePath()}},{key:"updatePath",value:function t(){var e=AP(),n=e*this.state.radius,r=5,i=e*this.state.content_offset[0],o=e*this.state.content_offset[1],a,s,l;this.shouldUpdatePath()&&(a=this.el_content_fg.node().getBoundingClientRect(),s=[0,0],l=[i,o,Math.max(a.width,1),Math.max(a.height,1)],Vb(Fb(c.prototype),"updatePath",this).call(this,s,l,{radius:n,radius_pad:5}))}},{key:"updateNotchVisibility",value:function t(){var e=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",e),this.el_notch_radius.style("visibility",e)}},{key:"getPopupPosition",value:function t(e){var n=this.state.radius*AP();switch(e){case"left":return[-n,0];case"right":return[+n,0];case"top":return[0,-n];case"bottom":return[0,+n];default:return[0,0]}}},{key:"destroy",value:function t(){var e=this.element,n=this.state.radius;Vb(Fb(c.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_circle.transition().attr("r",n*AP()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",function(){return yb(e).remove()})}}]),c}(LP),point:function(t){Ub(c,t);var o=Qb(c);function c(t,e,n,r){var i;return Pb(this,c),(i=o.call(this,t,e,n,r)).el_content.attr("data-annotation-type","point"),i.group=yb(i.element).classed("fl-point",!0),i.el_circle=i.group.append("circle").classed("main-point",!0).attr("cx",0).attr("cy",0).attr("r",0),i.el_circle.transition().attr("r",PP(i.settings.point_radius)),i.el_notch_circle=i.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),i.el_notch_circle.transition().attr("r",PP(i.settings.point_radius)+3),i.el_label=i.group.append("text"),i.el_content.attr("data-annotation-id",i.id),i.svg=r,i._drag_offset=!1,i._drag_offset_start=[0,0],i._drag_offset_base_position=[0,0],i}return Yb(c,[{key:"type",get:function t(){return"point"}}]),Yb(c,[{key:"setActive",value:function t(e){return!!Vb(Fb(c.prototype),"setActive",this).call(this,e)&&(this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}},{key:"onDragStart",value:function t(e,n){var r=AP();return this._drag_offset=!!PC(e.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_offset_start[0]=n[0],this._drag_offset_start[1]=n[1],this._drag_offset_base_position[0]=r*this.state.content_offset[0],this._drag_offset_base_position[1]=r*this.state.content_offset[1],!this._drag_offset}},{key:"onDragMove",value:function t(e,n){if(!this._drag_offset)return!0;var r=n[0]-this._drag_offset_start[0],i=n[1]-this._drag_offset_start[1],o=AP();return this.state.content_offset[0]=(r+this._drag_offset_base_position[0])/o,this.state.content_offset[1]=(i+this._drag_offset_base_position[1])/o,this.update(),!1}},{key:"onDragEnd",value:function t(e,n){return this.onDragMove(e,n)}},{key:"update",value:function t(){Vb(Fb(c.prototype),"update",this).call(this),this.el_circle.style("opacity",1).style("fill",this.settings.subject_fill).transition().attr("r",PP(this.settings.point_radius)),this.el_label.text(this.settings.point_text).style("font-size",Math.min(PP(this.settings.text_size),1.15*PP(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",PP(this.settings.point_radius)+3),this.updatePath()}},{key:"updatePath",value:function t(){var e=AP(),n=PP(this.settings.point_radius),r=5,i=this.state.content_offset[0]*e,o=this.state.content_offset[1]*e,a,s,l;this.shouldUpdatePath()&&(a=this.el_content_fg.node().getBoundingClientRect(),s=[0,0],l=[i,o,Math.max(a.width,1),Math.max(a.height,1)],Vb(Fb(c.prototype),"updatePath",this).call(this,s,l,{radius:n,radius_pad:5}))}},{key:"getPopupPosition",value:function t(e){var n=PP(this.settings.point_radius);switch(e){case"left":return[-n,0];case"right":return[+n,0];case"top":return[0,-n];case"bottom":return[0,+n];default:return[0,0]}}},{key:"destroy",value:function t(){var e=this.element;Vb(Fb(c.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_circle.transition().attr("r",0),this.el_notch_circle.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",function(){return yb(e).remove()})}}]),c}(LP),none:function(t){Ub(d,t);var o=Qb(d);function d(t,e,n,r){var i;return Pb(this,d),(i=o.call(this,t,e,n,r)).el_content.attr("data-annotation-type","none"),i.group=yb(i.element).classed("fl-point",!0),i.el_notch_origin=i.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),i.el_notch_origin.transition().attr("r",UP),i.el_label=i.group.append("text"),i.el_content.attr("data-annotation-id",i.id),i.svg=r,i._drag_offset=!1,i._drag_offset_start=[0,0],i._drag_offset_base_position=[0,0],i}return Yb(d,[{key:"type",get:function t(){return"point"}}]),Yb(d,[{key:"setActive",value:function t(e){return!!Vb(Fb(d.prototype),"setActive",this).call(this,e)&&(this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}},{key:"_displayEditorInterface",value:function t(){return this.editable&&this.active}},{key:"_displayPath",value:function t(){return(this._displayEditorInterface()||"none"!==Vb(Fb(d.prototype),"getConnectorType",this).call(this))&&this._displayContent()}},{key:"_displayContent",value:function t(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}},{key:"onDragStart",value:function t(e,n){var r=AP();return this._drag_offset=!!PC(e.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_offset_start[0]=n[0],this._drag_offset_start[1]=n[1],this._drag_offset_base_position[0]=r*this.state.content_offset[0],this._drag_offset_base_position[1]=r*this.state.content_offset[1],!this._drag_offset}},{key:"onDragMove",value:function t(e,n){if(!this._drag_offset)return!0;var r=n[0]-this._drag_offset_start[0],i=n[1]-this._drag_offset_start[1],o=AP();return this.state.content_offset[0]=(r+this._drag_offset_base_position[0])/o,this.state.content_offset[1]=(i+this._drag_offset_base_position[1])/o,this.update(),!1}},{key:"onDragEnd",value:function t(e,n){return this.onDragMove(e,n)}},{key:"update",value:function t(){Vb(Fb(d.prototype),"update",this).call(this),this.el_label.text(this.settings.point_text).style("font-size",Math.min(PP(this.settings.text_size),1.15*PP(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",UP),this.updatePath()}},{key:"getConnectorType",value:function t(){var e=Vb(Fb(d.prototype),"getConnectorType",this).call(this);return"none"===e?"direct":e}},{key:"pathDependencies",value:function t(){var e=this;return[function(){return e.editable},function(){return e.active},function(){return Vb(Fb(d.prototype),"getConnectorType",e).call(e)}]}},{key:"updatePath",value:function t(){var e="none"===Vb(Fb(d.prototype),"getConnectorType",this).call(this),n=e?1:this.settings.stroke_width,r=AP(),i=e?UP:0,o=e?5:0,a=this.state.content_offset[0]*r,s=this.state.content_offset[1]*r,l,c,u;this.shouldUpdatePath()&&(l=this.el_content_fg.node().getBoundingClientRect(),c=[0,0],u=[a,s,Math.max(l.width,1),Math.max(l.height,1)],Vb(Fb(d.prototype),"updatePath",this).call(this,c,u,{radius:i,radius_pad:o,connector_dash:e,connector_width:n}))}},{key:"getPopupPosition",value:function t(e){var n=PP(this.settings.point_radius);switch(e){case"left":return[-n,0];case"right":return[+n,0];case"top":return[0,-n];case"bottom":return[0,+n];default:return[0,0]}}},{key:"destroy",value:function t(){var e=this.element;Vb(Fb(d.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_notch_origin.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",function(){return yb(e).remove()})}}]),d}(LP),box:function(t){Ub(u,t);var a=Qb(u);function u(t,e,n,r){var i;Pb(this,u),i=a.call(this,t,e,n,r);var o=AP();return i.state.radius_x="radius_x"in i.state?i.state.radius_x:.05,i.state.radius_y="radius_y"in i.state?i.state.radius_y:.05,i.el_content.attr("data-annotation-type","box"),i.group=yb(i.element).classed("fl-circle",!0),i.el_box=i.group.append("rect").classed("main-circle",!0).attr("fill","none").attr("stroke","#000").attr("stroke-opacity",i.settings.stroke_color_opacity).attr("stroke-width",i.settings.stroke_width).attr("x",-i.state.radius_x*o+10).attr("y",-i.state.radius_y*o+10).style("opacity",0).attr("width",2*(i.state.radius_x*o+10)).attr("height",2*(i.state.radius_y*o+10)),i.el_box.transition().style("opacity",1).attr("width",i.state.radius_x*o).attr("height",i.state.radius_y*o),i.el_notch_radius_x=i.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",i.state.radius_x*o),i.el_notch_radius_y=i.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cy",i.state.radius_y*o),i.el_notch_origin=i.group.append("circle").classed("fl-notch",!0).attr("r",8),i.el_content.attr("data-annotation-id",i.id),i.svg=r,i._is_drag_custom=!1,i._drag_mode_offset=!1,i._drag_mode_radius_x=!1,i._drag_mode_radius_y=!1,i._drag_start=[0,0],i._drag_base_position=[0,0],i._has_run=!1,i.updatePath(),i}return Yb(u,[{key:"type",get:function t(){return"rect"}}]),Yb(u,[{key:"pathDependencies",value:function t(){var e=this;return[function(){return e.state.radius_x},function(){return e.state.radius_y}]}},{key:"setActive",value:function t(e){return!!Vb(Fb(u.prototype),"setActive",this).call(this,e)&&(this.updateNotchVisibility(),!0)}},{key:"onDragStart",value:function t(e,n){var r=AP();return this._drag_mode_offset=!!PC(e.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_mode_radius_x=e.target===this.el_notch_radius_x.node(),this._drag_mode_radius_y=e.target===this.el_notch_radius_y.node(),this._drag_start[0]=n[0],this._drag_start[1]=n[1],this._drag_base_position[0]=r*this.state.content_offset[0],this._drag_base_position[1]=r*this.state.content_offset[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius_x||this._drag_mode_radius_y,!this._is_drag_custom}},{key:"onDragMove",value:function t(e,n){if(!this._is_drag_custom)return!0;var r=AP(),i,o,a,s;return this._drag_mode_radius_x?(i=n[0]-this.state.origin[0],this.state.radius_x=Math.abs(i/AP())):this._drag_mode_radius_y?(o=n[1]-this.state.origin[1],this.state.radius_y=Math.abs(o/AP())):(a=n[0]-this._drag_start[0],s=n[1]-this._drag_start[1],this.state.content_offset[0]=(a+this._drag_base_position[0])/r,this.state.content_offset[1]=(s+this._drag_base_position[1])/r),this.update(),!1}},{key:"onDragEnd",value:function t(e,n){return this.onDragMove(e,n)}},{key:"updateNotchVisibility",value:function t(){var e=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",e),this.el_notch_radius_x.style("visibility",e),this.el_notch_radius_y.style("visibility",e)}},{key:"update",value:function t(){Vb(Fb(u.prototype),"update",this).call(this);var e=AP(),n=e*this.state.radius_x,r=e*this.state.radius_y,i=this.settings.stroke_color;this.el_box.style("opacity",1).attr("stroke",i).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("x",-n).attr("y",-r).attr("width",2*n).attr("height",2*r).interrupt(),this.el_notch_origin.attr("stroke",i),this.el_notch_radius_x.attr("stroke",i).attr("cx",n),this.el_notch_radius_y.attr("stroke",i).attr("cy",r),this.updateNotchVisibility(),this.updatePath()}},{key:"updatePath",value:function t(){var e=AP(),n=e*this.state.radius_x,r=e*this.state.radius_y,i=5,o=this.state.content_offset[0]*e,a=this.state.content_offset[1]*e,s,l,c;this.shouldUpdatePath()&&(s=this.el_content_fg.node().getBoundingClientRect(),l=[-n-5,-r-5],c=[o,a,Math.max(s.width,1),Math.max(s.height,1)],Vb(Fb(u.prototype),"updatePath",this).call(this,l,c,{radius_x:n,radius_y:r,radius_pad:5}))}},{key:"getPopupPosition",value:function t(e){var n=this.state.radius_x*AP(),r=this.state.radius_y*AP();switch(e){case"left":return[-n,0];case"right":return[+n,0];case"top":return[0,-r];case"bottom":return[0,+r];default:return[0,0]}}},{key:"destroy",value:function t(){var e=this.element,n=this.state,r=n.radius_x,i=n.radius_y;Vb(Fb(u.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_box.transition().attr("width",r*AP()+10).attr("height",i*AP()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",function(){return yb(e).remove()})}}]),u}(LP)},HP=document.createElement("img");function GP(s,t,i,o){var a=[],l=yb(t).insert("div",":first-child").classed("fl-annotation-list-wrap",!0),c=l.append("ul").classed("fl-annotation-list",!0),u=null,d=0,e=!1,n=-1,r=-1,f=o();return l.node().addEventListener("scroll",M,{passive:!0}),c.on("mouseleave",function(){d=0}),s.on("change",h),h;function h(){a.length=0,f=o();for(var t=0;t<f.length;t++){var e=i[f[t]];e&&a.push(e)}var n=c.selectAll("li").data(a,m).join(b).classed("selected",x).on("click",w).on("dragstart",p).on("dragenter",g).on("dragleave",_).on("dragend",y).attr("draggable",!0).attr("data-index",function(t,e){return e}),r=[];n.each(function(t,e){return r.push(e)}),n.select(".text").text(v),M()}function p(){var t=PC(nb.target,function(t){return t.hasAttribute&&t.hasAttribute("data-index")});n=parseInt(t.getAttribute("data-index"),10),nb.dataTransfer&&nb.dataTransfer.setDragImage(HP,0,0),c.classed("dragging",!0),r=-1}function g(){nb.target.classList.add("dropping"),e=nb.target.hasAttribute("data-above");var t=PC(nb.target,function(t){return t.hasAttribute&&t.hasAttribute("data-index")});r=parseInt(t.getAttribute("data-index"),10)}function _(){nb.target.classList.remove("dropping")}function y(){c.classed("dragging",!1),c.select(".dropping").classed("dropping",!1),-1!==n&&-1!==r&&n!==r&&(r=e?(r-=+(n<r),Math.max(0,r)):(r-=+(n<r),Math.min(r+1,f.length-1)),f.splice(r,0,f.splice(n,1)[0]),s.update())}function m(t){return t.id}function v(t){return t.contents||"(empty annotation)"}function b(t){var e=t.append("li");e.append("span").classed("text",!0),e.append("span").attr("class","icon-pencil icon"),e.append("span").attr("class","icon-clone icon").attr("data-action","clone"),e.append("span").attr("class","icon-trash icon").attr("data-action","delete");var n=e.append("div").classed("drop-overlay",!0).attr("draggable",!0);return n.append("div").classed("drop-above",!0).attr("data-above",!0),n.append("div").classed("drop-below",!0).attr("data-below",!0),e}function x(t){return LP.getByID(t.id).selected}function w(t){var e=nb.target.getAttribute("data-action")||"edit",n,r,i,o,a;u!==this&&(d=0,u=this),"delete"===e?(LP.getByID(t.id).destroy(),delete s.state.annotations[t.id],s.update(),s.emit("change",s.state.annotations)):"clone"===e?(n=JSON.parse(JSON.stringify(s.state.annotations[t.id])),r=fO(),i=16*++d,o=s.getPositionFromData(n.position),a=s.getDataFromCursor({target:null,offsetX:o[0]+i,offsetY:o[1]+i},[o[0]+i,o[1]+i]),n.id=r,a&&(n.position=a),s.state.annotations[r]=n,s.state.annotation_order.push(r),s.update(),s.emit("create",s.state.annotations[r]),s.emit("change",s.state.annotations),s.select(r)):s.select(t.id)}function M(){var t=c.node().getBoundingClientRect(),e=l.node().getBoundingClientRect(),n,r=l.node().scrollTop+e.height>=t.height;l.classed("scroll-end",r)}}HP.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";var QP={dropdown:function t(e,n){for(var r=0;r<n.choices.length;r++){var i=n.choices[r][0],o=n.choices[r][1],a,s,l;"buttons"==n.style?(e.classed("buttons-container",!0),e.append("input").attr("type","radio").attr("name",n.property).attr("id","".concat(n.property,"-").concat(r)).attr("value",o).on("change",function(){e.node().value=nb.target.value}),a=e.append("label").attr("for","".concat(n.property,"-").concat(r)),s=i.match(/fa-(\S*)/g),l=i.match(/^data:image\/(svg|svg\+xml|png|jpg)(?:;base64)?,.+$/),s?a.append("i").attr("class","fa "+s[0]):l?a.append("img").attr("src",i):a.text(i)):e.append("option").attr("value",o).text(i)}},color:function t(e){e.attr("type","color"),yb(e.node().parentNode).insert("div",function(){return e.node()}).classed("color-wrapper",!0).append(function(){return e.node()})},number:function t(e,n){e.attr("type","number"),null!=n.min&&e.attr("min",n.min),null!=n.max&&e.attr("max",n.max),n.step&&e.attr("step",n.step)},boolean:function t(e,n){e.attr("type","checkbox"),yb(e.node().parentNode).append("label").classed("slide",!0).attr("for","setting-"+n.property)},code:function t(e){e.attr("type","text"),e.attr("wrap","off"),e.on("keydown.tab",function(t){var e;9===t.keyCode&&(t.altKey||t.metaKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),e=this.selectionStart,this.value=this.value.substring(0,e)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=e+1))})}};function qP(t,l,d){l=WP(l);var f=null,h={},p={},e=null,n=null,g=l.reduce(function(t,e){return t[e.property]=e,t},{}),r=yb(t).append("div").classed("fl-project-editor",!0),c=r.append("div").classed("side-panel",!0).append("div").classed("side-panel-inner",!0);function i(){if(f){for(var t in p)f[t]=p[t].value;_()}}return s(),c.node().addEventListener("change",i,!1),c.node().addEventListener("keyup",i,!1),c.node().addEventListener("paste",i,!1),{container:c.node(),root:r.node(),update:s,render:_,setActive:o,setVisible:a};function o(t){e!==(t=!!t)&&(e=t,r.classed("active-annotation",e))}function a(t){var e;n!==(t=!!t)&&(n=t,r.style("display",n?"block":"none"),(e=window.document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e))}function s(){p={},h={},c.html("");var t=c.append("div").attr("class","fl-annotation-settings");t.append("p").attr("class","empty-annotation-message").text("Select an annotation or create a new annotation by clicking anywhere in the visualisation");for(var e=null,n=null,r=0,i=0;i<l.length;i++){var o=l[i],a,s;"string"!=typeof o?("object"!==Ob(o)||e||n||(r++,n=t.append("div").classed("toplevel-settings-block",!0)),"hidden"!==o.type&&(a=e||n,o.new_section&&(a.append("div").classed("settings-divider",!0),"string"==typeof o.new_section&&a.append("h3").classed("settings-subhead",!0).text(o.new_section)),s=VP(a.append("div"),o),p[o.property]=s,h[o.property]=PC(s,function(t){return t.classList.contains("settings-option")}))):(n=null,(e=t.append("div").classed("settings-block",!0).classed("open",r<1)).append("h2").classed("no-select",!0).attr("tabindex","0").text(o).on("click",u).on("keyup",function(){13===nb.keyCode&&u.call(this)}),"State documentation"===o&&e.style("display","none"),r++)}}function u(){this.parentNode.classList.toggle("open")}function _(t){if(t!==f){for(var e in t&&(f=t),p){var n=p[e],r=g[e];if("buttons"==r.style&&f[e])for(var i=n.querySelectorAll("input[type=radio]"),o=n.querySelectorAll("label[for]"),a=r.choices,s=0;s<i.length;s++){var l=i[s],c=o[s],u=l.value==f[e];l.checked=u,a[s][2]&&(a[s][2](f)?c.style.display=null:c.style.display="none")}n.value=f[e],r.show_if&&(r.show_if(f)?h[e].classList.remove("hidden"):h[e].classList.add("hidden"))}d()}}}function VP(t,e){var n=e.choices&&("buttons"===e.style||"boolean"===e.type);t.classed("settings-option",!0).classed("option-type-"+e.type,!0).classed("settings-buttons",n);var r=t.append("label").attr("for","setting-"+e.property).classed("hidden",null===e.name).append("h3").text(e.name).classed("no-select",!0);e.description&&r.append("i").attr("class","fl-annotations-desc help-tip").style("font-family","FontAwesome, 'Font Awesome 5 Free'").attr("data-popup-body",e.description.replace(/\[\[/g,"").replace(/\]\]/g,"")).attr("data-popup-position","top"),e.width&&t.classed("width-"+e.width.replace(/ /g,"-"),!0);var i="input",o;e.choices?i=n?"div":"select":"text"!==e.type&&"code"!==e.type||(i="textarea"),"code"===e.type&&(o=!1,t.append("i").attr("class","popup fa fa-reply clickable wrap-control").attr("data-popup-body","Wrap/unwrap text").attr("data-popup-position","top").on("click",function(){o=!o,yb(this.parentNode).select("textarea").attr("wrap",o?null:"off"),yb(this).classed("selected",o)}));var a=t.append(i).attr("id","setting-"+e.property).attr("name",e.property),s=e.choices?QP.dropdown:QP[e.type];return s?s(a,e):a.attr("type","text"),e.placeholder&&a.attr("placeholder",e.placeholder),e.size&&a.classed("size-"+e.size),a.node()}function WP(t){return t.forEach(function(t){var n;function e(t){for(var e in n)if(Array.isArray(n[e])){if(-1===n[e].indexOf(t[e]))return!1}else if(n[e]!=t[e])return!1;return!0}t.show_if&&"function"!=typeof t.show_if&&(n=t.show_if,t.show_if=e)}),t}var $P="{{html}}",XP={},JP;function KP(){(JP=PS(document.body,XP,$P)).addColumnNames({html:""})}var tR=!window.Flourish||("sdk"===window.Flourish.environment||"story_editor"===window.Flourish.environment),eR=function(){function e(t){Pb(this,e),this.mode="DEFAULT",this.pos=[0,0],this.flag_editing=!1,this.flag_inside_settings_panel=!1,this.flag_inside_add_button=!1,this.flag_over_annotation_node=!1,this.flag_can_place=!1,this.body=yb(document.body),this.cursor_outline=nR(t).classed("inner-outline",!0),this.cursor_element=nR(t)}return Yb(e,[{key:"update",value:function t(){var e=this.getMode(),n=this.mode;this.mode=e;var r="CUSTOM_ADD"===this.mode,i="CUSTOM_DISABLED"===this.mode,o=r||i;o&&(this.cursor_outline.style("transform","translate(".concat(this.pos[0],"px, ").concat(this.pos[1],"px)")),this.cursor_element.style("transform","translate(".concat(this.pos[0],"px, ").concat(this.pos[1],"px)"))),e!==n&&(this.cursor_element.classed("is-valid",r),this.cursor_outline.classed("is-valid",r),this.body.classed("fl-cursor-custom",o),this.body.classed("fl-cursor-pointer","POINTER"===this.mode),this.body.classed("fl-cursor-default","DEFAULT"===this.mode))}},{key:"getMode",value:function t(){return!this.flag_inside_settings_panel&&!this.flag_inside_add_button&&this.flag_editing?this.flag_over_annotation_node?"POINTER":this.flag_can_place?"CUSTOM_ADD":"CUSTOM_DISABLED":"DEFAULT"}}]),e}();function nR(t){var e=yb(t).append("g").classed("fl-annotations-cursor",!0);return e.append("circle").attr("r",16),e.append("line").attr("x1",-6).attr("x2",6),e.append("line").attr("y1",-6).attr("y2",6),e}var rR,iR,oR,aR,sR,lR,cR,uR,dR,fR,hR,pR,gR,_R,yR=[{property:"text_weight",type:"string",name:"Weight",width:"quarter",style:"buttons",choices:[["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iN3B4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA3IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+bm9ybWFsPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Im5vcm1hbCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEuMTA1OTQ3OTYsMTkgTDEuOTI1NjUwNTYsMTYuNTYwOTc1NiBMNS4wMzUzMTU5OSwxNi41NjA5NzU2IEw1Ljg0MjAwNzQzLDE5IEw3LDE5IEw0LjExMTUyNDE2LDExIEwyLjg4ODQ3NTg0LDExIEwwLDE5IEwxLjEwNTk0Nzk2LDE5IFogTTQuNzYyMDgxNzgsMTUuNzQzOTAyNCBMMi4xOTg4ODQ3NiwxNS43NDM5MDI0IEwyLjYwMjIzMDQ4LDE0LjUyNDM5MDIgQzIuNzU4MzY0MzEsMTQuMDc3MjM1OCAyLjkwNTgyNDA0LDEzLjYzMjExMzggMy4wNDQ2MDk2NywxMy4xODkwMjQ0IEMzLjE4MzM5NTI5LDEyLjc0NTkzNSAzLjMxNzg0Mzg3LDEyLjI5MjY4MjkgMy40NDc5NTUzOSwxMS44MjkyNjgzIEwzLjQ0Nzk1NTM5LDExLjgyOTI2ODMgTDMuNSwxMS44MjkyNjgzIEMzLjYzODc4NTYzLDEyLjI5MjY4MjkgMy43Nzc1NzEyNSwxMi43NDU5MzUgMy45MTYzNTY4OCwxMy4xODkwMjQ0IEM0LjA1NTE0MjUsMTMuNjMyMTEzOCA0LjIwMjYwMjIzLDE0LjA3NzIzNTggNC4zNTg3MzYwNiwxNC41MjQzOTAyIEw0LjM1ODczNjA2LDE0LjUyNDM5MDIgTDQuNzYyMDgxNzgsMTUuNzQzOTAyNCBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","normal"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+Ym9sZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJib2xkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMi4zMzExMjU4MywxOSBMMi43NTQ5NjY4OSwxNy4wODkyMzA4IEw1LjE2NTU2MjkxLDE3LjA4OTIzMDggTDUuNTg5NDAzOTcsMTkgTDgsMTkgTDUuMzc3NDgzNDQsMTAgTDIuNjIyNTE2NTYsMTAgTDAsMTkgTDIuMzMxMTI1ODMsMTkgWiBNNC43NTQ5NjY4OSwxNS4yNDc2OTIzIEwzLjE2NTU2MjkxLDE1LjI0NzY5MjMgTDMuMzExMjU4MjgsMTQuNjI0NjE1NCBDMy40MTcyMTg1NCwxNC4xOTA3NjkyIDMuNTIwOTcxMywxMy43MjIzMDc3IDMuNjIyNTE2NTYsMTMuMjE5MjMwOCBDMy43MjQwNjE4MSwxMi43MTYxNTM4IDMuODIzMzk5NTYsMTIuMjMzODQ2MiAzLjkyMDUyOTgsMTEuNzcyMzA3NyBMMy45MjA1Mjk4LDExLjc3MjMwNzcgTDMuOTczNTA5OTMsMTEuNzcyMzA3NyBDNC4wNzk0NzAyLDEyLjIyNDYxNTQgNC4xODU0MzA0NiwxMi43MDQ2MTU0IDQuMjkxMzkwNzMsMTMuMjEyMzA3NyBDNC4zOTczNTA5OSwxMy43MiA0LjUwMzMxMTI2LDE0LjE5MDc2OTIgNC42MDkyNzE1MiwxNC42MjQ2MTU0IEw0LjYwOTI3MTUyLDE0LjYyNDYxNTQgTDQuNzU0OTY2ODksMTUuMjQ3NjkyMyBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","bold"]]},{property:"text_size",type:"number",name:"Text size",width:"quarter",step:.1},{property:"label_width",step:1,min:2,max:20,type:"number",name:"Max text width",show_if:{connector_type:["none","polyline","step","direct"]}},{property:"line_marker",type:"string",width:"half",name:"Line marker",style:"buttons",show_if:{connector_type:["polyline","step","direct"]},choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTIgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMDAwMDAsIDEzLjAwMDAwMCkgcm90YXRlKC00NS4wMDAwMDApIHRyYW5zbGF0ZSgtNS4wMDAwMDAsIC0xMy4wMDAwMDApIHRyYW5zbGF0ZSgxLjAwMDAwMCwgNi4wMDAwMDApIj4KICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlRyaWFuZ2xlIiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjQgMCA4IDggMCA4Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT0iOCIgeDI9IjQiIHkyPSIxNCIgaWQ9IlBhdGgtMiIgc3Ryb2tlPSIjMzMzMzMzIiBvcGFjaXR5PSIwLjIwMDAwMDAwMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+PC9saW5lPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+","arrowhead"]]},{property:"connector_extend_line",type:"string",width:"half",name:"Extend line",style:"buttons",show_if:{connector_type:["polyline","step"]},choices:[["Enable","enabled"],["Disable","disabled"]]},{property:"stroke_width",step:.25,min:0,max:4,type:"number",width:"half",name:"Stroke width",show_if:function t(e){return vR(e)||"point"!==e.subject_type&&"none"!==e.subject_type}},{property:"text_line_height",name:"Line height",type:"number",width:"half",step:.05,min:.5,max:3},{property:"popup_position",type:"string",width:"three quarters",name:"Popup position",show_if:{connector_type:"popup"},choices:[["Center","center"],["Left","left"],["Right","right"],["Top","top"],["Bottom","bottom"]]},{new_section:"Colors",property:"text_color",type:"color",name:"Text",width:"quarter"},{property:"text_bg",type:"color",name:"Text Outline",width:"quarter",show_if:{connector_type:["all","desktop","mobile"]}},{property:"point_text_color",type:"color",name:"Label",width:"quarter",show_if:{subject_type:"point"}},{property:"popup_bg",type:"color",width:"quarter",name:"Popup",show_if:{connector_type:"popup"}},{property:"stroke_color",type:"color",name:"Stroke",width:"quarter",show_if:function t(e){return vR(e)||"point"!==e.subject_type&&"none"!==e.subject_type}},{property:"subject_fill",type:"color",name:"Fill",width:"quarter",show_if:{subject_type:["point","circle","box"]}},{property:"subject_fill_opacity",step:.01,min:0,max:1,type:"number",width:"quarter",name:"Fill opacity",show_if:{subject_type:["circle","box"]}}],mR=[{property:"contents",type:"text",name:"Annotation text"},{property:"device_visibility",type:"text",name:"Show",description:"Choose between Always, Desktop, Mobile or Popup on mobile",style:"buttons",choices:[["Always","all"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTkgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEyLjAzMzMzMzMsMjMgQzEyLjIwNDg2MTEsMjMgMTIuMzUzMjk4NiwyMi45MzUyOTY1IDEyLjQ3ODY0NTgsMjIuODA1ODg5NCBDMTIuNjAzOTkzMSwyMi42NzY0ODI0IDEyLjY2NjY2NjcsMjIuNTIzMjM3MiAxMi42NjY2NjY3LDIyLjM0NjE1MzggQzEyLjY2NjY2NjcsMjIuMjU3NjEyMiAxMi42MTM4ODg5LDIyLjEwOTQ3NTIgMTIuNTA4MzMzMywyMS45MDE3NDI4IEMxMi40MDI3Nzc4LDIxLjY5NDAxMDQgMTIuMjk3MjIyMiwyMS40NTIyMjM2IDEyLjE5MTY2NjcsMjEuMTc2MzgyMiBDMTIuMDg2MTExMSwyMC45MDA1NDA5IDEyLjAzMzMzMzMsMjAuNjM2NjE4NiAxMi4wMzMzMzMzLDIwLjM4NDYxNTQgTDEyLjAzMzMzMzMsMjAuMzg0NjE1NCBMMTcuNDE2NjY2NywyMC4zODQ2MTU0IEMxNy44NTIwODMzLDIwLjM4NDYxNTQgMTguMjI0ODI2NCwyMC4yMjQ1NTkzIDE4LjUzNDg5NTgsMTkuOTA0NDQ3MSBDMTguODQ0OTY1MywxOS41ODQzMzQ5IDE5LDE5LjE5OTUxOTIgMTksMTguNzUgTDE5LDE4Ljc1IEwxOSw3LjYzNDYxNTM4IEMxOSw3LjE4NTA5NjE1IDE4Ljg0NDk2NTMsNi44MDAyODA0NSAxOC41MzQ4OTU4LDYuNDgwMTY4MjcgQzE4LjIyNDgyNjQsNi4xNjAwNTYwOSAxNy44NTIwODMzLDYgMTcuNDE2NjY2Nyw2IEwxNy40MTY2NjY3LDYgTDEuNTgzMzMzMzMsNiBDMS4xNDc5MTY2Nyw2IDAuNzc1MTczNjExLDYuMTYwMDU2MDkgMC40NjUxMDQxNjcsNi40ODAxNjgyNyBDMC4xNTUwMzQ3MjIsNi44MDAyODA0NSAwLDcuMTg1MDk2MTUgMCw3LjYzNDYxNTM4IEwwLDcuNjM0NjE1MzggTDAsMTguNzUgQzAsMTkuMTk5NTE5MiAwLjE1NTAzNDcyMiwxOS41ODQzMzQ5IDAuNDY1MTA0MTY3LDE5LjkwNDQ0NzEgQzAuNzc1MTczNjExLDIwLjIyNDU1OTMgMS4xNDc5MTY2NywyMC4zODQ2MTU0IDEuNTgzMzMzMzMsMjAuMzg0NjE1NCBMMS41ODMzMzMzMywyMC4zODQ2MTU0IEw2Ljk2NjY2NjY3LDIwLjM4NDYxNTQgQzYuOTY2NjY2NjcsMjAuNjQzNDI5NSA2LjkxMzg4ODg5LDIwLjkwOTA1NDUgNi44MDgzMzMzMywyMS4xODE0OTA0IEM2LjcwMjc3Nzc4LDIxLjQ1MzkyNjMgNi41OTcyMjIyMiwyMS42OTIzMDc3IDYuNDkxNjY2NjcsMjEuODk2NjM0NiBDNi4zODYxMTExMSwyMi4xMDA5NjE1IDYuMzMzMzMzMzMsMjIuMjUwODAxMyA2LjMzMzMzMzMzLDIyLjM0NjE1MzggQzYuMzMzMzMzMzMsMjIuNTIzMjM3MiA2LjM5NjAwNjk0LDIyLjY3NjQ4MjQgNi41MjEzNTQxNywyMi44MDU4ODk0IEM2LjY0NjcwMTM5LDIyLjkzNTI5NjUgNi43OTUxMzg4OSwyMyA2Ljk2NjY2NjY3LDIzIEw2Ljk2NjY2NjY3LDIzIEwxMi4wMzMzMzMzLDIzIFogTTE3LjQxNjY2NjcsMTYuNDYxNTM4NSBMMS41ODMzMzMzMywxNi40NjE1Mzg1IEMxLjQ5NzU2OTQ0LDE2LjQ2MTUzODUgMS40MjMzNTA2OSwxNi40MjkxODY3IDEuMzYwNjc3MDgsMTYuMzY0NDgzMiBDMS4yOTgwMDM0NywxNi4yOTk3Nzk2IDEuMjY2NjY2NjcsMTYuMjIzMTU3MSAxLjI2NjY2NjY3LDE2LjEzNDYxNTQgTDEuMjY2NjY2NjcsMTYuMTM0NjE1NCBMMS4yNjY2NjY2Nyw3LjYzNDYxNTM4IEMxLjI2NjY2NjY3LDcuNTQ2MDczNzIgMS4yOTgwMDM0Nyw3LjQ2OTQ1MTEyIDEuMzYwNjc3MDgsNy40MDQ3NDc2IEMxLjQyMzM1MDY5LDcuMzQwMDQ0MDcgMS40OTc1Njk0NCw3LjMwNzY5MjMxIDEuNTgzMzMzMzMsNy4zMDc2OTIzMSBMMS41ODMzMzMzMyw3LjMwNzY5MjMxIEwxNy40MTY2NjY3LDcuMzA3NjkyMzEgQzE3LjUwMjQzMDYsNy4zMDc2OTIzMSAxNy41NzY2NDkzLDcuMzQwMDQ0MDcgMTcuNjM5MzIyOSw3LjQwNDc0NzYgQzE3LjcwMTk5NjUsNy40Njk0NTExMiAxNy43MzMzMzMzLDcuNTQ2MDczNzIgMTcuNzMzMzMzMyw3LjYzNDYxNTM4IEwxNy43MzMzMzMzLDcuNjM0NjE1MzggTDE3LjczMzMzMzMsMTYuMTM0NjE1NCBDMTcuNzMzMzMzMywxNi4yMjMxNTcxIDE3LjcwMTk5NjUsMTYuMjk5Nzc5NiAxNy42MzkzMjI5LDE2LjM2NDQ4MzIgQzE3LjU3NjY0OTMsMTYuNDI5MTg2NyAxNy41MDI0MzA2LDE2LjQ2MTUzODUgMTcuNDE2NjY2NywxNi40NjE1Mzg1IEwxNy40MTY2NjY3LDE2LjQ2MTUzODUgWiIgaWQ9Iu+EiCIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","desktop"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+QXJ0Ym9hcmQgQ29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZC1Db3B5IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNNi42NjY2NjY2NywyMSBDNy4wMjc3Nzc3OCwyMSA3LjM0MDI3Nzc4LDIwLjg3MTM1NDIgNy42MDQxNjY2NywyMC42MTQwNjI1IEM3Ljg2ODA1NTU2LDIwLjM1Njc3MDggOCwyMC4wNTIwODMzIDgsMTkuNyBMOCwxOS43IEw4LDkuMyBDOCw4Ljk0NzkxNjY3IDcuODY4MDU1NTYsOC42NDMyMjkxNyA3LjYwNDE2NjY3LDguMzg1OTM3NSBDNy4zNDAyNzc3OCw4LjEyODY0NTgzIDcuMDI3Nzc3NzgsOCA2LjY2NjY2NjY3LDggTDYuNjY2NjY2NjcsOCBMMS4zMzMzMzMzMyw4IEMwLjk3MjIyMjIyMiw4IDAuNjU5NzIyMjIyLDguMTI4NjQ1ODMgMC4zOTU4MzMzMzMsOC4zODU5Mzc1IEMwLjEzMTk0NDQ0NCw4LjY0MzIyOTE3IDAsOC45NDc5MTY2NyAwLDkuMyBMMCw5LjMgTDAsMTkuNyBDMCwyMC4wNTIwODMzIDAuMTMxOTQ0NDQ0LDIwLjM1Njc3MDggMC4zOTU4MzMzMzMsMjAuNjE0MDYyNSBDMC42NTk3MjIyMjIsMjAuODcxMzU0MiAwLjk3MjIyMjIyMiwyMSAxLjMzMzMzMzMzLDIxIEwxLjMzMzMzMzMzLDIxIEw2LjY2NjY2NjY3LDIxIFogTTQuODMzMzMzMzMsOS42MjUgTDMuMTY2NjY2NjcsOS42MjUgQzMuMDU1NTU1NTYsOS42MjUgMyw5LjU3MDgzMzMzIDMsOS40NjI1IEMzLDkuMzU0MTY2NjcgMy4wNTU1NTU1Niw5LjMgMy4xNjY2NjY2Nyw5LjMgTDMuMTY2NjY2NjcsOS4zIEw0LjgzMzMzMzMzLDkuMyBDNC45NDQ0NDQ0NCw5LjMgNSw5LjM1NDE2NjY3IDUsOS40NjI1IEM1LDkuNTcwODMzMzMgNC45NDQ0NDQ0NCw5LjYyNSA0LjgzMzMzMzMzLDkuNjI1IEw0LjgzMzMzMzMzLDkuNjI1IFogTTYuNjY2NjY2NjcsMTguNCBMMS4zMzMzMzMzMywxOC40IEMxLjI0MzA1NTU2LDE4LjQgMS4xNjQ5MzA1NiwxOC4zNjc4Mzg1IDEuMDk4OTU4MzMsMTguMzAzNTE1NiBDMS4wMzI5ODYxMSwxOC4yMzkxOTI3IDEsMTguMTYzMDIwOCAxLDE4LjA3NSBMMSwxOC4wNzUgTDEsMTAuOTI1IEMxLDEwLjgzNjk3OTIgMS4wMzI5ODYxMSwxMC43NjA4MDczIDEuMDk4OTU4MzMsMTAuNjk2NDg0NCBDMS4xNjQ5MzA1NiwxMC42MzIxNjE1IDEuMjQzMDU1NTYsMTAuNiAxLjMzMzMzMzMzLDEwLjYgTDEuMzMzMzMzMzMsMTAuNiBMNi42NjY2NjY2NywxMC42IEM2Ljc1Njk0NDQ0LDEwLjYgNi44MzUwNjk0NCwxMC42MzIxNjE1IDYuOTAxMDQxNjcsMTAuNjk2NDg0NCBDNi45NjcwMTM4OSwxMC43NjA4MDczIDcsMTAuODM2OTc5MiA3LDEwLjkyNSBMNywxMC45MjUgTDcsMTguMDc1IEM3LDE4LjE2MzAyMDggNi45NjcwMTM4OSwxOC4yMzkxOTI3IDYuOTAxMDQxNjcsMTguMzAzNTE1NiBDNi44MzUwNjk0NCwxOC4zNjc4Mzg1IDYuNzU2OTQ0NDQsMTguNCA2LjY2NjY2NjY3LDE4LjQgTDYuNjY2NjY2NjcsMTguNCBaIE00LDIwLjUxMjUgQzMuNzcwODMzMzMsMjAuNTEyNSAzLjU3NDY1Mjc4LDIwLjQzMjk0MjcgMy40MTE0NTgzMywyMC4yNzM4MjgxIEMzLjI0ODI2Mzg5LDIwLjExNDcxMzUgMy4xNjY2NjY2NywxOS45MjM0Mzc1IDMuMTY2NjY2NjcsMTkuNyBDMy4xNjY2NjY2NywxOS40NzY1NjI1IDMuMjQ4MjYzODksMTkuMjg1Mjg2NSAzLjQxMTQ1ODMzLDE5LjEyNjE3MTkgQzMuNTc0NjUyNzgsMTguOTY3MDU3MyAzLjc3MDgzMzMzLDE4Ljg4NzUgNCwxOC44ODc1IEM0LjIyOTE2NjY3LDE4Ljg4NzUgNC40MjUzNDcyMiwxOC45NjcwNTczIDQuNTg4NTQxNjcsMTkuMTI2MTcxOSBDNC43NTE3MzYxMSwxOS4yODUyODY1IDQuODMzMzMzMzMsMTkuNDc2NTYyNSA0LjgzMzMzMzMzLDE5LjcgQzQuODMzMzMzMzMsMTkuOTIzNDM3NSA0Ljc1LDIwLjExNjQwNjIgNC41ODMzMzMzMywyMC4yNzg5MDYyIEM0LjQyMzYxMTExLDIwLjQzNDYzNTQgNC4yMjkxNjY2NywyMC41MTI1IDQsMjAuNTEyNSBaIiBpZD0i74SLIiBmaWxsPSIjMzMzMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+","mobile"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZCBDb3B5IDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQXJ0Ym9hcmQtQ29weS0yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMS4wMDAxODYwMSw4IEwxLDEwLjg4NSBMMSwxMC44OTQwMDI5IEwxLDE4LjA2NjAwMDggTDEuMDA2MTg0OSwxOC4xMjk5OTEgQzEuMDE4NTU0NjksMTguMTkxNzUyNyAxLjA0OTQ3OTE3LDE4LjI0NjgyODkgMS4wOTg5NTgzMywxOC4yOTUyMTk1IEMxLjE2NDkzMDU2LDE4LjM1OTc0MDMgMS4yNDMwNTU1NiwxOC4zOTIwMDA3IDEuMzMzMzMzMzMsMTguMzkyMDAwNyBMMS4zMzMzMzMzMywxOC4zOTIwMDA3IEw2LjY2NjY2NjY3LDE4LjM5MjAwMDcgQzYuNzU2OTQ0NDQsMTguMzkyMDAwNyA2LjgzNTA2OTQ0LDE4LjM1OTc0MDMgNi45MDEwNDE2NywxOC4yOTUyMTk1IEM2Ljk2NzAxMzg5LDE4LjIzMDY5ODcgNywxOC4xNTQyOTI1IDcsMTguMDY2MDAwOCBMNywxOC4wNjYwMDA4IEw3LDEzLjY2OCBMNy41LDEzLjAxMjM3OTggTDgsMTMuMDEyIEw4LDE5LjY5NjAwMDQgTDcuOTkxOTIxNzcsMTkuODQ0NDQ2OCBDNy45NTk2MDg4NCwyMC4xMzU1MTgxIDcuODMwMzU3MTQsMjAuMzkxNjYwOSA3LjYwNDE2NjY3LDIwLjYxMjg3NTEgQzcuMzQwMjc3NzgsMjAuODcwOTU4NCA3LjAyNzc3Nzc4LDIxIDYuNjY2NjY2NjcsMjEgTDYuNjY2NjY2NjcsMjEgTDEuMzMzMzMzMzMsMjEgTDEuMTgxNTQ3NjIsMjAuOTkyMDk5NSBDMC44ODM5Mjg1NzEsMjAuOTYwNDk3NSAwLjYyMjAyMzgxLDIwLjgzNDA4OTMgMC4zOTU4MzMzMzMsMjAuNjEyODc1MSBDMC4xMzE5NDQ0NDQsMjAuMzU0NzkxOCAwLDIwLjA0OTE2NjkgMCwxOS42OTYwMDA0IEwwLDE5LjY5NjAwMDQgTDAsOS4yNjQwMDMzMSBMMC4wMDgwNzgyMzEyOSw5LjExNTU1NjkyIEMwLjA0MDM5MTE1NjUsOC44MjQ0ODU1OCAwLjE2OTY0Mjg1Nyw4LjU2ODM0Mjc5IDAuMzk1ODMzMzMzLDguMzQ3MTI4NTcgQzAuNTc0OTAwNzk0LDguMTcyMDAwNjQgMC43NzYzNTE2ODcsOC4wNTYyOTExMiAxLjAwMDE4NjAxLDggWiBNNCwxOC44ODEwMDA2IEMzLjc3MDgzMzMzLDE4Ljg4MTAwMDYgMy41NzQ2NTI3OCwxOC45NjA4MDI3IDMuNDExNDU4MzMsMTkuMTIwNDA2OCBDMy4yNDgyNjM4OSwxOS4yODAwMTA5IDMuMTY2NjY2NjcsMTkuNDcxODc1NCAzLjE2NjY2NjY3LDE5LjY5NjAwMDQgQzMuMTY2NjY2NjcsMTkuOTIwMTI1MyAzLjI0ODI2Mzg5LDIwLjExMTk4OTggMy40MTE0NTgzMywyMC4yNzE1OTQgQzMuNTc0NjUyNzgsMjAuNDMxMTk4MSAzLjc3MDgzMzMzLDIwLjUxMTAwMDEgNCwyMC41MTEwMDAxIEM0LjIyOTE2NjY3LDIwLjUxMTAwMDEgNC40MjM2MTExMSwyMC40MzI4OTYgNC41ODMzMzMzMywyMC4yNzY2ODc3IEM0Ljc1LDIwLjExMzY4NzggNC44MzMzMzMzMywxOS45MjAxMjUzIDQuODMzMzMzMzMsMTkuNjk2MDAwNCBDNC44MzMzMzMzMywxOS40NzE4NzU0IDQuNzUxNzM2MTEsMTkuMjgwMDEwOSA0LjU4ODU0MTY3LDE5LjEyMDQwNjggQzQuNDI1MzQ3MjIsMTguOTYwODAyNyA0LjIyOTE2NjY3LDE4Ljg4MTAwMDYgNCwxOC44ODEwMDA2IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTMsNiBMOSw2IEM5LjU1MjI4NDc1LDYgMTAsNi40NDc3MTUyNSAxMCw3IEwxMCwxMS4wMzY4Nzk0IEMxMCwxMS41ODkxNjQyIDkuNTUyMjg0NzUsMTIuMDM2ODc5NCA5LDEyLjAzNjg3OTQgTDcuNSwxMi4wMzY4Nzk0IEw3LjUsMTIuMDM2ODc5NCBMNiwxNCBMNC41LDEyLjAzNjg3OTQgTDMsMTIuMDM2ODc5NCBDMi40NDc3MTUyNSwxMi4wMzY4Nzk0IDIsMTEuNTg5MTY0MiAyLDExLjAzNjg3OTQgTDIsNyBDMiw2LjQ0NzcxNTI1IDIuNDQ3NzE1MjUsNiAzLDYgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup"]]},{property:"subject_type",type:"text",name:"Marker Type",style:"buttons",width:"full",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNnB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA2IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+cG9pbnQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0icG9pbnQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMzMzMzMzMiIGN4PSIzIiBjeT0iMTUiIHI9IjMiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=","point"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iY2lyY2xlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLUNvcHkiIHN0cm9rZT0iIzMzMzMzMyIgY3g9IjgiIGN5PSIxNSIgcj0iNy41Ij48L2NpcmNsZT4KICAgIDwvZz4KPC9zdmc+","circle"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5zcXVhcmU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0ic3F1YXJlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiMzMzMzMzMiIHg9IjAuNSIgeT0iNy41IiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjwvcmVjdD4KICAgIDwvZz4KPC9zdmc+","box"]]},{property:"connector_type",type:"text",width:"full",name:"Connector Type",style:"buttons",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJjaXJjbGUtY29weSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+CiAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBwb2ludHM9IjUgOSAxMi4xNDIxODIxIDE2IDI4IDE2Ij48L3BvbHlsaW5lPgogICAgPC9nPgo8L3N2Zz4=","polyline"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 15 9 15 16 28 16"/%3E%3C/g%3E%3C/svg%3E',"step"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 28 16"/%3E%3C/g%3E%3C/svg%3E',"direct"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik03LDUgTDI2LDUgQzI2LjU1MjI4NDcsNSAyNyw1LjQ0NzcxNTI1IDI3LDYgTDI3LDE4LjAzNjg3OTQgQzI3LDE4LjU4OTE2NDIgMjYuNTUyMjg0NywxOS4wMzY4Nzk0IDI2LDE5LjAzNjg3OTQgTDE5LjE4NzUsMTkuMDM2ODc5NCBMMTkuMTg3NSwxOS4wMzY4Nzk0IEwxNi41LDIyIEwxMy44MTI1LDE5LjAzNjg3OTQgTDcsMTkuMDM2ODc5NCBDNi40NDc3MTUyNSwxOS4wMzY4Nzk0IDYsMTguNTg5MTY0MiA2LDE4LjAzNjg3OTQgTDYsNiBDNiw1LjQ0NzcxNTI1IDYuNDQ3NzE1MjUsNSA3LDUgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup",function(t){return"none"!==t.subject_type}]]},{property:"point_text",type:"quarter",width:"half",name:"Marker Label",show_if:{subject_type:"point"}},{property:"point_radius",type:"number",width:"half",name:"Marker Radius",step:.25,show_if:{subject_type:"point"}}].concat("Advanced").concat(yR);function vR(t){return"polyline"===t.connector_type||"step"===t.connector_type||"direct"===t.connector_type}var bR=function t(e){var r=this;Pb(this,t),this.tooltip=document.body.appendChild(document.createElement("div")),this.tooltip.classList.add("fl-annotations-tip"),this.tooltip.classList.add("hidden"),this.container=e,this.container.addEventListener("mouseover",function(t){var e,n;t.target.classList.contains("fl-annotations-desc")&&(r.tooltip.classList.remove("hidden"),r.tooltip.textContent=t.target.getAttribute("data-popup-body"),e=t.target.getBoundingClientRect(),n=r.tooltip.getBoundingClientRect(),r.tooltip.style.top=e.top-n.height-4+"px",r.tooltip.style.left=e.left+e.width/2-n.width/2+"px")},!1),this.container.addEventListener("mouseout",function(t){t.target.classList.contains("fl-annotations-desc")&&r.tooltip.classList.add("hidden")},!1)},xR={annotations:{},annotation_order:[],popup:{},annotation_selected_id:"",defaults:pO.getDefaultSettings()},wR={left:IR("right"),right:IR("left"),top:IR("bottom"),bottom:IR("top"),center:IR("center")},MR=function(t){Ub(a,t);var o=Qb(a);function a(t,e,n,r){var i;return Pb(this,a),(i=o.call(this)).target=t,i.settings_container=e,i.rendering=!1,i.prev_annotation_ids=[],i.state=Object.assign(n,xR,Object.assign({},n)),i.state.defaults=Object.assign({},i.state.defaults),i.is_user_editable=!!tR,i.source_element=tR&&(r.source_element||kR(e,r.source_offset)),i.add_element=tR&&(r.add_element||jR(e,r.add_offset)),i.settings=tR&&qP(e,mR,function(){i.rendering||i.update()}),r.source_element&&!tR&&(r.source_element.style.display="none"),r.add_element&&!tR&&(r.add_element.style.display="none"),i.settings?(i.settings.container.insertBefore(i.add_element,i.settings.container.firstChild),i._updateAnnotationList=GP(Hb(i),i.settings.container,i.state.annotations,function(){return i.state.annotation_order}),i.settings_popup=new bR(i.settings.container)):i._updateAnnotationList=function(){},i.getDataFromCursor=r.getDataFromCursor,i.getPositionFromData=r.getPositionFromData,i.filterByData=r.filterByData||function(){return!0},i.filterByPosition=r.filterByPosition||function(){return!0},i.container_svg=t.appendChild(document.createElementNS("http://www.w3.org/2000/svg","svg")),i.container_svg.classList.add("fl-annotations"),i.container=t.appendChild(document.createElement("div")),i.container.classList.add("fl-annotations"),IP(i.container_svg),KP(),i.touches=WC(window,{preventSimulated:!1,filtered:!0,target:i.target}),i.touches.on("start",i._onCursorStart=i._onCursorStart.bind(Hb(i))),i.touches.on("move",i._onCursorMove=i._onCursorMove.bind(Hb(i))),i.touches.on("end",i._onCursorEnd=i._onCursorEnd.bind(Hb(i))),i.cursor=new eR(i.container_svg),AR(Hb(i),"_is_editing",[i.container_svg,i.container,e],"is-editing",!1),AR(Hb(i),"_is_edit_settings",[i.container_svg,i.container,e],"is-edit-settings",!1),AR(Hb(i),"_is_edit_add",[i.container_svg,i.container,e],"is-edit-add",!1),AR(Hb(i),"_is_dragging",[i.container_svg,i.container,e],"is-dragging",!1),i._is_dragging_beneath=!1,i._drag_start_time=Date.now(),i._drag_start_position=[0,0],i._is_cursor_down=!1,i._dragging_id="",i._clicking_id="",i._prev_dragging_id="",i._prev_selected_id="",i._edit_mode="settings",i._ignore_next_mouseup=!1,i._getByID=LP.getByID.bind(Hb(i)),i.update(),i}return Yb(a,[{key:"isEditing",value:function t(){return this._is_editing}},{key:"isDragging",value:function t(){return this._is_dragging}},{key:"_onCursorStart",value:function t(e,n){var r=this._findupAnnotation(e.target),i=this._findupEditorButton(e.target),o,a,s,l,c,u,d,f;this._findupEditor(e.target)&&!i||this._findupLink(e.target)||(s=!!i,l=!!r,this._is_dragging=!1,this._is_dragging_beneath=!1,this._dragging_id="",this._drag_start_time=Date.now(),this._drag_start_position[0]=n[0],this._drag_start_position[1]=n[1],s?(c=i===this.source_element,u=i===this.add_element,d=!this._is_editing||c&&"add"===this._edit_mode||u&&"settings"===this._edit_mode,this._is_editing=d,this._is_editing?(this.target.classList.add("fl-disable-selection"),c?this.setEditMode("settings"):u&&this.setEditMode("add")):(this.target.classList.remove("fl-disable-selection"),this.select(null),this.setEditMode(null)),this._ignore_next_mouseup=!0,this.render(),e.preventDefault()):l&&(f=r.getAttribute("data-annotation-id"),this._dragging_id=f,document.body.classList.add("fl-disable-selection"),this._is_editing&&LP.getByID(f).onDragStart(e,n),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations)))}},{key:"_onCursorMove",value:function t(e,n){var r=this._is_editing&&!this._dragging_id,i=this._is_editing&&!this._is_dragging_beneath,o=this._dragging_id&&this._is_dragging,a,s,l,c,u,d,f,h,p,g;r&&this._setCursorPosition(e,n),i?(a=n[0]-this._drag_start_position[0],s=n[1]-this._drag_start_position[1],l=Math.sqrt(a*a+s*s),c=Date.now()-this._drag_start_time,u=!tR||300<c,d=25<l,this._is_dragging_beneath=u||d,this._is_dragging=this._is_dragging_beneath&&!r):o&&(f=LP.getByID(this._dragging_id),this._is_editing&&!1!==f.onDragMove(e,n)&&(p=this.getDataFromCursor(e,n)||null)&&this.getPositionFromData(p)&&(this.state.annotations[this._dragging_id].position=p),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations))}},{key:"_onCursorEnd",value:function t(e,n){var r=this._findupEditor(e.target)||this._findupEditorButton(e.target)||this._ignore_next_mouseup,i,o,a,s;if(this.target!==document.body&&document.body.classList.remove("fl-disable-selection"),r)return this._ignore_next_mouseup=!1,this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),void this._setCursorPosition(e,n);if(this._dragging_id)this._is_dragging&&this._is_editing?(i=LP.getByID(this._dragging_id),this._is_editing&&!1!==i.onDragMove(e,n)&&((a=this.getDataFromCursor(e,n)||null)&&this.getPositionFromData(a)&&(this.state.annotations[this._dragging_id].position=a),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations))):this._is_dragging||this.select(this._dragging_id),this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),this._setCursorPosition(e,n);else if(!this._is_dragging_beneath&&this._is_editing&&this.isEditMode("add")){var l=this.getDataFromCursor(e,n);if(!l)return;var c=this._findupAnnotation(e.target);if(c)return this.select(c.getAttribute("data-annotation-id"));var u=this._createAnnotation(l);this.setEditMode("settings"),this.select(u),this.update(),this.emit("create",this.state.annotations[u]),this.emit("change",this.state.annotations)}else this._is_dragging_beneath||this.select(null)}},{key:"select",value:function t(e){this.state.annotation_selected_id=e,this._prev_selected_id!==e&&(this._prev_selected_id=e,this.state.annotations[e]&&(this.emit("select",this.state.annotations[e]),this.emit("change",this.state.annotations))),this.render()}},{key:"update",value:function t(){this._clearRemovedAnnotations(),this.render(),this._updateAnnotationList(this.state.annotations)}},{key:"_clearRemovedAnnotations",value:function t(){for(var e=this,n=0;n<this.prev_annotation_ids.length;n++){var r=this.prev_annotation_ids[n],i;r in this.state.annotations||(i=LP.getByID(r))&&i.destroy()}this.prev_annotation_ids=Object.keys(this.state.annotations);for(var o=this.state.annotation_order.filter(function(t){return t in e.state.annotations}),n=0;n<o.length;n++)this.state.annotation_order[n]=o[n];for(var a in this.state.annotation_order.length=o.length,this.state.annotations)Object.hasOwnProperty.call(this.state.annotations,a)&&-1===this.state.annotation_order.indexOf(a)&&this.state.annotation_order.push(a)}},{key:"render",value:function t(){var e;this.rendering=!0,tR&&(e=this.isEditMode("settings"),this.settings.setVisible(e),this.settings.setActive(e&&this.state.annotation_selected_id&&this.prev_annotation_ids.length)),this._renderMarkers(),this.rendering=!1}},{key:"isEditMode",value:function t(e){return this._is_editing&&(!vO()||this._edit_mode===e)}},{key:"setEditMode",value:function t(e){var n=!vO();this._edit_mode=e,this._is_edit_settings=n||"settings"===e,this._is_edit_add=n||"add"===e}},{key:"_renderMarkers",value:function t(){for(var e in this.state.annotations){var n=LP.getByID(e),r=this.state.annotations[e].subject_type,n=n||new ZP[r](e,this.state.annotations[e],this.container,this.container_svg),i=this.state.annotations[e].position,o=!!i,o;(o=(o=(o=(o=o&&this.filterByData(i))&&!!(i=this.getPositionFromData(i)))&&this.filterByPosition(i))&&bO(this.state.annotations[e]))?((n=n.ofType(ZP[this.state.annotations[e].subject_type])).state.origin[0]=i[0],n.state.origin[1]=i[1],n.editable=this._is_editing,n.update(),n.setActive(!0)):n.setActive(!1),e!==this.state.annotation_selected_id&&n.setSelected(!1)}var a=LP.getByID(this.state.annotation_selected_id),s,l,c,u,d,f;a?(JP.container(this.target),a.setSelected(!0),this.emit("update",this.state.annotations[this.state.annotation_selected_id]),this.emit("change",this.state.annotations),tR&&this.settings.render(this.state.annotations[this.state.annotation_selected_id]),s=a.settings,l=a.element,"popup"===a.getConnectorType()?(XP.font_size=PP(s.text_size),XP.text_color=s.text_color,XP.fill_color=s.popup_bg,c=MO(s.contents),"bold"==s.text_weight&&(c="<strong>"+c+"</strong>"),u=l.parentNode.getBoundingClientRect(),d={html:c},f=a.getPopupPosition(s.popup_position),JP.directions(wR[s.popup_position]),JP.point(s.view.origin[0]+f[0]+u.left,s.view.origin[1]+f[1]+u.top),JP.draw(d)):JP.hide()):JP.hide()}},{key:"_setCursorPosition",value:function t(e,n){var r=this.getDataFromCursor(e,n)||null,i=r&&this.getPositionFromData(r),o=this._findupAnnotation(e.target);this.cursor.pos[0]=i?i[0]:n[0],this.cursor.pos[1]=i?i[1]:n[1],this.cursor.flag_editing=this.isEditMode("add"),this.cursor.flag_over_annotation_node=!!o,this.cursor.flag_inside_add_button=!!this._findupEditorButton(e.target),this.cursor.flag_inside_settings_panel=!!this._findupEditor(e.target),this.cursor.flag_can_place=!!i,this.cursor.update()}},{key:"_createAnnotation",value:function t(e){var n=fO(),r=this.state.annotations[n]=new pO(e,this.state.defaults);this.state.annotation_order.push(n),r.id=n;var i=r.subject_type;return new ZP[i](n,r,this.container,this.container_svg),this.prev_annotation_ids.push(n),this.render(),n}},{key:"_findupAnnotation",value:function t(e){return PC(e,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-id")})}},{key:"_findupEditor",value:function t(e){return tR&&PC(e,this.settings.root)}},{key:"_findupEditorButton",value:function t(e){var n=this;return tR&&PC(e,function(t){return t===n.source_element||t===n.add_element})}},{key:"_findupLink",value:function t(e){return!this._is_editing&&PC(e,function(t){return t&&"A"===(t.nodeName||"").toUpperCase()})}}]),a}(BC);function kR(t,e){var n=t.appendChild(document.createElement("button"));return n.classList.add("fl-annotations-source-element"),e&&(n.style.marginRight=e[0],n.style.marginTop=e[1]),n}function jR(t,e){var n=t.appendChild(document.createElement("a"));return n.classList.add("fl-annotations-add-element"),n.textContent="Add/move annotations",e&&(n.style.marginRight=e[0],n.style.marginTop=e[1]),n}function AR(t,e,n,r,i){function o(t){i!==(t=!!t)&&(i=t,a())}function a(){if(i)for(var t=0;t<n.length;t++)n[t].classList.add(r);else for(var t=0;t<n.length;t++)n[t].classList.remove(r)}n=Array.isArray(n)?n:[n],a(),Object.defineProperty(t,e,{get:function t(){return i},set:o})}function IR(t){var e=["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"];return"center"!==t&&(e.splice(e.indexOf(t),1),e.unshift(t)),e}function TR(t,e,n,r){var p,i;return r=Object.assign({},r||{},{getDataFromCursor:o,getPositionFromData:a}),new(function(t){Ub(r,t);var e=Qb(r);function r(){return Pb(this,r),e.apply(this,arguments)}return Yb(r,[{key:"update",value:function t(n){p=Object.keys(n||{}).reduce(function(t,e){return t[e]=s(n[e]),t},{}),Vb(Fb(r.prototype),"update",this).call(this)}}]),r}(MR))(t,e,n,r);function o(t,e){for(var n in p){var r=p[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var i=e[0]-r.x,o=e[1]-r.y,a=r.x_range[1]-r.x_range[0],s=r.y_range[0]-r.y_range[1],l=(i-r.x_range[0])/a,c=(o-r.y_range[1])/s,u=zR(r.x_scale,r.x_domain),d=zR(r.y_scale,r.y_domain),f,h;return{facet_id:n,x:"ordinal"!=u?r.x_scale.invert(i):NR(i,r.x_range,r.x_domain),y:"ordinal"!=d?r.y_scale.invert(o):NR(o,r.y_range,r.y_domain),x_fallback:l,y_fallback:c,x_type:u,y_type:d}}}}function a(t){var e=p[t.facet_id];if(e){var n,r,i=zR(e.x_scale,e.x_domain),o=zR(e.y_scale,e.y_domain),n=i==t.x_type?"ordinal"==t.x_type?e.x_scale(t.x.id)+e.x_scale.step()*t.x.offset:e.x_scale(t.x):t.x_fallback*(e.x_range[1]-e.x_range[0])+e.x_range[0],r=o==t.y_type?"ordinal"==t.y_type?e.y_scale(t.y.id)+e.y_scale.step()*-t.y.offset:e.y_scale(t.y):t.y_fallback*(e.y_range[0]-e.y_range[1])+e.y_range[1];return[e.x+n,e.y+r]}}function s(t){var e=t.xScale({global:!0}),n=t.yScale({global:!0}),r=e.range(),i=n.range(),o=e.domain(),a=n.domain();return{x:t.offsetLeft(),y:t.offsetTop(),x_scale:e,y_scale:n,x_range:r,y_range:i,x_domain:o,y_domain:a}}}function NR(t,e,n){var r=e[e.length-1]-e[0],i=(t-=e[0])/r,o=n.length,a,s;return{id:n[Math.floor(i*o)],offset:i*o%1-.5,ordinal:!0}}function zR(t,e){return t.invert?"number"!=typeof e[0]?"date":"number":"ordinal";var n,r}MR.chartLayout=TR;var SR={},ER={line:{mode:"line",has_lines:!0,stack:!1,has_axes:!0},area:{mode:"line",has_lines:!0,stack:!1,has_axes:!0,area:!0},area_single:{mode:"line",has_lines:!0,stack:!1,has_axes:!0,area:!0,single_series:!0},area_stacked:{mode:"line",stack:!0,has_lines:!0,has_axes:!0,area:!0,has_stack_labels:!0},area_prop:{mode:"line",stack:!0,has_lines:!0,proportional:!0,has_axes:!0,area:!0},area_stacked_stream:{mode:"line",stack:!0,has_lines:!0,has_axes:!0,hide_y_axis:!0,area:!0,stack_offset:!0},donut:{mode:"donut",stack:!1,has_axes:!1,legend_type:"row",single_series:!0},bar_grouped:{mode:"bar",stack:!1,has_axes:!0,legend_type:"either",values_on_x:!0},bar_stacked:{mode:"bar",stack:!0,has_axes:!0,legend_type:"either",values_on_x:!0,has_stack_labels:!0},bar_stacked_prop:{mode:"bar",stack:!0,legend_type:"either",proportional:!0,has_axes:!0,values_on_x:!0},column_grouped:{mode:"column",stack:!1,legend_type:"either",has_axes:!0},column_stacked:{mode:"column",stack:!0,legend_type:"either",has_axes:!0,has_stack_labels:!0},column_stacked_prop:{mode:"column",stack:!0,legend_type:"either",proportional:!0,has_axes:!0},column_grouped_line:{mode:"column",has_lines:!0,stack:!1,legend_type:"either",has_axes:!0,has_secondary_value_axis:!0},column_stacked_line:{mode:"column",has_lines:!0,stack:!0,legend_type:"either",has_axes:!0,has_secondary_value_axis:!0,has_stack_labels:!0},column_stacked_prop_line:{mode:"column",has_lines:!0,stack:!0,legend_type:"either",proportional:!0,has_axes:!0,has_secondary_value_axis:!0},area_stacked_line:{mode:"line",has_lines:!0,stack:!0,has_axes:!0,area:!0,has_secondary_value_axis:!0},line_line:{mode:"line",has_lines:!0,stack:!1,has_axes:!0,has_secondary_value_axis:!0}},LR={},DR;function CR(){var e=ER[aS.chart_type],t=e.proportional?"data_points_stack_prop":e.stack_offset?"data_points_stack_stream":e.stack?"data_points_stack":"data_points";function n(t){return!t&&e.proportional?"data_points_stack_prop":!t&&e.stack_offset?"data_points_stack_stream":!t&&e.stack?"data_points_stack":aS.line_interpolate?"data_points":"data_points_with_blanks"}var r="facets"===aS.facet_layout;LR={mode:e.mode,has_lines:e.has_lines,area:e.area,stack:e.stack,stack_offset:e.stack_offset,proportional:e.proportional,has_axes:e.has_axes,hide_y_axis:e.hide_y_axis,has_secondary_value_axis:e.has_secondary_value_axis,single_series:e.single_series,legend_type:e.legend_type||"column",facets_show:r,facet_by_series:r&&!("facet"in SR.data.column_names),values_on_x:e.values_on_x,data_points:t,getLineDataPoints:n,prev_mode:DR||e.mode,has_bar_labels:"bar"==e.mode&&aS.bar_labels_above,has_stack_labels:e.has_stack_labels,force_categorical:"bar"==e.mode||"column"==e.mode},DR=e.mode}var OR=Object.freeze({scale_type:"categorical",categorical_type:"palette",categorical_palette:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#FFFFFF",sequential_custom_max:"#000000",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#67001f",diverging_custom_mid:"#f7f7f7",diverging_custom_max:"#053061",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),PR=null,RR,YR=360/((1+Math.sqrt(5))/2),UR="#FF0000";function FR(c,u,d){return function(t,r){Array.isArray(t)||(t=t?[t]:[UR]),r=void 0!==r?r:YR;var e=t.map(function(t){return c(t)}).filter(function(t){return!isNaN(t[u])&&!isNaN(t[d])});e.length||(e=[c(UR)]);for(var n=e.length,i=e.reduce(function(t,e){return t+e[u]},0)/n,o=e.reduce(function(t,e){return t+e[d]},0)/n,a=n,s;s=e[--a].h,isNaN(s)&&0<a;);var l=0;return function t(){var e=++l*r,n;return yw(c((s+e)%360,i,o)).hex()}}}var BR,ZR,HR={hcl:FR(Ww,"c","l"),hsl:FR(Tw,"s","l")};function GR(t,e){var i={},n=jN(e).values(),r=t.categorical_palette,o=r.length,a,s,l;t.categorical_extend?(a=OR.rotation_angle,s="hcl",l=HR.hcl(r,a),n.forEach(function(t,e){i[t]=e<o?r[e]:l()})):n.forEach(function(t,e){i[t]=r[e%o]}),t.categorical_custom_palette.split("\n").filter(function(t){return t}).forEach(function(t){var e=t.lastIndexOf(":"),n,r;-1!==e&&(n=t.slice(0,e).trim(),r=t.slice(e+1).trim(),n&&r&&(i[n]=r))});var c=function(t){return i[t]};return c.domain=n.slice(),c.colors=n.map(function(t){return i[t]}),c.items=n.map(function(t){return{label:t,color:i[t]}}),c}function QR(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function qR(t){return vM(t[t.length-1])}var VR,WR=qR(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(QR)),$R,XR=qR(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(QR)),JR,KR=qR(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(QR)),tY,eY=qR(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(QR)),nY,rY=qR(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(QR)),iY,oY=qR(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(QR)),aY,sY=qR(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(QR)),lY,cY=qR(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(QR)),uY,dY=qR(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(QR)),fY,hY=qR(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(QR)),pY,gY=qR(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(QR)),_Y,yY=qR(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(QR)),mY,vY=qR(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(QR)),bY,xY=qR(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(QR)),wY,MY=qR(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(QR)),kY,jY=qR(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(QR)),AY,IY=qR(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(QR)),TY,NY=qR(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(QR)),zY,SY=qR(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(QR)),EY,LY=qR(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(QR)),DY,CY=qR(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(QR)),OY,PY=qR(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(QR)),RY,YY=qR(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(QR)),UY,FY=qR(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(QR)),BY,ZY=qR(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(QR)),HY,GY=qR(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(QR)),QY,qY=qR(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(QR)),VY=XM(sM(300,.5,0),sM(-240,.5,1)),WY=XM(sM(-100,.75,.35),sM(80,1.5,.8)),$Y=XM(sM(260,.75,.35),sM(80,1.5,.8)),XY=sM();function JY(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var KY=JY(QR("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),tU=JY(QR("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),eU=JY(QR("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),nU=JY(QR("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function rU(t,e,n,r){var i=e[0],o=e[e.length-1],a=[],s,l;"custom"==t.bin_mode?l=(s=t.bin_thresholds.split(";").map(parseFloat).filter(function(t){return!isNaN(t)&&(i<t&&t<o)}).sort(oU)).length+1:(l=Math.floor(t.bin_count),s=[]);var c=iU(r,l,e),u,u="fixed"==t.bin_mode?dD().domain([i,o]):"quantile"==t.bin_mode?uD().domain(n):fD().domain(s);u.range(c.colors),s.length||c.colors.forEach(function(t,e){e&&s.push(u.invertExtent(t)[0])}),s.forEach(function(t,e){e<s.length-1&&a.push((s[e+1]+t)/2)});var d=function(t){return isNaN(t)?null:u(t)};return d.domain=Object.freeze(e),d.thresholds=Object.freeze(s),d.centers=Object.freeze(a),d}function iU(t,e,n){for(var r=1/e,i=[],o=0;o<e;o++){var a=o/e+r/2,s=n[0]+a*(n[n.length-1]-n[0]);i.push(s)}var l=i.map(t);return{positions:i,colors:l}}function oU(t,e){return t-e}function aU(t){var e;return Array.isArray(t)?GI(t):[0,1]}var sU=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),lU=Object.freeze({Blues:PY,BuGn:hY,BuPu:gY,Carrots:vM(sU),Cool:$Y,CubehelixDefault:VY,GnBu:yY,Greens:YY,Greys:FY,Inferno:eU,Magma:tU,Oranges:qY,OrRd:vY,Plasma:nU,PuBu:MY,PuBuGn:xY,PuRd:jY,Purples:ZY,RdPu:IY,Reds:GY,Viridis:KY,Warm:WY,YlGn:SY,YlGnBu:NY,YlOrBr:LY,YlOrRd:CY}),cU={hcl:WM,hsl:QM,lab:qM,rgb:yM};function uU(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return cU[e](n,r)}function dU(n,t){var e=n.sequential_custom_domain&&!n.binning?[n.sequential_domain_min,n.sequential_domain_max]:aU(t),r,i=gD(function(t){var e=lU[n.sequential_palette]||uU(n);return n.sequential_reverse?e(1-t):e(t)}).domain(e),o=function(t){return isNaN(t)?null:i(t)};return o.domain=Object.freeze(e),n.binning?rU(n,e,t,o):o}var fU=Object.freeze({BrBG:WR,PiYG:KR,PRGn:XR,PuOr:eY,RdBu:rY,RdGy:oY,RdYlBu:sY,RdYlGn:cY,Spectral:dY}),hU={hcl:WM,hsl:QM,lab:qM,rgb:yM},pU;function gU(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return JM(hU[e],[n,r,i])}function _U(n,t){var e=aU(t),r=e[0]<0&&0<e[1]?0:(e[0]+e[1])/2,i=[e[0],r,e[1]];n.diverging_custom_domain&&(n.binning?i[1]=n.diverging_domain_mid:i=[n.diverging_domain_min,n.diverging_domain_mid,n.diverging_domain_max]);var o,a=yD(function(t){var e=fU[n.diverging_palette]||gU(n);return n.diverging_reverse?e(1-t):e(t)}).domain(i),s=function(t){return isNaN(t)?null:a(t)};return s.domain=Object.freeze(i),s.midpoint=n.diverging_custom_domain?n.diverging_domain_mid:r,n.binning?rU(n,i,t,s):s}function yU(e){var n=null;for(var t in OR)void 0===e[t]&&(e[t]=OR[t]);var r=PR,i=function(t){return"categorical"===e.scale_type?n=GR(e,t):"sequential"===e.numeric_type?n=dU(e,t):"diverging"===e.numeric_type&&(n=_U(e,t)),a.thresholds=n.thresholds,a.centers=n.centers,a.midpoint=n.midpoint,a.domain=n.domain,a.colors=n.colors,a.items=n.items,this},o,a=function(t){return n&&n(t)||r};return{getColor:a,updateColorScale:i,fallback:function(t){return void 0===t?r:(r="default"===t?PR:t,this)}}}function mU(t){if(OQ.isEditing()||OQ.state.annotation_selected_id)aS.highlighted&&(SU(),aS.highlighted=null);else if(nb.stopPropagation(),aS.highlighted)SU(),aS.highlighted=null;else{var e=this||document.getElementById(t);if(!aS.popup.show_popups)return;if(!e.getAttribute("data-type"))return;aS.highlighted=e.id,jF(!0)}}function vU(t){var e;!aS.popup.show_popups||aS.highlighted||OQ.isEditing()||OQ.state.annotation_selected_id||xU(this||document.getElementById(t)||document.getElementById(t+"-secondary"))}function bU(){!aS.popup.show_popups||aS.highlighted||OQ.isEditing()||OQ.state.annotation_selected_id||SU()}function xU(t){aS.popup.show_popups&&(("arc"==t.getAttribute("data-type")?zU:TU)(t),document.querySelector("#flourish-popup-"+$Q.popup.unique_id+" .flourish-popup-content").style.pointerEvents=aS.highlighted?"":"none")}function wU(t){return(t.secondary?oF:iF)(t.value_display)}function MU(t,e,n,r){if(void 0===t)return"";void 0===r&&(r="");var i="";return i+="<"+t+" style='"+r+"'>",i+=e?"<strong>"+e+": </strong>":"",i+=n,i+="</"+t+">"}function kU(){return"<div style='font-size: "+aS.popup.font_size+"px; color: "+aS.popup.text_color+"'>"}function jU(){return"</div>"}function AU(t,e,n){var r="";if(r+=kU(),aS.popup_color_headers||(n="inherit"),r+=MU("h1",void 0,e,"color: "+n),e in aF.series_popup_text&&(r+=MU("h2",null,aF.series_popup_text[e])),r+=MU("h2",aF.labelFormat(t.label),wU(t)),"metadata"in aF.column_names)for(var i=aF.column_names.metadata,o=0;o<i.length;o++){var a=(t.metadata||t.data.metadata)[o];a&&(r+=MU("h2",i[o],a))}return r+=jU(),r+="</div>"}function IU(){var t={};for(var e in aF.column_names)t[e]=aF.column_names[e];return t.row_values=aF.column_names.value,t.value_display="VALUE",t.label_formatted=t.label,delete t.label,t.SERIES="SERIES",t}function TU(t){var e=t.__data__||{},n=t.parentNode.__data__,r="row"==LR.legend_type?ZF(e.index):BF(n.index),i=AU(e,n.name,r),o;aS.popup.is_custom?(o=Object.assign({},e,{value_display:wU(e)}),$Q.addColumnNames(IU()),$Q.point(t).draw(o)):$Q.point(t).html(i).draw()}function NU(t){var e=t*(8/Math.PI);return e<1||15<e?["bottom","top"]:e<3?["bottomLeft","topRight"]:e<5?["left","right"]:e<7?["topLeft","bottomRight"]:e<9?["top","bottom"]:e<11?["topRight","bottomLeft"]:e<13?["right","left"]:["bottomRight","topLeft"]}function zU(t){var e=t.__data__||{},n=t.parentNode.__data__,r=e.startAngle+(e.endAngle-e.startAngle)/2,i=t.parentNode.getBoundingClientRect(),o=t.__centroid__,a=i.left+i.width/2+o[0],s=i.top+i.height/2+o[1],l="row"===LR.legend_type?ZF(e.data.label):BF(n.index),c=AU(e.data,n.name,l),u=$Q.popup.directions();$Q.directions(NU(r)),aS.popup.is_custom?($Q.addColumnNames(IU()),$Q.point(a,s).draw(e)):$Q.point(a,s).html(c).draw(),$Q.directions(u)}function SU(){$Q.hide()}function EU(e){document.fonts&&(e=e||function(){window.template.update()},document.fonts.ready.then(function(t){e(t),document.fonts.addEventListener("loadingdone",function(){e(t)})}).catch(function(t){console.log("Error loading fonts",t)}))}function LU(){EU(),yb("body").on("click",mU),yb(VQ.getSection("controls")).append("select").attr("id","series-filter").attr("multiple",!0),(pU=yb("#graphic").attr("fill","currentColor")).append("g").attr("class","annotations below"),pU.append("g").attr("id","areas"),pU.append("g").attr("id","lines"),pU.append("g").attr("id","data-points"),pU.append("g").attr("id","lines-secondary"),pU.append("g").attr("id","data-point-labels"),pU.append("g").attr("id","stack-labels"),pU.append("g").attr("class","annotations above"),iq.container(document.getElementById("lines")),$Q.container(VQ.getWrapper()),XQ.appendTo(VQ.getSection("legend")),JQ.appendTo(VQ.getSection("controls")).on("change",function(t){t==aS.log_control_y_text_linear?aS.y.numeric_scale_type="linear":t==aS.log_control_y_text_log&&(aS.y.numeric_scale_type="log"),jF()}),tq.appendTo(VQ.getSection("controls")).on("change",function(t){aS.row_filter=t==aS.row_filter_control_all_text?[]:[t],jF()}),KQ.appendTo(VQ.getSection("controls")).on("change",function(t){aS.series_filter=t==aS.series_control_single_all_text?[]:[t],jF()}),jF(!aS.animate_on_load||"except-data-points");var n=document.querySelector("#fl-layout-wrapper-outer"),r=n.getBoundingClientRect().width,i=VQ.getWrapper(),o=i.getBoundingClientRect().width;function t(){var t=n.getBoundingClientRect().width,e=i.getBoundingClientRect().width;t==r&&e==o&&!Flourish.fixed_height||(jF(!0),r=t,o=e)}window.addEventListener("resize",t,!1)}var DU=n(function(t,e){var n,r;n=i,r=function(){return i={},n.m=r=[function(t,e,n){t.exports=n(1)},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t},o,c=r(n(2)),a,s=r(n(3)),u,d=r(n(4)),p=n(31),A=n(32);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(33);var h=(i(g,[{key:"init",value:function(){var t;!0!==this.initialised&&(t=this.config.callbackOnInit,this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),t&&(0,A.isType)("Function",t)&&t.call(this))}},{key:"destroy",value:function(){var t;!1!==this.initialised&&(this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex"),t=this.passedElement.getAttribute("data-choice-orig-style"),Boolean(t)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",t)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1)}},{key:"renderGroups",value:function(t,r,e){var i=this,o=e||document.createDocumentFragment(),n=this.config.sortFilter;return this.config.shouldSort&&t.sort(n),t.forEach(function(e){var t=r.filter(function(t){return i.isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&!t.selected}),n;1<=t.length&&(n=i._getTemplate("choiceGroup",e),o.appendChild(n),i.renderChoices(t,o,!0))}),o}},{key:"renderChoices",value:function(t,e){var r=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=e||document.createDocumentFragment(),o=this.config,a=o.renderSelectedChoices,s=o.searchResultLimit,l=o.renderChoiceLimit,c=this.isSearching?A.sortByScore:this.config.sortFilter,u=function(t){var e,n;"auto"===a&&!r.isSelectOneElement&&t.selected||(n=r._getTemplate("choice",t),i.appendChild(n))},d=t;"auto"!==a||this.isSelectOneElement||(d=t.filter(function(t){return!t.selected}));var f=d.reduce(function(t,e){return e.placeholder?t.placeholderChoices.push(e):t.normalChoices.push(e),t},{placeholderChoices:[],normalChoices:[]}),h=f.placeholderChoices,p=f.normalChoices;(this.config.shouldSort||this.isSearching)&&p.sort(c);var g=d.length,_=[].concat(m(h),m(p));this.isSearching?g=s:0<l&&!n&&(g=l);for(var y=0;y<g;y++)_[y]&&u(_[y]);return i}},{key:"renderItems",value:function(t){var n=this,e,r=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||document.createDocumentFragment(),i,o,a;return this.config.shouldSortItems&&!this.isSelectOneElement&&t.sort(this.config.sortFilter),this.isTextElement?(o=this.store.getItemsReducedToValues(t).join(this.config.delimiter),this.passedElement.setAttribute("value",o),this.passedElement.value=o):(a=document.createDocumentFragment(),t.forEach(function(t){var e=n._getTemplate("option",t);a.appendChild(e)}),this.passedElement.innerHTML="",this.passedElement.appendChild(a)),t.forEach(function(t){var e=n._getTemplate("item",t);r.appendChild(e)}),r}},{key:"render",value:function(){var t,e,n,r,i,o,a,o,s,l;this.store.isLoading()||(this.currentState=this.store.getState(),this.currentState===this.prevState)||(this.currentState.choices===this.prevState.choices&&this.currentState.groups===this.prevState.groups&&this.currentState.items===this.prevState.items||!this.isSelectElement||(t=this.store.getGroupsFilteredByActive(),e=this.store.getChoicesFilteredByActive(),n=document.createDocumentFragment(),this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),1<=t.length&&!0!==this.isSearching?n=this.renderGroups(t,e,n):1<=e.length&&(n=this.renderChoices(e,n)),r=this.store.getItemsFilteredByActive(),i=this._canAddItem(r,this.input.value),n.childNodes&&0<n.childNodes.length?i.response?(this.choiceList.appendChild(n),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",i.notice)):(a=o=void 0,o=this.isSearching?(a=(0,A.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,this._getTemplate("notice",a,"no-results")):(a=(0,A.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,this._getTemplate("notice",a,"no-choices")),this.choiceList.appendChild(o))),this.currentState.items!==this.prevState.items&&(s=this.store.getItemsFilteredByActive(),this.itemList.innerHTML="",s&&s&&(l=this.renderItems(s)).childNodes&&this.itemList.appendChild(l)),this.prevState=this.currentState)}},{key:"highlightItem",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!t)return this;var n=t.id,r=t.groupId,i=0<=r?this.store.getGroupById(r):null;return this.store.dispatch((0,p.highlightItem)(n,!0)),e&&(i&&i.value?(0,A.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:t.value,label:t.label,groupValue:i.value}):(0,A.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:t.value,label:t.label})),this}},{key:"unhighlightItem",value:function(t){if(!t)return this;var e=t.id,n=t.groupId,r=0<=n?this.store.getGroupById(n):null;return this.store.dispatch((0,p.highlightItem)(e,!1)),r&&r.value?(0,A.triggerEvent)(this.passedElement,"unhighlightItem",{id:e,value:t.value,label:t.label,groupValue:r.value}):(0,A.triggerEvent)(this.passedElement,"unhighlightItem",{id:e,value:t.value,label:t.label}),this}},{key:"highlightAll",value:function(){var e=this,t;return this.store.getItems().forEach(function(t){e.highlightItem(t)}),this}},{key:"unhighlightAll",value:function(){var e=this,t;return this.store.getItems().forEach(function(t){e.unhighlightItem(t)}),this}},{key:"removeItemsByValue",value:function(e){var n=this,t;return e&&(0,A.isType)("String",e)&&this.store.getItemsFilteredByActive().forEach(function(t){t.value===e&&n._removeItem(t)}),this}},{key:"removeActiveItems",value:function(e){var n=this,t;return this.store.getItemsFilteredByActive().forEach(function(t){t.active&&e!==t.id&&n._removeItem(t)}),this}},{key:"removeHighlightedItems",value:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t;return this.store.getItemsFilteredByActive().forEach(function(t){t.highlighted&&t.active&&(e._removeItem(t),n&&e._triggerChange(t.value))}),this}},{key:"showDropdown",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=document.body,n=document.documentElement,r=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");var i=this.dropdown.getBoundingClientRect(),o=Math.ceil(i.top+window.scrollY+this.dropdown.offsetHeight),a=!1;return"auto"===this.config.position?a=r<=o:"top"===this.config.position&&(a=!0),a&&this.containerOuter.classList.add(this.config.classNames.flippedState),t&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,A.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),e&&this.containerOuter.classList.remove(this.config.classNames.flippedState),t&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,A.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){var t;return this.dropdown.classList.contains(this.config.classNames.activeState)?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var e=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.store.getItemsFilteredByActive(),r=[];return t.forEach(function(t){(e.isTextElement||t.active)&&r.push(n?t.value:t)}),this.isSelectOneElement?r[0]:r}},{key:"setValue",value:function(t){var n=this,e,r;return!0===this.initialised&&(e=[].concat(m(t)),r=function(t){var e=(0,A.getType)(t);if("Object"===e){if(!t.value)return;n.isTextElement?n._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder):n._addChoice(t.value,t.label,!0,!1,-1,t.customProperties,t.placeholder)}else"String"===e&&(n.isTextElement?n._addItem(t):n._addChoice(t,t,!0,!1,-1,null))},1<e.length?e.forEach(function(t){r(t)}):r(e[0])),this}},{key:"setValueByChoice",value:function(t){var n=this,r,e;return this.isTextElement||(r=this.store.getChoices(),((0,A.isType)("Array",t)?t:[t]).forEach(function(e){var t=r.find(function(t){return n.config.itemComparer(t.value,e)});t?t.selected?n.config.silent||console.warn("Attempting to select choice already selected"):n._addItem(t.value,t.label,t.id,t.groupId,t.customProperties,t.placeholder,t.keyCode):n.config.silent||console.warn("Attempting to select choice that does not exist")})),this}},{key:"setChoices",value:function(t,e,n){var r=this,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!0===this.initialised&&this.isSelectElement){if(!(0,A.isType)("Array",t)||!e)return this;i&&this._clearChoices(),this._setLoading(!0),t&&t.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),t.forEach(function(t){t.choices?r._addGroup(t,t.id||null,e,n):r._addChoice(t[e],t[n],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,p.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0))),this}},{key:"enable",value:function(){var t;return this.initialised&&(this.passedElement.disabled=!1,this.containerOuter.classList.contains(this.config.classNames.disabledState)&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))),this}},{key:"disable",value:function(){var t;return this.initialised&&(this.passedElement.disabled=!0,this.containerOuter.classList.contains(this.config.classNames.disabledState)||(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))),this}},{key:"ajax",value:function(t){var e=this;return!0===this.initialised&&this.isSelectElement&&(requestAnimationFrame(function(){e._handleLoadingState(!0)}),t(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(t){t&&(0,A.triggerEvent)(this.passedElement,"change",{value:t})}},{key:"_handleButtonAction",value:function(t,e){var n,r;t&&e&&this.config.removeItems&&this.config.removeItemButton&&(n=e.parentNode.getAttribute("data-id"),r=t.find(function(t){return t.id===parseInt(n,10)}),this._removeItem(r),this._triggerChange(r.value),this.isSelectOneElement&&this._selectPlaceholderChoice())}},{key:"_selectPlaceholderChoice",value:function(){var t=this.store.getPlaceholderChoice();t&&(this._addItem(t.value,t.label,t.id,t.groupId,null,t.placeholder),this._triggerChange(t.value))}},{key:"_handleItemAction",value:function(t,e){var n=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i;t&&e&&this.config.removeItems&&!this.isSelectOneElement&&(i=e.getAttribute("data-id"),t.forEach(function(t){t.id!==parseInt(i,10)||t.highlighted?r||t.highlighted&&n.unhighlightItem(t):n.highlightItem(t)}),document.activeElement!==this.input&&this.input.focus())}},{key:"_handleChoiceAction",value:function(t,e){var n,r,i,o,a;t&&e&&(n=e.getAttribute("data-id"),r=this.store.getChoiceById(n),i=t[0]&&t[0].keyCode?t[0].keyCode:null,o=this.dropdown.classList.contains(this.config.classNames.activeState),r.keyCode=i,(0,A.triggerEvent)(this.passedElement,"choice",{choice:r}),!r||r.selected||r.disabled||this._canAddItem(t,r.value).response&&(this._addItem(r.value,r.label,r.id,r.groupId,r.customProperties,r.placeholder,r.keyCode),this._triggerChange(r.value)),this.clearInput(),o&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus()))}},{key:"_handleBackspace",value:function(t){var e,n;this.config.removeItems&&t&&(e=t[t.length-1],n=t.some(function(t){return t.highlighted}),this.config.editItems&&!n&&e?(this.input.value=e.value,this._setInputWidth(),this._removeItem(e),this._triggerChange(e.value)):(n||this.highlightItem(e,!1),this.removeHighlightedItems(!0)))}},{key:"_canAddItem",value:function(t,e){var n=!0,r=(0,A.isType)("Function",this.config.addItemText)?this.config.addItemText(e):this.config.addItemText,i;return(this.isSelectMultipleElement||this.isTextElement)&&0<this.config.maxItemCount&&this.config.maxItemCount<=t.length&&(r=(n=!1,A.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&n&&this.config.regexFilter&&(n=this._regexFilter(e)),!t.some(function(t){return(0,A.isType)("String",e)?t.value===e.trim():t.value===e})||this.config.duplicateItems||this.isSelectOneElement||!n||(r=(n=!1,A.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(e):this.config.uniqueItemText),{response:n,notice:r}}},{key:"_handleLoadingState",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=this.itemList.querySelector("."+this.config.classNames.placeholder);t?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?e?e.innerHTML=this.config.loadingText:(e=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(e)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?e.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var i=this;return function(t,n,r){var e;t&&n&&((e=(0,A.isType)("Object",t)?[t]:t)&&(0,A.isType)("Array",e)&&e.length?(i._handleLoadingState(!1),i._setLoading(!0),e.forEach(function(t){var e;t.choices?(e=t.id||null,i._addGroup(t,e,n,r)):i._addChoice(t[n],t[r],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)}),i._setLoading(!1),i.isSelectOneElement&&i._selectPlaceholderChoice()):i._handleLoadingState(!1),i.containerOuter.removeAttribute("aria-busy"))}}},{key:"_searchChoices",value:function(t){var e=(0,A.isType)("String",t)?t.trim():t,n=(0,A.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(1<=e.length&&e!==n+" "){var r=this.store.getSearchableChoices(),i=e,o=(0,A.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],a=Object.assign(this.config.fuseOptions,{keys:o}),s,l=new c.default(r,a).search(i);return this.currentValue=e,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,p.filterChoices)(l)),l.length}return 0}},{key:"_handleSearch",value:function(t){var e,n,r;t&&(n=this.store.getChoices().some(function(t){return!t.active}),this.input===document.activeElement&&(t&&t.length>=this.config.searchFloor?(r=0,this.config.searchChoices&&(r=this._searchChoices(t)),(0,A.triggerEvent)(this.passedElement,"search",{value:t,resultCount:r})):n&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))))}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){(!this.placeholder||this.input.value&&this.input.value.length>=this.placeholder.length/1.25)&&(this.input.style.width=(0,A.getWidthOfInput)(this.input))}},{key:"_onKeyDown",value:function(i){var t,o=this,r,a,e,s,n,l,c,u,d,f,h,p,g,_,y,m,v,b,x,w,M,k;i.target!==this.input&&!this.containerOuter.contains(i.target)||(r=i.target,a=this.store.getItemsFilteredByActive(),e=this.input===document.activeElement,s=this.dropdown.classList.contains(this.config.classNames.activeState),n=this.itemList&&this.itemList.children,l=String.fromCharCode(i.keyCode),c=46,u=8,d=13,f=65,h=27,p=38,g=40,_=33,y=34,m=i.ctrlKey||i.metaKey,this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(l)||s||this.showDropdown(!0),this.canSearch=this.config.searchEnabled,b=function(){var t,e,n;o.isTextElement&&r.value&&(t=o.input.value,o._canAddItem(a,t).response&&(s&&o.hideDropdown(),o._addItem(t),o._triggerChange(t),o.clearInput())),r.hasAttribute("data-button")&&(o._handleButtonAction(a,r),i.preventDefault()),s?(i.preventDefault(),(n=o.dropdown.querySelector("."+o.config.classNames.highlightedState))&&(a[0]&&(a[0].keyCode=13),o._handleChoiceAction(a,n))):o.isSelectOneElement&&(s||(o.showDropdown(!0),i.preventDefault()))},x=function(){s&&(o.toggleDropdown(),o.containerOuter.focus())},w=function(){var t,e,n,r,n;(s||o.isSelectOneElement)&&(s||o.showDropdown(!0),o.canSearch=!1,t=40===i.keyCode||34===i.keyCode?1:-1,n=void 0,(n=i.metaKey||34===i.keyCode||33===i.keyCode?0<t?Array.from(o.dropdown.querySelectorAll("[data-choice-selectable]")).pop():o.dropdown.querySelector("[data-choice-selectable]"):(r=o.dropdown.querySelector("."+o.config.classNames.highlightedState))?(0,A.getAdjacentEl)(r,"[data-choice-selectable]",t):o.dropdown.querySelector("[data-choice-selectable]"))&&((0,A.isScrolledIntoView)(n,o.choiceList,t)||o._scrollToChoice(n,t),o._highlightChoice(n)),i.preventDefault())},M=function(){!e||i.target.value||o.isSelectOneElement||(o._handleBackspace(a),i.preventDefault())},j(t={},65,function(){m&&n&&(o.canSearch=!1,o.config.removeItems&&!o.input.value&&o.input===document.activeElement&&o.highlightAll())}),j(t,13,b),j(t,27,x),j(t,38,w),j(t,33,w),j(t,40,w),j(t,34,w),j(t,8,M),j(t,46,M),(k=t)[i.keyCode]&&k[i.keyCode]())}},{key:"_onKeyUp",value:function(t){var e,n,r,i,o,a,s;t.target===this.input&&(e=this.input.value,n=this.store.getItemsFilteredByActive(),r=this._canAddItem(n,e),this.isTextElement?(i=this.dropdown.classList.contains(this.config.classNames.activeState),e?(r.notice&&(o=this._getTemplate("notice",r.notice),this.dropdown.innerHTML=o.outerHTML),!0===r.response?i||this.showDropdown():!r.notice&&i&&this.hideDropdown()):i&&this.hideDropdown()):(s=8,(a=46)!==t.keyCode&&8!==t.keyCode||t.target.value?this.canSearch&&r.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))),this.canSearch=this.config.searchEnabled)}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(t){var e=t.target||t.touches[0].target,n=this.dropdown.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.containerOuter.contains(e)&&(e!==this.containerOuter&&e!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():n||this.showDropdown(!0)),t.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(t){var e=t.target,n,r,i;e===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(e)&&e!==this.input&&(n=void 0,r=this.store.getItemsFilteredByActive(),i=t.shiftKey,(n=(0,A.findAncestorByAttrName)(e,"data-button"))?this._handleButtonAction(r,n):(n=(0,A.findAncestorByAttrName)(e,"data-item"))?this._handleItemAction(r,n,i):(n=(0,A.findAncestorByAttrName)(e,"data-choice"))&&this._handleChoiceAction(r,n),t.preventDefault())}},{key:"_onClick",value:function(t){var e=t.target,n=this.dropdown.classList.contains(this.config.classNames.activeState),r=this.store.getItemsFilteredByActive(),i;this.containerOuter.contains(e)?(e.hasAttribute("data-button")&&this._handleButtonAction(r,e),n?this.isSelectOneElement&&e!==this.input&&!this.dropdown.contains(e)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus())):(r.some(function(t){return t.highlighted})&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),n&&this.hideDropdown())}},{key:"_onMouseOver",value:function(t){(t.target===this.dropdown||this.dropdown.contains(t.target))&&t.target.hasAttribute("data-choice")&&this._highlightChoice(t.target)}},{key:"_onPaste",value:function(t){t.target!==this.input||this.config.paste||t.preventDefault()}},{key:"_onFocus",value:function(t){var e=this,n=t.target,r,i;this.containerOuter.contains(n)&&(r=this.dropdown.classList.contains(this.config.classNames.activeState),{text:function(){n===e.input&&e.containerOuter.classList.add(e.config.classNames.focusState)},"select-one":function(){e.containerOuter.classList.add(e.config.classNames.focusState),n===e.input&&(r||e.showDropdown())},"select-multiple":function(){n===e.input&&(e.containerOuter.classList.add(e.config.classNames.focusState),r||e.showDropdown(!0))}}[this.passedElement.type]())}},{key:"_onBlur",value:function(t){var e=this,n=t.target,r,i,o,a;this.containerOuter.contains(n)&&!this.isScrollingOnIe?(r=this.store.getItemsFilteredByActive(),i=this.dropdown.classList.contains(this.config.classNames.activeState),o=r.some(function(t){return t.highlighted}),{text:function(){n===e.input&&(e.containerOuter.classList.remove(e.config.classNames.focusState),o&&e.unhighlightAll(),i&&e.hideDropdown())},"select-one":function(){e.containerOuter.classList.remove(e.config.classNames.focusState),n===e.containerOuter&&i&&!e.canSearch&&e.hideDropdown(),n===e.input&&i&&e.hideDropdown()},"select-multiple":function(){n===e.input&&(e.containerOuter.classList.remove(e.config.classNames.focusState),i&&e.hideDropdown(),o&&e.unhighlightAll())}}[this.passedElement.type]()):(this.isScrollingOnIe=!1,this.input.focus())}},{key:"_regexFilter",value:function(t){if(!t)return!1;var e=this.config.regexFilter,n;return new RegExp(e.source,"i").test(t)}},{key:"_scrollToChoice",value:function(t,a){var s=this,e,n,r,i,l,o;t&&(e=this.choiceList.offsetHeight,n=t.offsetHeight,r=t.offsetTop+n,i=this.choiceList.scrollTop+e,l=0<a?this.choiceList.scrollTop+r-i:t.offsetTop,o=function e(){var t=4,n=s.choiceList.scrollTop,r=!1,i=void 0,o=void 0;0<a?(o=1<(i=(l-n)/4)?i:1,s.choiceList.scrollTop=n+o,n<l&&(r=!0)):(o=1<(i=(n-l)/4)?i:1,s.choiceList.scrollTop=n-o,l<n&&(r=!0)),r&&requestAnimationFrame(function(t){e()})},requestAnimationFrame(function(t){o(t,l,a)}))}},{key:"_highlightChoice",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),r=t,i;n&&n.length&&(Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState)).forEach(function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute("aria-selected","false")}),r?this.highlightPosition=n.indexOf(r):r=(r=n.length>this.highlightPosition?n[this.highlightPosition]:n[n.length-1])||n[0],r.classList.add(this.config.classNames.highlightedState),r.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",r.id))}},{key:"_addItem",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null,s=(0,A.isType)("String",t)?t.trim():t,l=a,c=this.store.getItems(),u=e||s,d=parseInt(n,10)||-1,f=0<=r?this.store.getGroupById(r):null,h=c?c.length+1:1;return this.config.prependValue&&(s=this.config.prependValue+s.toString()),this.config.appendValue&&(s+=this.config.appendValue.toString()),this.store.dispatch((0,p.addItem)(s,u,h,d,r,i,o,l)),this.isSelectOneElement&&this.removeActiveItems(h),f&&f.value?(0,A.triggerEvent)(this.passedElement,"addItem",{id:h,value:s,label:u,groupValue:f.value,keyCode:l}):(0,A.triggerEvent)(this.passedElement,"addItem",{id:h,value:s,label:u,keyCode:l}),this}},{key:"_removeItem",value:function(t){if(!t||!(0,A.isType)("Object",t))return this;var e=t.id,n=t.value,r=t.label,i=t.choiceId,o=t.groupId,a=0<=o?this.store.getGroupById(o):null;return this.store.dispatch((0,p.removeItem)(e,i)),a&&a.value?(0,A.triggerEvent)(this.passedElement,"removeItem",{id:e,value:n,label:r,groupValue:a.value}):(0,A.triggerEvent)(this.passedElement,"removeItem",{id:e,value:n,label:r}),this}},{key:"_addChoice",value:function(t){var e,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null,l,c,u,d;null!=t&&(c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||t,u=(l=this.store.getChoices())?l.length+1:1,d=this.baseId+"-"+this.idNames.itemChoice+"-"+u,this.store.dispatch((0,p.addChoice)(t,c,u,i,r,d,o,a,s)),n&&this._addItem(t,c,u,void 0,o,a,s))}},{key:"_clearChoices",value:function(){this.store.dispatch((0,p.clearChoices)())}},{key:"_addGroup",value:function(t,e){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"value",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"label",o=(0,A.isType)("Object",t)?t.choices:Array.from(t.getElementsByTagName("OPTION")),a=e||Math.floor((new Date).valueOf()*Math.random()),s=!!t.disabled&&t.disabled;o?(this.store.dispatch((0,p.addGroup)(t.label,a,!0,s)),o.forEach(function(t){var e=t.disabled||t.parentNode&&t.parentNode.disabled;n._addChoice(t[r],(0,A.isType)("Object",t)?t[i]:t.innerHTML,t.selected,e,a,t.customProperties,t.placeholder)})):this.store.dispatch((0,p.addGroup)(t.label,t.id,!1,t.disabled))}},{key:"_getTemplate",value:function(t){if(!t)return null;for(var e=this.config.templates,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e[t].apply(e,r)}},{key:"_createTemplates",value:function(){var i=this,o=this.config.classNames,t={containerOuter:function(t){return(0,A.strToEl)('\n          <div\n            class="'+o.containerOuter+'"\n            '+(i.isSelectElement?i.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+'\n            data-type="'+i.passedElement.type+'"\n            '+(i.isSelectOneElement?'tabindex="0"':"")+'\n            aria-haspopup="true"\n            aria-expanded="false"\n            dir="'+t+'"\n            >\n          </div>\n        ')},containerInner:function(){return(0,A.strToEl)('\n          <div class="'+o.containerInner+'"></div>\n        ')},itemList:function(){var t,e=(0,s.default)(o.list,(j(t={},o.listSingle,i.isSelectOneElement),j(t,o.listItems,!i.isSelectOneElement),t));return(0,A.strToEl)('\n          <div class="'+e+'"></div>\n        ')},placeholder:function(t){return(0,A.strToEl)('\n          <div class="'+o.placeholder+'">\n            '+t+"\n          </div>\n        ")},item:function(t){var e,n=(0,s.default)(o.item,(j(e={},o.highlightedState,t.highlighted),j(e,o.itemSelectable,!t.highlighted),j(e,o.placeholder,t.placeholder),e));if(i.config.removeItemButton){var r,n=(0,s.default)(o.item,(j(r={},o.highlightedState,t.highlighted),j(r,o.itemSelectable,!t.disabled),j(r,o.placeholder,t.placeholder),r));return(0,A.strToEl)('\n            <div\n              class="'+n+'"\n              data-item\n              data-id="'+t.id+'"\n              data-value="'+t.value+'"\n              data-deletable\n              '+(t.active?'aria-selected="true"':"")+"\n              "+(t.disabled?'aria-disabled="true"':"")+"\n              >\n              "+t.label+'\x3c!--\n           --\x3e<button\n                type="button"\n                class="'+o.button+'"\n                data-button\n                aria-label="Remove item: \''+t.value+"'\"\n                >\n                Remove item\n              </button>\n            </div>\n          ")}return(0,A.strToEl)('\n          <div\n            class="'+n+'"\n            data-item\n            data-id="'+t.id+'"\n            data-value="'+t.value+'"\n            '+(t.active?'aria-selected="true"':"")+"\n            "+(t.disabled?'aria-disabled="true"':"")+"\n            >\n            "+t.label+"\n          </div>\n        ")},choiceList:function(){return(0,A.strToEl)('\n          <div\n            class="'+o.list+'"\n            dir="ltr"\n            role="listbox"\n            '+(i.isSelectOneElement?"":'aria-multiselectable="true"')+"\n            >\n          </div>\n        ")},choiceGroup:function(t){var e=(0,s.default)(o.group,j({},o.itemDisabled,t.disabled));return(0,A.strToEl)('\n          <div\n            class="'+e+'"\n            data-group\n            data-id="'+t.id+'"\n            data-value="'+t.value+'"\n            role="group"\n            '+(t.disabled?'aria-disabled="true"':"")+'\n            >\n            <div class="'+o.groupHeading+'">'+t.value+"</div>\n          </div>\n        ")},choice:function(t){var e,n=(0,s.default)(o.item,o.itemChoice,(j(e={},o.itemDisabled,t.disabled),j(e,o.itemSelectable,!t.disabled),j(e,o.placeholder,t.placeholder),e));return(0,A.strToEl)('\n          <div\n            class="'+n+'"\n            data-select-text="'+i.config.itemSelectText+'"\n            data-choice\n            data-id="'+t.id+'"\n            data-value="'+t.value+'"\n            '+(t.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\n            id="'+t.elementId+'"\n            '+(0<t.groupId?'role="treeitem"':'role="option"')+"\n            >\n            "+t.label+"\n          </div>\n        ")},input:function(){var t=(0,s.default)(o.input,o.inputCloned);return(0,A.strToEl)('\n          <input\n            type="text"\n            class="'+t+'"\n            autocomplete="off"\n            autocapitalize="off"\n            spellcheck="false"\n            role="textbox"\n            aria-autocomplete="list"\n            >\n        ')},dropdown:function(){var t=(0,s.default)(o.list,o.listDropdown);return(0,A.strToEl)('\n          <div\n            class="'+t+'"\n            aria-expanded="false"\n            >\n          </div>\n        ')},notice:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=(0,s.default)(o.item,o.itemChoice,(j(e={},o.noResults,"no-results"===n),j(e,o.noChoices,"no-choices"===n),e));return(0,A.strToEl)('\n          <div class="'+r+'">\n            '+t+"\n          </div>\n        ")},option:function(t){return(0,A.strToEl)('\n          <option value="'+t.value+'" selected>'+t.label+"</option>\n        ")}},e=this.config.callbackOnCreateTemplates,n={};e&&(0,A.isType)("Function",e)&&(n=e.call(this,A.strToEl)),this.config.templates=(0,A.extend)(t,n)}},{key:"_setLoading",value:function(t){this.store.dispatch((0,p.setIsLoading)(t))}},{key:"_createInput",value:function(){var r=this,t=this.passedElement.getAttribute("dir")||"ltr",e=this._getTemplate("containerOuter",t),n=this._getTemplate("containerInner"),i=this._getTemplate("itemList"),o=this._getTemplate("choiceList"),a=this._getTemplate("input"),s=this._getTemplate("dropdown");this.containerOuter=e,this.containerInner=n,this.input=a,this.choiceList=o,this.itemList=i,this.dropdown=s,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var l=this.passedElement.getAttribute("style"),c,u,d,f,h;Boolean(l)&&this.passedElement.setAttribute("data-choice-orig-style",l),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,A.wrap)(this.passedElement,n),(0,A.wrap)(n,e),this.isSelectOneElement?a.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(a.placeholder=this.placeholder,a.style.width=(0,A.getWidthOfInput)(a)),this.config.addItems||this.disable(),e.appendChild(n),e.appendChild(s),n.appendChild(i),this.isTextElement||s.appendChild(o),this.isSelectMultipleElement||this.isTextElement?n.appendChild(a):this.canSearch&&s.insertBefore(a,s.firstChild),this.isSelectElement?(c=Array.from(this.passedElement.getElementsByTagName("OPTGROUP")),this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),c&&c.length?c.forEach(function(t){r._addGroup(t,t.id||null)}):(u=Array.from(this.passedElement.options),d=this.config.sortFilter,f=this.presetChoices,u.forEach(function(t){f.push({value:t.value,label:t.innerHTML,selected:t.selected,disabled:t.disabled||t.parentNode.disabled,placeholder:t.hasAttribute("placeholder")})}),this.config.shouldSort&&f.sort(d),h=f.some(function(t){return t.selected}),f.forEach(function(t,e){var n;r.isSelectOneElement?(n=h||!h&&0<e,r._addChoice(t.value,t.label,!n||t.selected,!!n&&t.disabled,void 0,t.customProperties,t.placeholder)):r._addChoice(t.value,t.label,t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})),this._setLoading(!1)):this.isTextElement&&this.presetItems.forEach(function(t){var e=(0,A.getType)(t);if("Object"===e){if(!t.value)return;r._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder)}else"String"===e&&r._addItem(t)})}}]),g);function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(l(this,g),(0,A.isType)("String",t)){var n=document.querySelectorAll(t),r;if(1<n.length)for(var i=1;i<n.length;i++){new g(n[i],e)}}var o={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:A.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(t){return'Press Enter to add <b>"'+(0,A.stripHTML)(t)+'"</b>'},maxItemText:function(t){return"Only "+t+" values can be added."},itemComparer:function(t,e){return t===e},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null},a,s;if(this.idNames={itemChoice:"item-choice"},this.config=(0,A.extend)(o,e),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'."),this.config.renderSelectedChoices="auto"),this.store=new d.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=t,this.passedElement=(0,A.isType)("String",t)?document.querySelector(t):t,this.passedElement)if(this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),!(this.isScrollingOnIe=!1)===this.config.shouldSortItems&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,A.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0,"classList"in document.documentElement||this.config.silent||console.error("Choices: Your browser doesn't support Choices"),(0,A.isElement)(this.passedElement)&&this.isValidElementType){if("active"===this.passedElement.getAttribute("data-choice"))return;this.init()}else this.config.silent||console.error("Incompatible input passed");else this.config.silent||console.error("Passed element not found")}t.exports=h},function(t,e,n){function M(){console.log.apply(console,arguments)}function r(t,e){var n;for(n in this.list=t,this.options=e=e||{},a)a.hasOwnProperty(n)&&("boolean"==typeof a[n]?this.options[n]=n in e?e[n]:a[n]:this.options[n]=e[n]||a[n])}function c(t,e,n){var r,i,o,a,s,l;if(e){if(-1!==(o=e.indexOf("."))?(r=e.slice(0,o),i=e.slice(o+1)):r=e,null!=(a=t[r]))if(i||"string"!=typeof a&&"number"!=typeof a)if(k(a))for(s=0,l=a.length;s<l;s++)c(a[s],i,n);else i&&c(a,i,n);else n.push(a)}else n.push(t);return n}function k(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t,e){e=e||{},this.options=e,this.options.location=e.location||i.defaultOptions.location,this.options.distance="distance"in e?e.distance:i.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:i.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||i.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var o,a;a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:i,sortFn:function(t,e){return t.score-e.score},getFn:c,keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1},r.VERSION="2.7.3",r.prototype.set=function(t){return this.list=t},r.prototype.search=function(t){var e;return this.options.verbose&&M("\nSearch term:",t,"\n"),this.pattern=t,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort(),this._format()},r.prototype._prepareSearchers=function(){var t=this.options,e=this.pattern,n=t.searchFn,r=e.split(t.tokenSeparator),i=0,o=r.length;if(this.options.tokenize)for(this.tokenSearchers=[];i<o;i++)this.tokenSearchers.push(new n(r[i],t));this.fullSeacher=new n(e,t)},r.prototype._startSearch=function(){var t,e,n,r,i,o=this.options.getFn,a=this.list,s=a.length,l=this.options.keys,c=l.length,u=null;if("string"==typeof a[0])for(n=0;n<s;n++)this._analyze("",a[n],n,n);else for(this._keyMap={},n=0;n<s;n++)for(u=a[n],r=0;r<c;r++){if("string"!=typeof(t=l[r])){if(e=1-t.weight||1,this._keyMap[t.name]={weight:e},t.weight<=0||1<t.weight)throw new Error("Key weight has to be > 0 and <= 1");t=t.name}else this._keyMap[t]={weight:1};this._analyze(t,o(u,t,[]),u,n)}},r.prototype._analyze=function(t,e,n,r){var i,o,a,s,l,c,u,d,f,h,p,g,_,y,m,v=this.options,b=!1;if(null!=e){o=[];var x=0;if("string"==typeof e){if(i=e.split(v.tokenSeparator),v.verbose&&M("---------\nKey:",t),this.options.tokenize){for(y=0;y<this.tokenSearchers.length;y++){for(d=this.tokenSearchers[y],v.verbose&&M("Pattern:",d.pattern),g=!(f=[]),m=0;m<i.length;m++){h=i[m];var w={};(p=d.search(h)).isMatch?(w[h]=p.score,g=b=!0,o.push(p.score)):(w[h]=1,this.options.matchAllTokens||o.push(1)),f.push(w)}g&&x++,v.verbose&&M("Token scores:",f)}for(s=o[0],c=o.length,y=1;y<c;y++)s+=o[y];s/=c,v.verbose&&M("Token score average:",s)}u=this.fullSeacher.search(e),v.verbose&&M("Full text score:",u.score),l=u.score,void 0!==s&&(l=(l+s)/2),v.verbose&&M("Score average:",l),_=!this.options.tokenize||!this.options.matchAllTokens||x>=this.tokenSearchers.length,v.verbose&&M("Check Matches",_),(b||u.isMatch)&&_&&((a=this.resultMap[r])?a.output.push({key:t,score:l,matchedIndices:u.matchedIndices}):(this.resultMap[r]={item:n,output:[{key:t,score:l,matchedIndices:u.matchedIndices}]},this.results.push(this.resultMap[r])))}else if(k(e))for(y=0;y<e.length;y++)this._analyze(t,e[y],n,r)}},r.prototype._computeScore=function(){var t,e,n,r,i,o,a,s,l,c=this._keyMap,u=this.results;for(this.options.verbose&&M("\n\nComputing score:\n"),t=0;t<u.length;t++){for(n=0,i=(r=u[t].output).length,s=1,e=0;e<i;e++)l=(o=r[e].score)*(a=c?c[r[e].key].weight:1),1!==a?s=Math.min(s,l):(n+=l,r[e].nScore=l);u[t].score=1===s?n/i:s,this.options.verbose&&M(u[t])}},r.prototype._sort=function(){var t=this.options;t.shouldSort&&(t.verbose&&M("\n\nSorting...."),this.results.sort(t.sortFn))},r.prototype._format=function(){var t,e,n,r,i=this.options,o=i.getFn,a=[],s=this.results,l=i.include;for(i.verbose&&M("\n\nOutput:\n\n",s),n=i.id?function(t){s[t].item=o(s[t].item,i.id,[])[0]}:function(){},r=function(t){var e,n,r,i,o,a=s[t];if(0<l.length){if(e={item:a.item},-1!==l.indexOf("matches"))for(r=a.output,e.matches=[],n=0;n<r.length;n++)o={indices:(i=r[n]).matchedIndices},i.key&&(o.key=i.key),e.matches.push(o);-1!==l.indexOf("score")&&(e.score=s[t].score)}else e=a.item;return e},t=0,e=s.length;t<e;t++)n(t),a.push(r(t));return a},i.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},i.prototype._calculatePatternAlphabet=function(){for(var t={},e=0,e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},i.prototype._bitapScore=function(t,e){var n=t/this.patternLen,r=Math.abs(this.options.location-e);return this.options.distance?n+r/this.options.distance:r?1:n},i.prototype.search=function(t){var e,n,r,i,o,a,s,l,c,u,d,f,h,p,g,_,y,m,v,b,x,w,M,k=this.options;if(t=k.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0,matchedIndices:[[0,t.length-1]]};if(this.patternLen>k.maxPatternLength){if(v=!!(m=t.match(new RegExp(this.pattern.replace(k.tokenSeparator,"|")))))for(x=[],e=0,w=m.length;e<w;e++)M=m[e],x.push([t.indexOf(M),M.length-1]);return{isMatch:v,score:v?.5:1,matchedIndices:x}}for(i=k.findAllMatches,o=k.location,r=t.length,a=k.threshold,s=t.indexOf(this.pattern,o),b=[],e=0;e<r;e++)b[e]=0;for(-1!=s&&(a=Math.min(this._bitapScore(0,s),a),-1!=(s=t.lastIndexOf(this.pattern,o+this.patternLen))&&(a=Math.min(this._bitapScore(0,s),a))),s=-1,_=1,y=[],u=this.patternLen+r,e=0;e<this.patternLen;e++){for(l=0,c=u;l<c;)this._bitapScore(e,o+c)<=a?l=c:u=c,c=Math.floor((u-l)/2+l);for(u=c,d=Math.max(1,o-c+1),f=i?r:Math.min(o+c,r)+this.patternLen,(h=Array(f+2))[f+1]=(1<<e)-1,n=f;d<=n;n--)if((g=this.patternAlphabet[t.charAt(n-1)])&&(b[n-1]=1),h[n]=(h[n+1]<<1|1)&g,0!==e&&(h[n]|=(p[n+1]|p[n])<<1|1|p[n+1]),h[n]&this.matchmask&&(_=this._bitapScore(e,n-1))<=a){if(a=_,s=n-1,y.push(s),s<=o)break;d=Math.max(1,2*o-s)}if(this._bitapScore(e+1,o)>a)break;p=h}return{isMatch:0<=s,score:0===_?.001:_,matchedIndices:x=this._getMatchedIndices(b)}},i.prototype._getMatchedIndices=function(t){for(var e,n=[],r=-1,i=-1,o=0,a=t.length;o<a;o++)(e=t[o])&&-1===r?r=o:e||-1===r||((i=o-1)-r+1>=this.options.minMatchCharLength&&n.push([r,i]),r=-1);return t[o-1]&&o-1-r+1>=this.options.minMatchCharLength&&n.push([r,o-1]),n},t.exports=r},function(t,e,n){var r,i,o;function a(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"==r||"number"==r)t.push(n);else if(Array.isArray(n))t.push(a.apply(null,n));else if("object"==r)for(var i in n)o.call(n,i)&&n[i]&&t.push(i)}}return t.join(" ")}o={}.hasOwnProperty,void 0!==t&&t.exports?t.exports=a:void 0===(i=function(){return a}.apply(e,r=[]))||(t.exports=i)},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t},s=n(5),l,c=r(n(26)),u=(a(d,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(t){this.store.dispatch(t)}},{key:"subscribe",value:function(t){this.store.subscribe(t)}},{key:"isLoading",value:function(){var t;return this.store.getState().general.loading}},{key:"getItems",value:function(){var t;return this.store.getState().items}},{key:"getItemsFilteredByActive",value:function(){var t,e;return this.getItems().filter(function(t){return!0===t.active},[])}},{key:"getItemsReducedToValues",value:function(){var t,e;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getItems()).reduce(function(t,e){return t.push(e.value),t},[])}},{key:"getChoices",value:function(){var t;return this.store.getState().choices}},{key:"getChoicesFilteredByActive",value:function(){var t,e;return this.getChoices().filter(function(t){return!0===t.active})}},{key:"getChoicesFilteredBySelectable",value:function(){var t,e;return this.getChoices().filter(function(t){return!0!==t.disabled})}},{key:"getSearchableChoices",value:function(){var t;return this.getChoicesFilteredBySelectable().filter(function(t){return!0!==t.placeholder})}},{key:"getChoiceById",value:function(e){var t,n;return!!e&&this.getChoicesFilteredByActive().find(function(t){return t.id===parseInt(e,10)})}},{key:"getGroups",value:function(){var t;return this.store.getState().groups}},{key:"getGroupsFilteredByActive",value:function(){var t=this.getGroups(),r=this.getChoices(),e;return t.filter(function(t){var e=!0===t.active&&!1===t.disabled,n=r.some(function(t){return!0===t.active&&!1===t.disabled});return e&&n},[])}},{key:"getGroupById",value:function(e){var t,n;return this.getGroups().find(function(t){return t.id===e})}},{key:"getPlaceholderChoice",value:function(){var t=this.getChoices(),e;return[].concat(i(t)).reverse().find(function(t){return!0===t.placeholder})}}]),d);function d(){o(this,d),this.store=(0,s.createStore)(c.default,window.devToolsExtension?window.devToolsExtension():void 0)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.default=u,t.exports=u},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i,o=r(n(6)),a,s=r(n(21)),l,c=r(n(23)),u,d=r(n(24)),f,h=r(n(25)),p;r(n(22)),e.createStore=o.default,e.combineReducers=s.default,e.bindActionCreators=c.default,e.applyMiddleware=d.default,e.compose=h.default},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){function r(){h===f&&(h=f.slice())}function i(){return d}function o(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var n=!0;return r(),h.push(e),function(){var t;n&&(n=!1,r(),t=h.indexOf(e),h.splice(t,1))}}function a(t){if(!(0,_.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,d=u(d,t)}finally{p=!1}for(var e=f=h,n=0,r;n<e.length;n++){(0,e[n])()}return t}function s(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,a({type:m.INIT})}function l(){var t,r=o,t={subscribe:function(t){function e(){t.next&&t.next(d)}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");var n;return e(),{unsubscribe:r(e)}}};return t[y.default]=function(){return this},t}var c;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(g)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var u=t,d=e,f=[],h=f,p=!1;return a({type:m.INIT}),(c={dispatch:a,subscribe:o,getState:i,replaceReducer:s})[y.default]=l,c}e.__esModule=!0,e.ActionTypes=void 0,e.default=g;var i,_=r(n(7)),o,y=r(n(17)),m=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}var i=n(8),o=n(14),a=n(16),s="[object Object]",l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=u.call(Object);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?l:s:(c&&c in Object(t)?o:a)(t)}var i=n(9),o=n(12),a=n(13),s="[object Null]",l="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){var r,i=n(10).Symbol;t.exports=i},function(t,e,n){var r=n(11),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(n,t){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(t,function(){return this}())},function(t,e,n){function r(t){var e=a.call(t,l),n=t[l];try{var r=!(t[l]=void 0)}catch(t){}var i=s.call(t);return r&&(e?t[l]=n:delete t[l]),i}var i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r,i=Object.prototype.toString;t.exports=n},function(t,e,n){var r,i=n(15)(Object.getPrototypeOf,Object);t.exports=i},function(t,e){function n(e,n){return function(t){return e(n(t))}}t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){t.exports=n(18)},function(t,s,l){(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(s,"__esModule",{value:!0});var r,i,o=n(l(20)),r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:e,a=(0,o.default)(r);s.default=a}).call(s,function(){return this}(),l(19)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function h(t,e){var n=e&&e.type,r;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(i){Object.keys(i).forEach(function(t){var e=i[t],n,r;if(void 0===e(void 0,{type:a.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===e(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(t){for(var e=Object.keys(t),u={},n=0;n<e.length;n++){var r=e[n];"function"==typeof t[r]&&(u[r]=t[r])}var d=Object.keys(u),f=void 0;try{i(u)}catch(t){f=t}return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(f)throw f;for(var n=!1,r={},i=0;i<d.length;i++){var o=d[i],a=u[o],s=t[o],l=a(s,e);if(void 0===l){var c=h(o,e);throw new Error(c)}r[o]=l,n=n||l!==s}return n?r:t}}e.__esModule=!0,e.default=o;var a=n(6),s,l=(r(n(7)),n(22));r(l)},function(t,e){function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=n},function(t,e){function s(t,e){return function(){return e(t.apply(void 0,arguments))}}function n(t,e){if("function"==typeof t)return s(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"==typeof a&&(r[o]=s(a,e))}return r}e.__esModule=!0,e.default=n},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function i(){for(var t=arguments.length,l=Array(t),e=0;e<t;e++)l[e]=arguments[e];return function(s){return function(t,e,n){var r=s(t,e,n),i=r.dispatch,o=[],a={getState:r.getState,dispatch:function(t){return i(t)}},o=l.map(function(t){return t(a)}),i=u.default.apply(void 0,o)(r.dispatch);return c({},r,{dispatch:i})}}}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var o,u=r(n(25))},function(t,e){function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.__esModule=!0,e.default=n},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o,a=r(n(27)),s,l=r(n(28)),c,u=r(n(29)),d,f=r(n(30)),h=(0,i.combineReducers)({items:a.default,groups:l.default,choices:u.default,general:f.default}),p=function(t,e){var n=t;return"CLEAR_ALL"===e.type&&(n=void 0),h(n,e)};e.default=p},function(t,e){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n;switch(e.type){case"ADD_ITEM":return[].concat(r(t),[{id:e.id,choiceId:e.choiceId,groupId:e.groupId,value:e.value,label:e.label,active:!0,highlighted:!1,customProperties:e.customProperties,placeholder:e.placeholder||!1,keyCode:null}]).map(function(t){return t.highlighted&&(t.highlighted=!1),t});case"REMOVE_ITEM":return t.map(function(t){return t.id===e.id&&(t.active=!1),t});case"HIGHLIGHT_ITEM":return t.map(function(t){return t.id===e.id&&(t.highlighted=e.highlighted),t});default:return t}};e.default=n},function(t,e){function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case"ADD_GROUP":return[].concat(n(t),[{id:e.id,value:e.value,active:e.active,disabled:e.disabled}]);case"CLEAR_CHOICES":return t.groups=[];default:return t}};e.default=r},function(t,e){function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case"ADD_CHOICE":return[].concat(o(t),[{id:e.id,elementId:e.elementId,groupId:e.groupId,value:e.value,label:e.label||e.value,disabled:e.disabled||!1,selected:!1,active:!0,score:9999,customProperties:e.customProperties,placeholder:e.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var n=t;return e.activateOptions&&(n=t.map(function(t){return t.active=e.active,t})),-1<e.choiceId&&(n=t.map(function(t){return t.id===parseInt(e.choiceId,10)&&(t.selected=!0),t})),n;case"REMOVE_ITEM":return-1<e.choiceId?t.map(function(t){return t.id===parseInt(e.choiceId,10)&&(t.selected=!1),t}):t;case"FILTER_CHOICES":var r=e.results,i;return t.map(function(e){return e.active=r.some(function(t){return t.item.id===e.id&&(e.score=t.score,!0)}),e});case"ACTIVATE_CHOICES":return t.map(function(t){return t.active=e.active,t});case"CLEAR_CHOICES":return t.choices=[];default:return t}};e.default=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{loading:!1},e=arguments[1];switch(e.type){case"LOADING":return{loading:e.isLoading};default:return t}};e.default=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.addItem=function(t,e,n,r,i,o,a,s){return{type:"ADD_ITEM",value:t,label:e,id:n,choiceId:r,groupId:i,customProperties:o,placeholder:a,keyCode:s}},e.removeItem=function(t,e){return{type:"REMOVE_ITEM",id:t,choiceId:e}},e.highlightItem=function(t,e){return{type:"HIGHLIGHT_ITEM",id:t,highlighted:e}},e.addChoice=function(t,e,n,r,i,o,a,s,l){return{type:"ADD_CHOICE",value:t,label:e,id:n,groupId:r,disabled:i,elementId:o,customProperties:a,placeholder:s,keyCode:l}},e.filterChoices=function(t){return{type:"FILTER_CHOICES",results:t}},e.activateChoices=function(){var t;return{type:"ACTIVATE_CHOICES",active:!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},e.clearChoices=function(){return{type:"CLEAR_CHOICES"}},e.addGroup=function(t,e,n,r){return{type:"ADD_GROUP",value:t,id:e,active:n,disabled:r}},e.clearAll=function(){return{type:"CLEAR_ALL"}},e.setIsLoading=function(t){return{type:"LOADING",isLoading:t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(e.capitalise=function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},e.generateChars=function(t){for(var e="",n=0,r;n<t;n++){e+=l(0,36).toString(36)}return e}),i=(e.generateId=function(t,e){var n=t.id||t.name&&t.name+"-"+r(2)||r(4),n;return e+(n=n.replace(/(:|\.|\[|\]|,)/g,""))},e.getType=function(t){return Object.prototype.toString.call(t).slice(8,-1)}),a=e.isType=function(t,e){var n=i(e);return null!=e&&n===t},o=(e.isNode=function(t){return"object"===("undefined"==typeof Node?"undefined":n(Node))?t instanceof Node:t&&"object"===(void 0===t?"undefined":n(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},e.isElement=function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":n(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},e.extend=function n(){for(var r={},t=arguments.length,e=function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a("Object",t[e])?r[e]=n(!0,r[e],t[e]):r[e]=t[e])},i=0;i<t;i++){var o=arguments[i];a("Object",o)&&e(o)}return r},e.whichTransitionEvent=function(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]},e.whichAnimationEvent=function(){var t,e=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}),s=(e.getParentsUntil=function(t,e,n){for(var r=[],i;t&&t!==document;t=t.parentNode){if(e){var o=e.charAt(0);if("."===o&&t.classList.contains(e.substr(1)))break;if("#"===o&&t.id===e.substr(1))break;if("["===o&&t.hasAttribute(e.substr(1,e.length-1)))break;if(t.tagName.toLowerCase()===e)break}n?("."===(i=n.charAt(0))&&t.classList.contains(n.substr(1))&&r.push(t),"#"===i&&t.id===n.substr(1)&&r.push(t),"["===i&&t.hasAttribute(n.substr(1,n.length-1))&&r.push(t),t.tagName.toLowerCase()===n&&r.push(t)):r.push(t)}return 0===r.length?null:r},e.wrap=function(t,e){return e=e||document.createElement("div"),t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e.appendChild(t)},e.getSiblings=function(t){for(var e=[],n=t.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==t&&e.push(n);return e},e.findAncestor=function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t},e.findAncestorByAttrName=function(t,e){for(var n=t;n;){if(n.hasAttribute(e))return n;n=n.parentElement}return null},e.debounce=function(i,o,a){var s;return function(){var t=this,e=arguments,n=function(){s=null,a||i.apply(t,e)},r=a&&!s;clearTimeout(s),s=setTimeout(n,o),r&&i.apply(t,e)}},e.getElemDistance=function(t){var e=0;if(t.offsetParent)for(;e+=t.offsetTop,t=t.offsetParent;);return 0<=e?e:0},e.getElementOffset=function(t,e){var n=e;return 1<n&&(n=1),0<n&&(n=0),Math.max(t.offsetHeight*n)},e.getAdjacentEl=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(t&&e){var r=t.parentNode.parentNode,i=Array.from(r.querySelectorAll(e)),o=i.indexOf(t),a;return i[o+(0<n?1:-1)]}},e.getScrollPosition=function(t){return"bottom"===t?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},e.isInView=function(t,e,n){return this.getScrollPosition(e)>this.getElemDistance(t)+this.getElementOffset(t,n)},e.isScrolledIntoView=function(t,e){var n;if(t){var r=void 0;return 0<(2<arguments.length&&void 0!==arguments[2]?arguments[2]:1)?e.scrollTop+e.offsetHeight>=t.offsetTop+t.offsetHeight:t.offsetTop>=e.scrollTop}},e.stripHTML=function(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}),l=(e.addAnimation=function(e,n){var r=o(),t=function t(){e.classList.remove(n),e.removeEventListener(r,t,!1)};e.classList.add(n),e.addEventListener(r,t,!1)},e.getRandomNumber=function(t,e){return Math.floor(Math.random()*(e-t)+t)}),c=e.strToEl=(u=document.createElement("div"),function(t){var e=t.trim(),n=void 0;for(u.innerHTML=e,n=u.children[0];u.firstChild;)u.removeChild(u.firstChild);return n}),u;e.getWidthOfInput=function(t){var e=t.value||t.placeholder,n=t.offsetWidth,r,i;return e&&((r=c("<span>"+s(e)+"</span>")).style.position="absolute",r.style.padding="0",r.style.top="-9999px",r.style.left="-9999px",r.style.width="auto",r.style.whiteSpace="pre",document.body.contains(t)&&window.getComputedStyle&&(i=window.getComputedStyle(t))&&(r.style.fontSize=i.fontSize,r.style.fontFamily=i.fontFamily,r.style.fontWeight=i.fontWeight,r.style.fontStyle=i.fontStyle,r.style.letterSpacing=i.letterSpacing,r.style.textTransform=i.textTransform,r.style.padding=i.padding),document.body.appendChild(r),e&&r.offsetWidth!==t.offsetWidth&&(n=r.offsetWidth+4),document.body.removeChild(r)),n+"px"},e.sortByAlpha=function(t,e){var n=(t.label||t.value).toLowerCase(),r=(e.label||e.value).toLowerCase();return n<r?-1:r<n?1:0},e.sortByScore=function(t,e){return t.score-e.score},e.triggerEvent=function(t,e){var n,r=new CustomEvent(e,{detail:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,bubbles:!0,cancelable:!0});return t.dispatchEvent(r)}},function(t,e){function n(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}var r,c,i,o,u;Array.from||(Array.from=(r=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===r.call(t)},i=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e},o=Math.pow(2,53)-1,u=function(t){var e=i(t);return Math.min(Math.max(e,0),o)},function(t){var e=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!c(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(r=arguments[2])}for(var o,a=u(n.length),s=c(e)?Object(new e(a)):new Array(a),l=0;l<a;)o=n[l],s[l]=i?void 0===r?i(o,l):i.call(r,o,l):o,l+=1;return s.length=a,s})),Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(e=n[o],t.call(i,e,o,n))return e}),n.prototype=window.Event.prototype,window.CustomEvent=n}],n.c=i,n.p="/assets/scripts/dist/",n(0);function n(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return r[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r,i},t.exports=r()}),CU=e(DU),OU=DU.Choices,PU,RU,YU;function UU(){jF()}var FU=new AD,BU,ZU,HU,GU,QU,qU;function VU(){$U(),PU.style.display="block",(YU=new CU(PU,{removeItemButton:!0,placeholderValue:aS.series_control_multi_text,noChoicesText:aS.series_control_multi_none_text,maxItemCount:aS.max_series,position:"stack-2"==aS.layout.layout_order||"stack-3"==aS.layout.layout_order?"top":"bottom",itemSelectText:aS.series_control_select_text})).setValueByChoice(aS.series_filter);var t=(RU=document.querySelector(".choices")).querySelector("div.choices__inner");t.style.display="flex";var e=t.querySelector("input.choices__input").style;e.width=null,e.flex="1 1 auto",e.flexShrink="0",e.overflow="hidden",e.textOverflow="ellipsis",e.whiteSpace="nowrap",e.minWidth=0,PU.addEventListener("change",function(){aS.series_filter=YU.getValue().map(function(t){return t.value}),UU()})}function WU(){YU&&YU.destroy(),PU.style.display="none",YU=null}function $U(){var t=yb(PU).selectAll("option").data(SR.data.column_names.value),e=t.enter().append("option");t.merge(e).attr("value",function(t){return t}).text(function(t){return t}),t.exit().remove()}function XU(){PU=PU||document.getElementById("series-filter");var t=BU!=aS.series_control_multi_text||ZU!=aS.series_control_multi_none_text||HU!=aS.series_control_select_text||GU!=aS.max_series||qU!=aS.layout.layout_order,e=SR.data.column_names.value.join("")!=QU;"multi"==aS.series_filter_mode?(YU?(t||e)&&(YU.destroy(),VU()):VU(),YU.removeActiveItems(),YU.setValueByChoice(aS.series_filter),BU=aS.series_control_multi_text,ZU=aS.series_control_multi_none_text,HU=aS.series_control_select_text,GU=aS.max_series,QU=SR.data.column_names.value.join(""),qU=aS.layout.layout_order,FU.select(".choices__inner").style("background",aS.series_control_background||aS.layout.background_color).style("border-color",aS.series_control_border),FU.select(".choices__input").style("background",aS.series_control_background||aS.layout.background_color).style("color",aS.series_control_text||aS.layout.font_color).style("font-size","1rem").style("margin-bottom","2px"),FU.select("::placeholder").style("color",aS.series_control_text||aS.layout.font_color),FU.select(".choices__list").style("color","#333333"),FU.select(".choices__list--dropdown .choices__item").style("font-size","1rem"),FU.select(".choices .choices__inner .choices__item").style("color",aS.series_control_pill_text).style("background-color",aS.series_control_pill_background).style("border-color",aS.series_control_pill_text).style("border-radius",aS.series_control_pill_radius+"px").style("font-size","1rem"),document.head.querySelector("#choices-styles").innerHTML=FU.print(),FU.clear()):WU()}function JU(){var t="single"==aS.series_filter_mode?SR.data.column_names.value:[];t.length&&aS.series_control_single_all&&(t=[aS.series_control_single_all_text].concat(t)),KQ.options(t).value(aS.series_filter[0]||t[0]||null).update()}function KU(){var t=aF.row_filter_values;t.length&&aS.row_filter_control_all&&(t=[aS.row_filter_control_all_text].concat(t)),tq.options(t).value(aS.row_filter).update()}function tF(){var t=aS.log_control_y_visible&&"line"==LR.mode;JQ.options(t?[aS.log_control_y_text_linear,aS.log_control_y_text_log]:[]).value("log"==aS.y.numeric_scale_type?aS.log_control_y_text_log:aS.log_control_y_text_linear).update()}function eF(){JU(),XU(),KU(),tF()}var nF=aS.line_curve,rF=LR.mode,iF,oF,aF,sF,lF,cF,uF,dF,fF,hF,pF,gF,_F,yF,mF,vF,bF,xF,wF,MF,kF;function jF(t){iF=QQ(GQ.getFormatterFunction()),oF=qQ(GQ.getFormatterFunction()),document.body.setAttribute("class","chart-type-"+aS.chart_type.replace(/_/g,"-")),CR();var e=t||"line"==LR.mode&&"line"===rF&&aS.line_curve!==nF;nF=aS.line_curve,rF=LR.mode,NF(),eF(),FF(),AF(),VQ.update(),VF(),PQ(e),pU.attr("font-family",aS.layout.body_font.name),AF(),YQ()}function AF(){eq.update(),nq.update(),rq.update()}function IF(t){if("number"==aF.label_type){var e=vF(t);return!isNaN(e)&&LR.force_categorical?e.toString():isNaN(e)?null:e}if("datetime"!=aF.label_type)return""==t?null:t;var n=aF.labelParse(t);return LR.force_categorical?n?n.toString():null:n||null}function TF(t,e){return"data"==aS.sort_mode?[BI,PI]["ascending"==aS.sort_direction?1:0](t.row_index,e.row_index):"label"==aS.sort_mode?[BI,PI]["ascending"==aS.sort_direction?1:0](t.label,e.label):"value"==aS.sort_mode?[BI,PI]["ascending"==aS.sort_direction?1:0](t.value,e.value):void 0}function NF(){vF=GQ.getParser();var t=LR.has_secondary_value_axis||!1;if(!SR.data.processed||sF!=LR.facets_show||aS.localization.input_decimal_separator!=lF||aS.series_filter.toString()!=uF||aS.label_filter.toString()!=dF||aS.series_filter_mode!=pF||aS.max_series!=cF||aS.label_data_type!=fF||aS.datetime_input_format!=hF||t!=yF||aS.secondary_series!=mF||LR.force_categorical!=bF||aS.sort_mode!=xF||aS.sort_direction!=wF||aS.row_filter!=gF||aS.row_filter_all!=_F||aS.number_format_prop!=MF||aS.popup_series_text!=kF){var n="filter"in SR.data.column_names,r={},i=[];SR.data.forEach(function(t,e){t.row_index=e,n&&!r[t.filter]&&""!==t.filter&&(r[t.filter]=!0,i.push(t.filter))}),SR.data.column_names.value.forEach(function(t,e){SR.data.column_names.value[e]=""==t?"Series "+(e+1):t.trim()});var m={};if(t)for(var e=0;e<aS.secondary_series;e++)m[e]=!0;"single"==aS.series_filter_mode&&(0!=aS.series_filter.length||aS.series_control_single_all?aS.series_filter=aS.series_filter.slice(0,1):aS.series_filter=[SR.data.column_names.value[0]]),"none"==aS.legend_filter_mode&&"none"==aS.series_filter_mode&&pF&&"none"!=pF&&(aS.series_filter=[]);for(var o=0<aS.series_filter.length,a={},e=0;e<aS.series_filter.length;e++){var s=SR.data.column_names.value.indexOf(aS.series_filter[e]);a[s]=!0}var v=SR.data.map(function(t){var e=o?t.value.filter(function(t,e){return a[e]}):t.value,n={row_index:t.row_index,label:t.label,value:e.slice(0,aS.max_series),metadata:t.metadata};return"facet"in t&&(n.facet=t.facet),"filter"in t&&(n.filter=t.filter),n});if(n?(0!=aS.row_filter.length||aS.row_filter_control_all||aS.row_filter.push(i[0]),v=v.filter(function(t){return null==t.filter||0==aS.row_filter.length||t.filter==aS.row_filter})):aS.row_filter=[],0<aS.label_filter.length){for(var l={},e=0;e<aS.label_filter.length;e++)l[aS.label_filter[e]]=!0;v=v.filter(function(t){return l[t.label]})}for(var c in v.column_names={},SR.data.column_names)"value"!=c?v.column_names[c]=SR.data.column_names[c]:v.column_names.value=SR.data.column_names.value.filter(function(t,e){return!o||a[e]}).slice(0,aS.max_series);if(aF=[],LR.facet_by_series)for(var u=0;u<v.column_names.value.length;u++)aF.push({key:v.column_names.value[u],values:v.slice()});else aF=mN().key(function(t){return t.facet||""}).entries(v),LR.facets_show||(aF=[aF[0]||{key:"",values:[]}]);var d=WQ(v,"label")[0],f,h,p,g,_,f="auto"==aS.label_data_type?"line"!=LR.mode?"categorical":d.type:aS.label_data_type;aF.label_type=f,aF.label_description=d.description,aF.labelTest=d.test,aF.labelParse=function(t){return"auto"==aS.datetime_input_format?d.parse(t):Kj(aS.datetime_input_format)(t)},aF.labelFormat=function(t){if("number"==aF.label_type)return LR.force_categorical?t:iF(t);if("datetime"!=aF.label_type)return t;var e,e="auto"==aS.x_axis_date_format?"auto"===aS.datetime_input_format?aF.label_description:aS.datetime_input_format:aS.x_axis_date_format;return LR.force_categorical?Jj(e)(new Date(t)):Jj(e)(t)},aF.label_extent=GI(v,function(t){return IF(t.label)}),void 0===(h=eT(v,function(t){return eT(t.value.map(function(t,e){return m[e]?null:vF(t)}))}))&&(h=0),void 0===(p=tT(v,function(t){return tT(t.value.map(function(t,e){return m[e]?null:vF(t)}))}))&&(p=Math.max(h+100,100)),aF.value_extent=[h,p],aF.value_extent_stack=[h,p],g=eT(v,function(t){return eT(t.value.map(function(t,e){return m[e]?vF(t):null}))}),_=tT(v,function(t){return tT(t.value.map(function(t,e){return m[e]?vF(t):null}))}),aF.value_extent_secondary=[g,_],aF.stack_labels=[],aF.forEach(function(t,e){t.name=t.key,t.index=e,t.series=[],t.series_primary=[],t.series_secondary=[],t.label_extent=aF.label_extent.slice(),t.label_type=aF.label_type,t.label_domain_to_sort=[],t.label_domain=t.values.map(function(t){return IF(t.label)}).filter(function(t){return null!=t}),t.dataset_value_extent_stack=aF.value_extent_stack,t.dataset_value_extent=aF.value_extent,t.dataset_value_extent_secondary=aF.value_extent_secondary,t.value_extent=[0,0],t.value_extent_stack=[0,0],t.value_extent_secondary=[0,0],t.value_extent_stack_secondary=[0,0],t.stack_totals_lookup={};for(var n=0,r=LR.facet_by_series?e:0;r<(LR.facet_by_series?e+1:v.column_names.value.length);r++){for(var i={name:v.column_names.value[r],index:r,index_primary:m[r]?null:n++,data_points:[],data_points_with_blanks:[],data_points_stack:[],data_points_stack_prop:[],data_points_stack_stream:[],data_points_positive_sum:0,data_point_stack_max:0,secondary:m[r]},o=0;o<t.values.length;o++){var a,s=IF((a=t.values[o]).label),l=vF(a.value[r]),c,u;null!=s&&(isNaN(l)?i.data_points_with_blanks.push(null):(u={label:s,label_formatted:aF.labelFormat(s),row_values:a.value,value:l,value_display:l,series:r,series_primary:i.index_primary,secondary:i.secondary,index:o,facet:t,row_index:a.row_index,metadata:a.metadata,SERIES:i.name},i.data_points.push(u),i.data_points_with_blanks.push(u)),0<l&&(i.data_points_positive_sum+=l),i.secondary?(l<t.value_extent_secondary[0]&&(t.value_extent_secondary[0]=l),l>t.value_extent_secondary[1]&&(t.value_extent_secondary[1]=l)):(l<t.value_extent[0]&&(t.value_extent[0]=l),l>t.value_extent[1]&&(t.value_extent[1]=l)))}i.secondary?t.series_secondary.push(i):t.series_primary.push(i),t.series.push(i)}for(var o=0;o<t.values.length;o++){for(var a,d=0,f=0,s=IF((a=t.values[o]).label),h=0,r=LR.facet_by_series?e:0;r<(LR.facet_by_series?e+1:v.column_names.value.length);r++)m[r]||(h+=Math.max(0,vF(a.value[r])||0));for(var p=100/h,g=h/2,r=LR.facet_by_series?e:0,l,_,y,i;r<(LR.facet_by_series?e+1:v.column_names.value.length);r++){m[r]||(_=(l=vF(a.value[r])||0)<0?f:d,y=v.column_names.value[r],null!=s&&((i=t.series[LR.facet_by_series?0:r]).data_points_stack.push({label:s,label_formatted:aF.labelFormat(s),row_values:a.value,value:_+l,value_display:l,value_base:_,series:r,series_primary:i.series_primary,index:o,facet:t,row_index:a.row_index,metadata:a.metadata,SERIES:y}),isFinite(p)&&(i.data_points_stack_prop.push({label:s,label_formatted:aF.labelFormat(s),row_values:a.value,value:p*(Math.max(0,l)+d),value_display:l*(aS.number_format_prop?p:1),value_base:p*d,series:r,series_primary:i.series_primary,index:o,facet:t,row_index:a.row_index,metadata:a.metadata,SERIES:y}),i.data_points_stack_stream.push({label:s,label_formatted:aF.labelFormat(s),row_values:a.value,value:Math.max(0,l)+d-g,value_display:l,value_base:d-g,series:r,series_primary:i.series_primary,index:o,facet:t,row_index:a.row_index,metadata:a.metadata,SERIES:y})),l<0?f+=l:d+=l,f<t.value_extent_stack[0]&&(t.value_extent_stack[0]=f),d>t.value_extent_stack[1]&&(t.value_extent_stack[1]=d),f<aF.value_extent_stack[0]&&(aF.value_extent_stack[0]=f),d>aF.value_extent_stack[1]&&(aF.value_extent_stack[1]=d)))}t.label_domain_to_sort.push({label:s,value:d+f,row_index:a.row_index}),0<d&&aF.stack_labels.push({label:s,value:d,facet:t,stack_label:!0}),f<0&&aF.stack_labels.push({label:s,value:f,facet:t,stack_label:!0}),t.stack_totals_lookup[s]=[f,d]}t.label_domain=t.label_domain_to_sort.sort(function(t,e){return LR.force_categorical?TF(t,e):PI(t.row_index,e.row_index)}).map(function(t){return t.label}).filter(function(t){return null!=t})});var y=tT(aF,function(t){return tT(t.series.map(function(t){return t.data_points_positive_sum||null}))});aF.forEach(function(t){return t.dataset_max_series_sum=y,t}),aF.series_names=v.column_names.value,aF.unfiltered_series_names=SR.data.column_names.value;var b={};for(var x in aF.row_names=[],v.forEach(function(t){b[t.label]||(b[t.label]=!0)}),b){var w=aF.labelFormat(IF(x));aF.row_names.push(w)}var M={};for(var x in aF.unfiltered_row_names=[],SR.data.forEach(function(t){M[t.label]||(M[t.label]=!0)}),M){var w=aF.labelFormat(IF(x));aF.unfiltered_row_names.push(w)}aF.row_filter_values=i,aF.series=[],aF.series_primary=[],aF.series_secondary=[];var k=0;aF.forEach(function(e){var n=0;e.series.forEach(function(t){++n<=aS.max_series&&(t.facet=e,aF.series.push(t),k+=t.data_points.length,t.secondary?aF.series_secondary.push(t):aF.series_primary.push(t))})}),aF.num_points_visible=k,aF.column_names=SR.data.column_names,aF.series_popup_text={},aS.popup_series_text&&aS.popup_series_text.split(/\n/).forEach(function(t){var e=t.replace(/\s*::\s*/,"::").split("::");aF.series_popup_text[e[0]]=e[1]}),sF=LR.facets_show,lF=aS.localization.input_decimal_separator,uF=aS.series_filter.toString(),dF=aS.label_filter.toString(),pF=aS.series_filter_mode,cF=aS.max_series,fF=aS.label_data_type,hF=aS.datetime_input_format,yF=t,mF=aS.secondary_series,bF=LR.force_categorical,xF=aS.sort_mode,wF=aS.sort_direction,gF=aS.row_filter,_F=aS.row_filter_all,MF=aS.number_format_prop,kF=aS.popup_series_text,SR.data.processed=!0}}var zF="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",SF="fl-spanner",EF=SF+"-";function LF(t,e,n){return"<"+t+" class='"+EF+n+"'>"+e+"</"+t+">"}function DF(n){("string"==typeof n||n instanceof HTMLElement)&&(n=yb(n));var c={data:[],element:null,ignore_case:!0,text:function(t){return t},class:SF},r=function(t,e){var n=c.text(t,e);if(!n||"string"!=typeof n)return null;var r=n.trim();return r?{original:n,trimmed:r,length:r.length,d:t,i:e}:null},a=function(t,e){var n=e.trimmed.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r,i,o,a,s="<"+t+".*?<\\/"+t+">"+"|(?:"+("(^|[^"+zF+"])"+"("+n+")"+("($|[^"+zF+"])"))+")",l=c.ignore_case?"gi":"g";return new RegExp(s,l)},e=function(){var t=n.node(),e=n.text(),o,o=(o=c.element)||(t instanceof SVGElement||"svg"===t.nodeName.toLowerCase()?"tspan":"span");return c.data.map(r).filter(function(t){return t}).sort(function(t,e){return e.length-t.length||t.i-e.i}).forEach(function(i){var t=a(o,i);e=e.replace(t,function(t,e,n,r){return n?e+LF(o,n,i.i)+r:t})}),n.html(e),n.selectAll(o).each(function(){var t=c.data[this.getAttribute("class").slice(EF.length)];yb(this).datum(t).attr("class",c.class)})};return e.data=function(t){return void 0===t?c.data:(c.data=Array.isArray(t)?t:[t],e)},e.element=function(t){return void 0===t?c.element:(c.element=t,e)},e.ignoreCase=function(t){return void 0===t?c.ignore_case:(c.ignore_case=!!t,e)},e.text=function(t){return void 0===t?c.text:(c.text=t,e)},e.class=function(t){return void 0===t?c.class:(c.class=t,e)},e}function CF(t,e,n,r){DF(t).data(e)().style("color",function(t){return n(t)}).style("font-weight",r)}function OF(t,e){var n;"off"!=aS.text_legend&&(n=aS.text_legend_bold?"bold":null,"auto"!=aS.text_legend&&!aS.text_legend_title||CF(yb("#fl-layout-header h1"),t,e,n),"auto"!=aS.text_legend&&!aS.text_legend_subtitle||CF(yb("#fl-layout-header h2"),t,e,n))}var PF=yU(aS.color),RF=[],YF;function UF(){return"row"==LR.legend_type||"either"==LR.legend_type&&"row"==aS.color_mode}function FF(){var t=(YF=UF())?aF.unfiltered_row_names:aF.unfiltered_series_names;PF.updateColorScale(t),RF=YF?"filter"in SR.data.column_names?aF.row_names:aF.unfiltered_row_names:"none"==aS.series_filter_mode?aF.unfiltered_series_names:aF.series_names,QF()}function BF(t){return PF.getColor(aF.series_names[t])}function ZF(t){return PF.getColor(aF.labelFormat(t).toString())}function HF(t){return YF?ZF(t.label):BF(t.series)}function GF(t){return YF?"rgba(0,0,0,0.5)":BF(t.index)}function QF(){var t="off"==aS.legend_mode||"auto"==aS.legend_mode&&LR.facet_by_series&&!YF,e="none"!=aS.legend_filter_mode&&"none"==aS.series_filter_mode&&!YF,n="none"!=aS.legend_filter_mode&&!("filter"in SR.data.column_names)&&YF,r=[];e&&(r=aF.unfiltered_series_names.filter(function(t){return 0<aS.series_filter.length&&aS.series_filter.indexOf(t)<0})),n&&(r=aF.unfiltered_row_names.filter(function(t){return 0<aS.label_filter.length&&aS.label_filter.indexOf(t)<0})),XQ.data(t?[]:RF,PF.getColor).filtered(r).on("click",e||n?function(t){var e="filter-in"==aS.legend_filter_mode;n?qF(t.label,aS.label_filter,aF.unfiltered_row_names,e):qF(t.label,aS.series_filter,aF.unfiltered_series_names,e),jF()}:null).update(),VQ.setLegendPosition(aS.legend_position)}function qF(e,n,t,r){var i=n.indexOf(e);r||1==n.length&&n[0]==e?(n.splice(0,n.length),-1==i&&n.push(e)):0==n.length?t.forEach(function(t){t!=e&&n.push(t)}):-1!=i?n.splice(i,1):n.length+1==t.length?n.splice(0,n.length):n.push(e)}function VF(){OF(RF,PF.getColor)}function WF(t,e){var n=void 0!==t.label?t.label_formatted:t.data.label_formatted;return aS.data_trans_bind_data_points?n:e}function $F(t,e){var n=LR.facets_show&&!LR.facet_by_series?"-"+t.facet.index:"";return aS.data_trans_bind_series?t.name+n:e}function XF(t){for(var e=-1,n=t.length,r,i=t[n-1],o=0;++e<n;)r=i,i=t[e],o+=r[1]*i[0]-r[0]*i[1];return o/2}function JF(t){for(var e=-1,n=t.length,r=0,i=0,o,a=t[n-1],s,l=0;++e<n;)o=a,a=t[e],l+=s=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*s,i+=(o[1]+a[1])*s;return[r/(l*=3),i/l]}function KF(t){for(var e=-1,n=t.length,r=t[n-1],i,o,a=r[0],s=r[1],l=0;++e<n;)i=a,o=s,i-=a=(r=t[e])[0],o-=s=r[1],l+=Math.sqrt(i*i+o*o);return l}var tB={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},eB=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function nB(t){return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||5760<=t&&0<=eB.indexOf(t)}function rB(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return 1}}function iB(t){return 97==(32|t)}function oB(t){return 48<=t&&t<=57}function aB(t){return 48<=t&&t<=57||43===t||45===t||46===t}function sB(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function lB(t){for(;t.index<t.max&&nB(t.path.charCodeAt(t.index));)t.index++}function cB(t){var e=t.path.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="SvgPath: arc flag can be 0 or 1 only (at pos "+t.index+")")}function uB(t){var e=t.index,n=e,r=t.max,i=!1,o=!1,a=!1,s=!1,l;if(r<=n)t.err="SvgPath: missed param (at pos "+n+")";else if(43!==(l=t.path.charCodeAt(n))&&45!==l||(l=++n<r?t.path.charCodeAt(n):0),oB(l)||46===l){if(46!==l){if(i=48===l,l=++n<r?t.path.charCodeAt(n):0,i&&n<r&&l&&oB(l))return void(t.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+e+")");for(;n<r&&oB(t.path.charCodeAt(n));)n++,o=!0;l=n<r?t.path.charCodeAt(n):0}if(46===l){for(s=!0,n++;oB(t.path.charCodeAt(n));)n++,a=!0;l=n<r?t.path.charCodeAt(n):0}if(101===l||69===l){if(s&&!o&&!a)return void(t.err="SvgPath: invalid float exponent (at pos "+n+")");if(43!==(l=++n<r?t.path.charCodeAt(n):0)&&45!==l||n++,!(n<r&&oB(t.path.charCodeAt(n))))return void(t.err="SvgPath: invalid float exponent (at pos "+n+")");for(;n<r&&oB(t.path.charCodeAt(n));)n++}t.index=n,t.param=parseFloat(t.path.slice(e,n))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")"}function dB(t){var e,n,e=t.path[t.segmentStart],n=e.toLowerCase(),r=t.data;if("m"===n&&2<r.length&&(t.result.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.result.push([e].concat(r));else for(;r.length>=tB[n]&&(t.result.push([e].concat(r.splice(0,tB[n]))),tB[n]););}function fB(t){var e=t.max,n,r,i,o,a;if(t.segmentStart=t.index,r=iB(n=t.path.charCodeAt(t.index)),rB(n))if(o=tB[t.path[t.index].toLowerCase()],t.index++,lB(t),t.data=[],o){for(i=!1;;){for(a=o;0<a;a--){if((!r||3!==a&&4!==a?uB:cB)(t),t.err.length)return;t.data.push(t.param),lB(t),i=!1,t.index<e&&44===t.path.charCodeAt(t.index)&&(t.index++,lB(t),i=!0)}if(!i){if(t.index>=t.max)break;if(!aB(t.path.charCodeAt(t.index)))break}}dB(t)}else dB(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}var hB=function t(e){var n=new sB(e),r=n.max;for(lB(n);n.index<r&&!n.err.length;)fB(n);return n.err.length?n.result=[]:n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function pB(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function gB(){if(!(this instanceof gB))return new gB;this.queue=[],this.cache=null}gB.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},gB.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},gB.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},gB.prototype.rotate=function(t,e,n){var r,i,o;return 0!==t&&(this.translate(e,n),r=t*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-e,-n)),this},gB.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},gB.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},gB.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var t=1;t<this.queue.length;t++)this.cache=pB(this.cache,this.queue[t]);return this.cache},gB.prototype.calc=function(t,e,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(r=this.cache)[0]+e*r[2]+(n?0:r[4]),t*r[1]+e*r[3]+(n?0:r[5])]):[t,e]};var _B=gB,yB={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},mB=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,vB=/[\s,]+/,bB=function t(e){var n=new _B,r,i;return e.split(mB).forEach(function(t){if(t.length)if(void 0===yB[t])switch(i=t.split(vB).map(function(t){return+t||0}),r){case"matrix":return void(6===i.length&&n.matrix(i));case"scale":return void(1===i.length?n.scale(i[0],i[0]):2===i.length&&n.scale(i[0],i[1]));case"rotate":return void(1===i.length?n.rotate(i[0],0,0):3===i.length&&n.rotate(i[0],i[1],i[2]));case"translate":return void(1===i.length?n.translate(i[0],0):2===i.length&&n.translate(i[0],i[1]));case"skewX":return void(1===i.length&&n.skewX(i[0]));case"skewY":return void(1===i.length&&n.skewY(i[0]))}else r=t}),n},xB=2*Math.PI;function wB(t,e,n,r){var i,o=t*n+e*r;return 1<o&&(o=1),o<-1&&(o=-1),(t*r-e*n<0?-1:1)*Math.acos(o)}function MB(t,e,n,r,i,o,a,s,l,c){var u=c*(t-n)/2+l*(e-r)/2,d=-l*(t-n)/2+c*(e-r)/2,f=a*a,h=s*s,p=u*u,g=d*d,_=f*h-f*g-h*p;_<0&&(_=0),_/=f*g+h*p;var y=(_=Math.sqrt(_)*(i===o?-1:1))*a/s*d,m=_*-s/a*u,v=c*y-l*m+(t+n)/2,b=l*y+c*m+(e+r)/2,x=(u-y)/a,w=(d-m)/s,M=(-u-y)/a,k=(-d-m)/s,j=wB(1,0,x,w),A=wB(x,w,M,k);return 0===o&&0<A&&(A-=xB),1===o&&A<0&&(A+=xB),[v,b,j,A]}function kB(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}var jB=function t(e,n,r,i,o,a,s,l,c){var u=Math.sin(c*xB/360),d=Math.cos(c*xB/360),f=d*(e-r)/2+u*(n-i)/2,h=-u*(e-r)/2+d*(n-i)/2;if(0==f&&0==h)return[];if(0===s||0===l)return[];s=Math.abs(s),l=Math.abs(l);var p=f*f/(s*s)+h*h/(l*l);1<p&&(s*=Math.sqrt(p),l*=Math.sqrt(p));var g=MB(e,n,r,i,o,a,s,l,u,d),_=[],y=g[2],m=g[3],v=Math.max(Math.ceil(Math.abs(m)/(xB/4)),1);m/=v;for(var b=0;b<v;b++)_.push(kB(y,m)),y+=m;return _.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=d*(n*=s)-u*(r*=l),o=u*n+d*r;t[e+0]=i+g[0],t[e+1]=o+g[1]}return t})},AB=1e-10,IB=Math.PI/180;function TB(t,e,n){if(!(this instanceof TB))return new TB(t,e,n);this.rx=t,this.ry=e,this.ax=n}TB.prototype.transform=function(t){var e=Math.cos(this.ax*IB),n=Math.sin(this.ax*IB),r=[this.rx*(t[0]*e+t[2]*n),this.rx*(t[1]*e+t[3]*n),this.ry*(-t[0]*n+t[2]*e),this.ry*(-t[1]*n+t[3]*e)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),s=(i+o)/2;if(a<AB*s)return this.rx=this.ry=Math.sqrt(s),this.ax=0,this;var l=r[0]*r[1]+r[2]*r[3],a,c=s+(a=Math.sqrt(a))/2,u=s-a/2;return this.ax=Math.abs(l)<AB&&Math.abs(c-o)<AB?90:180*Math.atan(Math.abs(l)>Math.abs(c-o)?(c-i)/l:l/(c-o))/Math.PI,0<=this.ax?(this.rx=Math.sqrt(c),this.ry=Math.sqrt(u)):(this.ax+=90,this.rx=Math.sqrt(u),this.ry=Math.sqrt(c)),this},TB.prototype.isDegenerate=function(){return this.rx<AB*this.ry||this.ry<AB*this.rx};var NB=TB;function zB(t){if(!(this instanceof zB))return new zB(t);var e=hB(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}zB.prototype.__matrix=function(u){var d=this,f;u.queue.length&&this.iterate(function(t,e,n,r){var i,o,a,s;switch(t[0]){case"v":o=0===(i=u.calc(0,t[1],!0))[0]?["v",i[1]]:["l",i[0],i[1]];break;case"V":o=(i=u.calc(n,t[1],!1))[0]===u.calc(n,r,!1)[0]?["V",i[1]]:["L",i[0],i[1]];break;case"h":o=0===(i=u.calc(t[1],0,!0))[1]?["h",i[0]]:["l",i[0],i[1]];break;case"H":o=(i=u.calc(t[1],r,!1))[1]===u.calc(n,r,!1)[1]?["H",i[0]]:["L",i[0],i[1]];break;case"a":case"A":var l=u.toArray(),c=NB(t[1],t[2],t[3]).transform(l);if(l[0]*l[3]-l[1]*l[2]<0&&(t[5]=t[5]?"0":"1"),i=u.calc(t[6],t[7],"a"===t[0]),"A"===t[0]&&t[6]===n&&t[7]===r||"a"===t[0]&&0===t[6]&&0===t[7]){o=["a"===t[0]?"l":"L",i[0],i[1]];break}o=c.isDegenerate()?["a"===t[0]?"l":"L",i[0],i[1]]:[t[0],c.rx,c.ry,c.ax,t[4],t[5],i[0],i[1]];break;case"m":s=0<e,o=["m",(i=u.calc(t[1],t[2],s))[0],i[1]];break;default:for(o=[a=t[0]],s=a.toLowerCase()===a,f=1;f<t.length;f+=2)i=u.calc(t[f],t[f+1],s),o.push(i[0],i[1])}d.segments[e]=o},!0)},zB.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=_B(),e=this.__stack.length;0<=--e;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},zB.prototype.toString=function(){var t=[],e,n;this.__evaluateStack();for(var r=0;r<this.segments.length;r++)n=this.segments[r][0],e=0<r&&"m"!==n&&"M"!==n&&n===this.segments[r-1][0],t=t.concat(e?this.segments[r].slice(1):this.segments[r]);return t.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},zB.prototype.translate=function(t,e){return this.__stack.push(_B().translate(t,e||0)),this},zB.prototype.scale=function(t,e){return this.__stack.push(_B().scale(t,e||0===e?e:t)),this},zB.prototype.rotate=function(t,e,n){return this.__stack.push(_B().rotate(t,e||0,n||0)),this},zB.prototype.skewX=function(t){return this.__stack.push(_B().skewX(t)),this},zB.prototype.skewY=function(t){return this.__stack.push(_B().skewY(t)),this},zB.prototype.matrix=function(t){return this.__stack.push(_B().matrix(t)),this},zB.prototype.transform=function(t){return t.trim()&&this.__stack.push(bB(t)),this},zB.prototype.round=function(r){var e=0,i=0,o=0,a=0,s;return r=r||0,this.__evaluateStack(),this.segments.forEach(function(n){var t=n[0].toLowerCase()===n[0];switch(n[0]){case"H":case"h":return t&&(n[1]+=o),o=n[1]-n[1].toFixed(r),void(n[1]=+n[1].toFixed(r));case"V":case"v":return t&&(n[1]+=a),a=n[1]-n[1].toFixed(r),void(n[1]=+n[1].toFixed(r));case"Z":case"z":return o=e,void(a=i);case"M":case"m":return t&&(n[1]+=o,n[2]+=a),o=n[1]-n[1].toFixed(r),a=n[2]-n[2].toFixed(r),e=o,i=a,n[1]=+n[1].toFixed(r),void(n[2]=+n[2].toFixed(r));case"A":case"a":return t&&(n[6]+=o,n[7]+=a),o=n[6]-n[6].toFixed(r),a=n[7]-n[7].toFixed(r),n[1]=+n[1].toFixed(r),n[2]=+n[2].toFixed(r),n[3]=+n[3].toFixed(r+2),n[6]=+n[6].toFixed(r),void(n[7]=+n[7].toFixed(r));default:return s=n.length,t&&(n[s-2]+=o,n[s-1]+=a),o=n[s-2]-n[s-2].toFixed(r),a=n[s-1]-n[s-1].toFixed(r),void n.forEach(function(t,e){e&&(n[e]=+n[e].toFixed(r))})}}),this},zB.prototype.iterate=function(i,t){var e=this.segments,o={},a=!1,s=0,l=0,c=0,u=0,n,r,d;if(t||this.__evaluateStack(),e.forEach(function(t,e){var n=i(t,e,s,l);Array.isArray(n)&&(o[e]=n,a=!0);var r=t[0]===t[0].toLowerCase();switch(t[0]){case"m":case"M":return s=t[1]+(r?s:0),l=t[2]+(r?l:0),c=s,void(u=l);case"h":case"H":return void(s=t[1]+(r?s:0));case"v":case"V":return void(l=t[1]+(r?l:0));case"z":case"Z":return s=c,void(l=u);default:s=t[t.length-2]+(r?s:0),l=t[t.length-1]+(r?l:0)}}),!a)return this;for(d=[],n=0;n<e.length;n++)if(void 0!==o[n])for(r=0;r<o[n].length;r++)d.push(o[n][r]);else d.push(e[n]);return this.segments=d,this},zB.prototype.abs=function(){return this.iterate(function(t,e,n,r){var i=t[0],o=i.toUpperCase(),a;if(i!==o)switch(t[0]=o,i){case"v":return void(t[1]+=r);case"a":return t[6]+=n,void(t[7]+=r);default:for(a=1;a<t.length;a++)t[a]+=a%2?n:r}},!0),this},zB.prototype.rel=function(){return this.iterate(function(t,e,n,r){var i=t[0],o=i.toLowerCase(),a;if(i!==o&&(0!==e||"M"!==i))switch(t[0]=o,i){case"V":return void(t[1]-=r);case"A":return t[6]-=n,void(t[7]-=r);default:for(a=1;a<t.length;a++)t[a]-=a%2?n:r}},!0),this},zB.prototype.unarc=function(){return this.iterate(function(t,e,n,r){var i,o,a,s=[],l=t[0];return"A"!==l&&"a"!==l?null:(a="a"===l?(o=n+t[6],r+t[7]):(o=t[6],t[7]),0===(i=jB(n,r,o,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(i.forEach(function(t){s.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])}),s))}),this},zB.prototype.unshort=function(){var s=this.segments,l,c,u,d,f;return this.iterate(function(t,e,n,r){var i=t[0],o=i.toUpperCase(),a;e&&("T"===o?(a="t"===i,u=s[e-1],c="Q"===u[0]?(l=u[1]-n,u[2]-r):"q"===u[0]?(l=u[1]-u[3],u[2]-u[4]):l=0,d=-l,f=-c,a||(d+=n,f+=r),s[e]=[a?"q":"Q",d,f,t[1],t[2]]):"S"===o&&(a="s"===i,u=s[e-1],c="C"===u[0]?(l=u[3]-n,u[4]-r):"c"===u[0]?(l=u[3]-u[5],u[4]-u[6]):l=0,d=-l,f=-c,a||(d+=n,f+=r),s[e]=[a?"c":"C",d,f,t[1],t[2],t[3],t[4]]))}),this};var SB,EB=zB,LB={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},DB=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function CB(t){var i=[];return t.replace(DB,function(t,e,n){var r=e.toLowerCase();for(n=PB(n),"m"===r&&2<n.length&&(i.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L");0<=n.length;){if(n.length===LB[r])return n.unshift(e),i.push(n);if(n.length<LB[r])throw new Error("malformed path data");i.push([e].concat(n.splice(0,LB[r])))}}),i}var OB=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function PB(t){var e=t.match(OB);return e?e.map(Number):[]}function RB(t,e,n,r,i,o,a,s){return new YB(t,e,n,r,i,o,a,s)}function YB(t,e,n,r,i,o,a,s){this.a={x:t,y:e},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:s},null!=a&&null!=s?(this.getArcLength=JB,this.getPoint=HB,this.getDerivative=FB):(this.getArcLength=GB,this.getPoint=ZB,this.getDerivative=UB),this.init()}function UB(t,e,n){return{x:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1]),y:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1])}}function FB(t,e,n){var r;return ZB([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],n)}function BB(t,e,n,r,i){for(var o=1,a=t/e,s=(t-n(r,i,a))/e;.001<o;){var l=n(r,i,a+s),c=n(r,i,a-s),u=Math.abs(t-l)/e,d=Math.abs(t-c)/e;u<o?(o=u,a+=s):d<o?(o=d,a-=s):s/=2}return a}function ZB(t,e,n){var r,i;return{x:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2],y:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2]}}function HB(t,e,n){var r,i;return{x:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3],y:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3]}}function GB(t,e,n){void 0===n&&(n=1);var r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],a=2*e[1]-2*e[0],s=4*(r*r+i*i),l=4*(r*o+i*a),c=o*o+a*a;if(0==s)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));var u=l/(2*s),d,f=n+u,h=c/s-u*u;return Math.sqrt(s)/2*(f*Math.sqrt(f*f+h)-u*Math.sqrt(u*u+h)+h*Math.log(Math.abs((f+Math.sqrt(f*f+h))/(u+Math.sqrt(u*u+h)))))}YB.prototype={constructor:YB,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=BB(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e)},getTangentAtLength:function(t){var e=BB(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),r=Math.sqrt(n.x*n.x+n.y*n.y),i,i=0<r?{x:n.x/r,y:n.y/r}:{x:0,y:0};return i},getPropertiesAtLength:function(t){var e=BB(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),r=Math.sqrt(n.x*n.x+n.y*n.y),i,i=0<r?{x:n.x/r,y:n.y/r}:{x:0,y:0},o=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e);return{x:o.x,y:o.y,tangentX:i.x,tangentY:i.y}}};var QB=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],qB=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],VB=[[1],[1,1],[1,2,1],[1,3,3,1]];function WB(t,e){return VB[t][e]}function $B(t,e,n){var r=n.length-1,i,o,a;if(0==r)return 0;if(0===t){for(a=o=0;a<=r;a++)o+=WB(r,a)*Math.pow(1-e,r-a)*Math.pow(e,a)*n[a];return o}for(i=new Array(r),a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return $B(t-1,e,i)}function XB(t,e,n){var r=$B(1,n,t),i=$B(1,n,e),o=r*r+i*i;return Math.sqrt(o)}function JB(t,e,n){var r,i,o,a;void 0===n&&(n=1);for(var s=20,r=n/2,i=0,o=0;o<20;o++)a=r*QB[20][o]+r,i+=qB[20][o]*XB(t,e,a);return r*i}var KB=2*Math.PI;function tZ(t,e,n,r){var i,o=t*n+e*r;return 1<o&&(o=1),o<-1&&(o=-1),(t*r-e*n<0?-1:1)*Math.acos(o)}function eZ(t,e,n,r,i,o,a,s,l,c){var u=c*(t-n)/2+l*(e-r)/2,d=-l*(t-n)/2+c*(e-r)/2,f=a*a,h=s*s,p=u*u,g=d*d,_=f*h-f*g-h*p;_<0&&(_=0),_/=f*g+h*p;var y=(_=Math.sqrt(_)*(i===o?-1:1))*a/s*d,m=_*-s/a*u,v=c*y-l*m+(t+n)/2,b=l*y+c*m+(e+r)/2,x=(u-y)/a,w=(d-m)/s,M=(-u-y)/a,k=(-d-m)/s,j=tZ(1,0,x,w),A=tZ(x,w,M,k);return 0===o&&0<A&&(A-=KB),1===o&&A<0&&(A+=KB),[v,b,j,A]}function nZ(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function rZ(t,e,a,s,n,r,i,o,l){var c=Math.sin(n*KB/360),u=Math.cos(n*KB/360),d=u*(t-o)/2+c*(e-l)/2,f=-c*(t-o)/2+u*(e-l)/2;if(0==d&&0==f)return[];if(0===a||0===s)return[];a=Math.abs(a),s=Math.abs(s);var h=d*d/(a*a)+f*f/(s*s);1<h&&(a*=Math.sqrt(h),s*=Math.sqrt(h));var p=eZ(t,e,o,l,r,i,a,s,c,u),g=[],_=p[2],y=p[3],m=Math.max(Math.ceil(Math.abs(y)/(KB/4)),1);y/=m;for(var v=0;v<m;v++)g.push(nZ(_,y)),_+=y;return g.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=u*(n*=a)-c*(r*=s),o=c*n+u*r;t[e+0]=i+p[0],t[e+1]=o+p[1]}return t})}function iZ(t,e,n,r,i,o,a,s,l){return new oZ(t,e,n,r,i,o,a,s,l)}function oZ(t,e,n,r,i,o,a,s,l){var c=0,u=[],d=[],f;rZ(t,e,n,r,i,o,a,s,l).forEach(function(t){var e=new RB(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),n=e.getTotalLength();c+=n,u.push(n),d.push(e)}),this.length=c,this.partialLengths=u,this.curves=d}function aZ(t,e,n,r){return new sZ(t,e,n,r)}function sZ(t,e,n,r){this.x0=t,this.x1=e,this.y0=n,this.y1=r}function lZ(t){var s=0,l=[],c=[];function u(t){if(!t)return null;for(var e=CB(t),n=[0,0],r=[0,0],i,o,a=0;a<e.length;a++)"M"===e[a][0]?(o=[(n=[e[a][1],e[a][2]])[0],n[1]],c.push(null)):"m"===e[a][0]?(o=[(n=[e[a][1]+n[0],e[a][2]+n[1]])[0],n[1]],c.push(null)):"L"===e[a][0]?(s+=Math.sqrt(Math.pow(n[0]-e[a][1],2)+Math.pow(n[1]-e[a][2],2)),c.push(new aZ(n[0],e[a][1],n[1],e[a][2])),n=[e[a][1],e[a][2]]):"l"===e[a][0]?(s+=Math.sqrt(Math.pow(e[a][1],2)+Math.pow(e[a][2],2)),c.push(new aZ(n[0],e[a][1]+n[0],n[1],e[a][2]+n[1])),n=[e[a][1]+n[0],e[a][2]+n[1]]):"H"===e[a][0]?(s+=Math.abs(n[0]-e[a][1]),c.push(new aZ(n[0],e[a][1],n[1],n[1])),n[0]=e[a][1]):"h"===e[a][0]?(s+=Math.abs(e[a][1]),c.push(new aZ(n[0],n[0]+e[a][1],n[1],n[1])),n[0]=e[a][1]+n[0]):"V"===e[a][0]?(s+=Math.abs(n[1]-e[a][1]),c.push(new aZ(n[0],n[0],n[1],e[a][1])),n[1]=e[a][1]):"v"===e[a][0]?(s+=Math.abs(e[a][1]),c.push(new aZ(n[0],n[0],n[1],n[1]+e[a][1])),n[1]=e[a][1]+n[1]):"z"===e[a][0]||"Z"===e[a][0]?(s+=Math.sqrt(Math.pow(o[0]-n[0],2)+Math.pow(o[1]-n[1],2)),c.push(new aZ(n[0],o[0],n[1],o[1])),n=[o[0],o[1]]):"C"===e[a][0]?(i=new RB(n[0],n[1],e[a][1],e[a][2],e[a][3],e[a][4],e[a][5],e[a][6]),s+=i.getTotalLength(),n=[e[a][5],e[a][6]],c.push(i)):"c"===e[a][0]?(i=new RB(n[0],n[1],n[0]+e[a][1],n[1]+e[a][2],n[0]+e[a][3],n[1]+e[a][4],n[0]+e[a][5],n[1]+e[a][6]),s+=i.getTotalLength(),n=[e[a][5]+n[0],e[a][6]+n[1]],c.push(i)):"S"===e[a][0]?(i=0<a&&-1<["C","c","S","s"].indexOf(e[a-1][0])?new RB(n[0],n[1],2*n[0]-e[a-1][e[a-1].length-4],2*n[1]-e[a-1][e[a-1].length-3],e[a][1],e[a][2],e[a][3],e[a][4]):new RB(n[0],n[1],n[0],n[1],e[a][1],e[a][2],e[a][3],e[a][4]),s+=i.getTotalLength(),n=[e[a][3],e[a][4]],c.push(i)):"s"===e[a][0]?(i=0<a&&-1<["C","c","S","s"].indexOf(e[a-1][0])?new RB(n[0],n[1],n[0]+i.d.x-i.c.x,n[1]+i.d.y-i.c.y,n[0]+e[a][1],n[1]+e[a][2],n[0]+e[a][3],n[1]+e[a][4]):new RB(n[0],n[1],n[0],n[1],n[0]+e[a][1],n[1]+e[a][2],n[0]+e[a][3],n[1]+e[a][4]),s+=i.getTotalLength(),n=[e[a][3]+n[0],e[a][4]+n[1]],c.push(i)):"Q"===e[a][0]?(i=n[0]!=e[a][1]&&n[1]!=e[a][2]?new RB(n[0],n[1],e[a][1],e[a][2],e[a][3],e[a][4]):new aZ(e[a][1],e[a][3],e[a][2],e[a][4]),s+=i.getTotalLength(),c.push(i),n=[e[a][3],e[a][4]],r=[e[a][1],e[a][2]]):"q"===e[a][0]?(i=0!=e[a][1]||0!=e[a][2]?new RB(n[0],n[1],n[0]+e[a][1],n[1]+e[a][2],n[0]+e[a][3],n[1]+e[a][4]):new aZ(n[0]+e[a][1],n[0]+e[a][3],n[1]+e[a][2],n[1]+e[a][4]),s+=i.getTotalLength(),r=[n[0]+e[a][1],n[1]+e[a][2]],n=[e[a][3]+n[0],e[a][4]+n[1]],c.push(i)):"T"===e[a][0]?(i=0<a&&-1<["Q","q","T","t"].indexOf(e[a-1][0])?new RB(n[0],n[1],2*n[0]-r[0],2*n[1]-r[1],e[a][1],e[a][2]):new aZ(n[0],e[a][1],n[1],e[a][2]),c.push(i),s+=i.getTotalLength(),r=[2*n[0]-r[0],2*n[1]-r[1]],n=[e[a][1],e[a][2]]):"t"===e[a][0]?(i=0<a&&-1<["Q","q","T","t"].indexOf(e[a-1][0])?new RB(n[0],n[1],2*n[0]-r[0],2*n[1]-r[1],n[0]+e[a][1],n[1]+e[a][2]):new aZ(n[0],n[0]+e[a][1],n[1],n[1]+e[a][2]),s+=i.getTotalLength(),r=[2*n[0]-r[0],2*n[1]-r[1]],n=[e[a][1]+n[0],e[a][2]+n[0]],c.push(i)):"A"===e[a][0]?(i=new iZ(n[0],n[1],e[a][1],e[a][2],e[a][3],e[a][4],e[a][5],e[a][6],e[a][7]),s+=i.getTotalLength(),n=[e[a][6],e[a][7]],c.push(i)):"a"===e[a][0]&&(i=new iZ(n[0],n[1],e[a][1],e[a][2],e[a][3],e[a][4],e[a][5],n[0]+e[a][6],n[1]+e[a][7]),s+=i.getTotalLength(),n=[n[0]+e[a][6],n[1]+e[a][7]],c.push(i)),l.push(s);return u}u.getTotalLength=function(){return s},u.getPointAtLength=function(t){var e=n(t);return c[e.i].getPointAtLength(e.fraction)},u.getTangentAtLength=function(t){var e=n(t);return c[e.i].getTangentAtLength(e.fraction)},u.getPropertiesAtLength=function(t){var e=n(t);return c[e.i].getPropertiesAtLength(e.fraction)};var n=function(t){t<0?t=0:s<t&&(t=s);for(var e=l.length-1;l[e]>=t&&0<l[e];)e--;return{fraction:t-l[++e-1],i:e}};return u(t)}function cZ(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function uZ(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function dZ(t,e){return cZ(t,e)<1e-9}function fZ(t,n,r){var i=t.map(function(t,e){return hZ(t,n[e])});return function(e){var t=i.map(function(t){return t(e)});return r?bZ(t):t}}function hZ(t,r){return function(n){return t.map(function(t,e){return t+n*(r[e]-t)})}}function pZ(t){return"number"==typeof t&&isFinite(t)}function gZ(t){return _Z(t)?JF(t):[(t[0][0]+t[t.length-1][0])/2,(t[0][1]+t[t.length-1][1])/2]}function _Z(t){for(var e=0;e<t.length-2;e++){var n=t[e],r=t[e+1],i=t[e+2];if(n[0]*(r[1]-i[1])+r[0]*(i[1]-n[1])+i[0]*(n[1]-r[1]))return 1}}oZ.prototype={constructor:oZ,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getPointAtLength(t-n)},getTangentAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getTangentAtLength(t-n)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),n=this.getPointAtLength(t);return{x:n.x,y:n.y,tangentX:e.x,tangentY:e.y}}},sZ.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},sZ.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*e,r=(this.y1-this.y0)*e;return{x:this.x0+n,y:this.y0+r}},sZ.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},sZ.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),n=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:n.x,tangentY:n.y}};var yZ='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n';function mZ(t){return new EB(t).abs()}function vZ(t){return t.toString().split("M").map(function(t,e){return t=t.trim(),e&&t?"M"+t:t}).filter(function(t){return t})}function bZ(t){return"M"+t.join("L")+"Z"}function xZ(t,e){var n=mZ(t);return wZ(n)||MZ(n,e)}function wZ(t){var e=t.segments||[],n=[];if(!e.length||"M"!==e[0][0])return!1;for(var r=0;r<e.length;r++){var i=Wb(e[r],3),o=i[0],a=i[1],s=i[2];if("M"===o&&r||"Z"===o)break;if("M"===o||"L"===o)n.push([a,s]);else if("H"===o)n.push([a,n[n.length-1][1]]);else{if("V"!==o)return!1;n.push([n[n.length-1][0],a])}}return!!n.length&&{ring:n}}function MZ(t,e){var n=vZ(t)[0],r=[],i,o,a=3;if(!n)throw new TypeError(yZ);i=(o=kZ(n)).getTotalLength(),e&&pZ(e)&&0<e&&(a=Math.max(a,Math.ceil(i/e)));for(var s=0;s<a;s++){var l=o.getPointAtLength(i*s/a);r.push([l.x,l.y])}return{ring:r,skipBisect:!0}}function kZ(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return lZ(t)}function jZ(t,e){for(var n=t.length+e,r=KF(t)/e,i=0,o=0,a=r/2;t.length<n;){var s=t[i],l=t[(i+1)%t.length],c=cZ(s,l);a<=o+c?(t.splice(i+1,0,c?uZ(s,l,(a-o)/c):s.slice(0)),a+=r):(o+=c,i++)}}function AZ(t,e){for(var n=1<arguments.length&&void 0!==e?e:1/0,r=0;r<t.length;r++)for(var i=t[r],o=r===t.length-1?t[0]:t[r+1];cZ(i,o)>n;)o=uZ(i,o,.5),t.splice(r+1,0,o)}function IZ(t,e){var n,r,i;if("string"==typeof t){var o=xZ(t,e);t=o.ring,i=o.skipBisect}else if(!Array.isArray(t))throw new TypeError(yZ);if(!TZ(n=t.slice(0)))throw new TypeError(yZ);return 1<n.length&&dZ(n[0],n[n.length-1])&&n.pop(),0<(r=XF(n))&&n.reverse(),!i&&e&&pZ(e)&&0<e&&AZ(n,e),n}function TZ(t){return t.every(function(t){return Array.isArray(t)&&2<=t.length&&pZ(t[0])&&pZ(t[1])})}function NZ(i,e){for(var o=i.length,n=1/0,a,s,t,r=function t(r){s=0,e.forEach(function(t,e){var n=cZ(i[(r+e)%o],t);s+=n*n}),s<n&&(n=s,a=r)},l=0;l<o;l++)r(l);a&&(t=i.splice(0,a),i.splice.apply(i,[i.length,0].concat($b(t))))}function zZ(e,n,t){var r=2<arguments.length&&void 0!==t?t:{},i=r.maxSegmentLength,o=void 0===i?10:i,a=r.string,s=void 0===a||a,l,c,u=SZ(IZ(e,o),IZ(n,o),s);return!s||"string"!=typeof e&&"string"!=typeof n?u:function(t){return t<1e-4&&"string"==typeof e?e:1-t<1e-4&&"string"==typeof n?n:u(t)}}function SZ(t,e,n){var r,r=t.length-e.length;return jZ(t,r<0?-1*r:0),jZ(e,0<r?r:0),NZ(t,e),fZ(t,e,n)}function EZ(t,e,n,r,i){return OZ(PZ(t,e,n),r,UZ(t,e,n),2*Math.PI*n,i)}function LZ(t,e,n,r,i){var o=EZ(e,n,r,t,i);return function(t){return o(1-t)}}function DZ(t,e,n,r,i,o){return OZ(RZ(t,e,n,r),i,FZ(t,e,n,r),2*n+2*r,o)}function CZ(t,e,n,r,i,o){var a=DZ(e,n,r,i,t,o);return function(t){return a(1-t)}}function OZ(t,e,n,r,i){var o=4<arguments.length&&void 0!==i?i:{},a=o.maxSegmentLength,s=void 0===a?10:a,l=o.string,c=void 0===l||l,u=IZ(e,s),d,f;return pZ(r)&&u.length<r/s&&jZ(u,Math.ceil(r/s-u.length)),d=t(u),f=fZ(d,u,c),c?function(t){return t<1e-4?n:f(t)}:f}function PZ(s,l,c){return function(r){var t=gZ(r),i=KF([].concat($b(r),[r[0]])),o=Math.atan2(r[0][1]-t[1],r[0][0]-t[0]),a=0;return r.map(function(t,e){var n;return e&&(a+=cZ(t,r[e-1])),n=o+2*Math.PI*(i?a/i:e/r.length),[Math.cos(n)*c+s,Math.sin(n)*c+l]})}}function RZ(s,l,c,u){return function(r){var t=gZ(r),i=KF([].concat($b(r),[r[0]])),e=Math.atan2(r[0][1]-t[1],r[0][0]-t[0]),o=0;e<0&&(e=2*Math.PI+e);var a=e/(2*Math.PI);return r.map(function(t,e){e&&(o+=cZ(t,r[e-1]));var n=YZ((a+(i?o/i:e/r.length))%1);return[s+n[0]*c,l+n[1]*u]})}}function YZ(t){return t<=1/8?[1,.5+4*t]:t<=3/8?[1.5-4*t,1]:t<=5/8?[0,2.5-4*t]:t<=7/8?[4*t-2.5,0]:[1,4*t-3.5]}function UZ(t,e,n){var r=t-n+","+e,i,o="A"+n+","+n+",0,1,1,";return"M"+r+o+(t+n+","+e)+o+r+"Z"}function FZ(t,e,n,r){var i=t+n,o=e+r;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+o+"L"+t+","+o+"Z"}function BZ(t){var e=t.split(/[A-Z]/).filter(function(t){return""!=t});return 2==e.length?t="M"+e[0]+"L"+e[0]+"L"+e[1]+"Z":1==e.length&&(t="M"+e[0]+"L"+e[0]+"L"+e[0]+"Z"),t}function ZZ(t){return"log"==aS.y.numeric_scale_type&&t<=0?.01:t}function HZ(t,e,n){var r=Math.max(aS.dot_radius,.01);return(!0===t||n&&"series"in t&&e==n.parentNode.__data__.data_points.length-1)&&(r*=aS.dot_radius_last/100),VQ.remToPx(r)}function GZ(t,e){var n=aS.chart_bg.background_color_enabled?aS.chart_bg.background_color:aS.layout.background_color_enabled?aS.layout.background_color:"white";return aS.dot_hollow&&!t.secondary?n:HF(t)}function QZ(t,e){return aS.dot_hollow&&!t.secondary?HF(t):null}function qZ(t){return aS.dot_hollow&&!t.secondary?VQ.remToPx(aS.line_width):null}function VZ(t,e,n,u){var r=u?"-secondary":"",i="on"==aS.dot_mode||"auto"==aS.dot_mode&&aF.num_points_visible<aS.dot_mode_auto_max,o=i||aS.popup.show_popups,a=t.selectAll(".data-point"+r).data(function(t){var e=[];return o&&(e=u?t.data_points:t[LR.data_points]),e},WF),s=a.enter().append("path").attr("class","data-point"+r).attr("visibility",i?"visible":"hidden").attr("fill",GZ).attr("stroke",QZ).attr("stroke-width",qZ).attr("data-type","point").attr("transform","translate(0, 0)").attr("d",c).attr("opacity",0).on("mouseout",bU).on("click",mU),l=a.merge(s).on("mouseover",vU).attr("id",function(t){return"point-"+t.series+"-"+t.row_index+r});function c(t,e){var n=u?t.facet.scales.value_secondary:t.facet.scales.value,r=t.facet.scales.label,i=HZ(t,e,this),o=r(t.label),a=n(ZZ(t.value)),s=o-i+","+a,l,c="A"+i+","+i+",0,1,1,";return"M"+s+c+(o+i+","+a)+c+s+"Z"}i?l.attr("visibility","visible").transition().duration(e?0:aS.data_trans_duration).delay(n).attr("opacity",aS.dot_opacity).attr("transform","translate(0, 0)").attr("fill",GZ).attr("stroke",QZ).attr("stroke-width",qZ).attrTween("d",function(t,e){var n=u?t.facet.scales.value_secondary:t.facet.scales.value,r=t.facet.scales.label,i=HZ(t,e,this),o=r(t.label),a=n(ZZ(t.value)),s;return LZ(BZ(this.getAttribute("d")),o,a,i,{maxSegmentLength:1})}).on("end",function(){this.setAttribute("data-type","point")}):l.attr("visibility","hidden").attr("d",c).attr("opacity",0).attr("data-type","point"),a.exit().remove()}function WZ(t,e,n){var r=t.selectAll(".data-point").data(function(t){return t[LR.data_points]},WF),i=r.enter().append("path").attr("class","data-point").attr("data-type","bar").attr("opacity",aS.column_opacity).attr("fill",HF).attr("stroke-width",0).attr("d",function(t,e){var n=c(t),r,i=0,o;return h(t.facet.scales.value(t.value_base||0),n,0,t.facet.scales.col_w)}).attr("transform","translate(0, 0)").on("click",mU).on("mouseout",bU),o;function c(t){var e=t.facet.scales;if(LR.stack)return e.label(t.label)-e.group_w/2;var n=LR.facet_by_series?0:t.series,r,i;return e.label(t.label)+e.col_padding/2+(n*(e.col_w+e.col_padding)-e.group_w/2)}function u(t){return Math.abs(t.facet.scales.value(LR.stack?t.value_base:0)-t.facet.scales.value(t.value))}function d(t){var e=t.value<0;return LR.stack?t.facet.scales.value(t.value_base)-(e?u(t):0):e?t.facet.scales.value(0)-u(t):t.facet.scales.value(0)}function f(t){var e=VQ.remToPx(aS.column_padding_stack)/10,n=0,r=0,i,o;return LR.stack&&(i=t.facet.stack_totals_lookup[t.label],o=t.facet.value_extent[0]<0&&0<t.facet.value_extent[1],0<t.value?(n=0!=t.value_base||o?e:0,r=t.value==i[1]?0:e):t.value<0&&(n=t.value==i[0]?0:e,r=0!=t.value_base||o?e:0)),[n,r]}function a(t,e){var n=f(t),r=this.getAttribute("d"),i=d(t)+n[0],o=c(t),a=t.facet.scales.col_w,s,s=LR.stack&&LR.proportional&&t.value_display<0?0:Math.max(0,u(t)-n[0]-n[1]),l=this.getAttribute("data-type");return"bar"==l||"column"==l?SM(r,h(i,o,s,a)):CZ(BZ(r),i,o,s,a,{maxSegmentLength:1})}function h(t,e,n,r){var i=t+n,o=e+r;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+o+"L"+t+","+o+"Z"}r.merge(i).attr("visibility","visible").on("mouseover",vU).attr("id",function(t){return"point-"+t.series+"-"+t.row_index}).transition().duration(e?0:aS.data_trans_duration).delay(n).attr("transform","translate(0, 0)").attr("opacity",aS.column_opacity).attr("fill",HF).attr("stroke-width",0).attrTween("d",a).on("end",function(){this.setAttribute("data-type","bar")}),r.exit().remove()}function $Z(t,e,n){var r=t.selectAll(".data-point").data(function(t){return t[LR.data_points]},WF),i=r.enter().append("path").attr("class","data-point").attr("data-type","column").attr("opacity",aS.column_opacity).attr("fill",HF).attr("stroke-width",0).attr("d",function(t,e){var n,r,i,o=0;return f(c(t),t.facet.scales.value(t.value_base||0),t.facet.scales.col_w,0)}).attr("transform","translate(0, 0)").on("click",mU).on("mouseout",bU),o;function c(t){var e=t.facet.scales;if(LR.stack)return e.label(t.label)-e.group_w/2;var n=LR.facet_by_series?0:t.series_primary,r,i;return e.label(t.label)+e.col_padding/2+(n*(e.col_w+e.col_padding)-e.group_w/2)}function u(t){var e=t.facet.scales.value.domain(),n=e[0]>e[1],r=t.value<0;return LR.stack?r==n?t.facet.scales.value(t.value_base)-(t.facet.scales.value(t.value_base)-t.facet.scales.value(t.value)):t.facet.scales.value(t.value_base):r==n?t.facet.scales.h+t.facet.chart_layout.margins().top-(t.facet.scales.value(t.facet.scales.value.domain()[0])-t.facet.scales.value(t.value)):t.facet.scales.value(0)}function d(t){var e=VQ.remToPx(aS.column_padding_stack)/10,n=0,r=0,i,o;return LR.stack&&(i=t.facet.stack_totals_lookup[t.label],o=t.facet.value_extent[0]<0&&0<t.facet.value_extent[1],0<t.value?(n=t.value==i[1]?0:e,r=0!=t.value_base||o?e:0):t.value<0&&(n=(0!=t.value_base||o?1:0)*e,r=t.value==i[0]?0:e)),[n,r]}function a(t,e){var n=d(t),r=this.getAttribute("d"),i=c(t),o=u(t)+n[0],a=t.facet.scales.col_w,s,s=LR.stack&&LR.proportional&&t.value_display<0?0:Math.max(0,Math.abs(t.facet.scales.value(LR.stack?t.value_base:0)-t.facet.scales.value(t.value))-n[0]-n[1]),l=this.getAttribute("data-type");return"column"==l||"bar"==l?SM(r,f(i,o,a,s)):CZ(BZ(r),i,o,a,s,{maxSegmentLength:1})}function f(t,e,n,r){var i=t+n,o=e+r;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+o+"L"+t+","+o+"Z"}r.merge(i).attr("visibility","visible").on("mouseover",vU).attr("id",function(t){return"point-"+t.series+"-"+t.row_index}).transition().duration(e?0:aS.data_trans_duration).delay(n).attr("transform","translate(0, 0)").attr("opacity",aS.column_opacity).attr("fill",HF).attr("stroke-width",0).attrTween("d",a).on("end",function(){this.setAttribute("data-type","column")}),r.exit().remove()}var XZ=Math.PI,JZ=2*XZ,KZ=1e-6,tH=JZ-KZ;function eH(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function nH(){return new eH}function rH(e){return function t(){return e}}eH.prototype=nH.prototype={constructor:eH,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,d=c*c+u*u,f,h,p,g,_,y,m,v,b;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):KZ<d&&(Math.abs(u*s-l*c)>KZ&&i?(p=s*s+l*l,g=(f=n-o)*f+(h=r-a)*h,_=Math.sqrt(p),y=Math.sqrt(d),v=(m=i*Math.tan((XZ-Math.acos((p+d-g)/(2*_*y)))/2))/y,b=m/_,Math.abs(v-1)>KZ&&(this._+="L"+(t+v*c)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(c*h<u*f)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>KZ||Math.abs(this._y1-c)>KZ)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%JZ+JZ),tH<d?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):KZ<d&&(this._+="A"+n+","+n+",0,"+ +(XZ<=d)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var iH=Math.abs,oH=Math.atan2,aH=Math.cos,sH=Math.max,lH=Math.min,cH=Math.sin,uH=Math.sqrt,dH=1e-12,fH=Math.PI,hH=fH/2,pH=2*fH;function gH(t){return 1<t?0:t<-1?fH:Math.acos(t)}function _H(t){return 1<=t?hH:t<=-1?-hH:Math.asin(t)}function yH(t){return t.innerRadius}function mH(t){return t.outerRadius}function vH(t){return t.startAngle}function bH(t){return t.endAngle}function xH(t){return t&&t.padAngle}function wH(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,d=s-o,f=d*l-u*c;if(!(f*f<dH))return[t+(f=(u*(e-o)-d*(t-i))/f)*l,e+f*c]}function MH(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/uH(s*s+l*l),u=c*l,d=-c*s,f=t+u,h=e+d,p=n+u,g=r+d,_=(f+p)/2,y=(h+g)/2,m=p-f,v=g-h,b=m*m+v*v,x=i-o,w=f*g-p*h,M=(v<0?-1:1)*uH(sH(0,x*x*b-w*w)),k=(w*v-m*M)/b,j=(-w*m-v*M)/b,A=(w*v+m*M)/b,I=(-w*m+v*M)/b,T=k-_,N=j-y,z=A-_,S=I-y;return z*z+S*S<T*T+N*N&&(k=A,j=I),{cx:k,cy:j,x01:-u,y01:-d,x11:k*(i/x-1),y11:j*(i/x-1)}}function kH(){var R=yH,Y=mH,U=rH(0),F=null,B=vH,Z=bH,H=xH,G=null;function e(){var t,e,n=+R.apply(this,arguments),r=+Y.apply(this,arguments),i=B.apply(this,arguments)-hH,o=Z.apply(this,arguments)-hH,a=iH(o-i),s=i<o,l,c,u,d,f,h,p,g,_,y,m,v,b,x,w,M,k,j,A,I,T,N,z,S,E,L,D,C,O,P,y,m;if(G=G||(t=nH()),r<n&&(e=r,r=n,n=e),dH<r?pH-dH<a?(G.moveTo(r*aH(i),r*cH(i)),G.arc(0,0,r,i,o,!s),dH<n&&(G.moveTo(n*aH(o),n*cH(o)),G.arc(0,0,n,o,i,s))):(u=l=i,d=c=o,h=f=a,p=H.apply(this,arguments)/2,g=dH<p&&(F?+F.apply(this,arguments):uH(n*n+r*r)),m=y=_=lH(iH(r-n)/2,+U.apply(this,arguments)),dH<g&&(x=_H(g/n*cH(p)),w=_H(g/r*cH(p)),(f-=2*x)>dH?(u+=x*=s?1:-1,d-=x):(f=0,u=d=(i+o)/2),(h-=2*w)>dH?(l+=w*=s?1:-1,c-=w):(h=0,l=c=(i+o)/2)),M=r*aH(l),k=r*cH(l),j=n*aH(d),A=n*cH(d),dH<_&&(I=r*aH(c),T=r*cH(c),N=n*aH(u),z=n*cH(u),a<fH&&(S=wH(M,k,N,z,I,T,j,A))&&(E=M-S[0],L=k-S[1],D=I-S[0],C=T-S[1],O=1/cH(gH((E*D+L*C)/(uH(E*E+L*L)*uH(D*D+C*C)))/2),P=uH(S[0]*S[0]+S[1]*S[1]),y=lH(_,(n-P)/(O-1)),m=lH(_,(r-P)/(1+O)))),dH<h?dH<m?(v=MH(N,z,M,k,r,m,s),b=MH(I,T,j,A,r,m,s),G.moveTo(v.cx+v.x01,v.cy+v.y01),m<_?G.arc(v.cx,v.cy,m,oH(v.y01,v.x01),oH(b.y01,b.x01),!s):(G.arc(v.cx,v.cy,m,oH(v.y01,v.x01),oH(v.y11,v.x11),!s),G.arc(0,0,r,oH(v.cy+v.y11,v.cx+v.x11),oH(b.cy+b.y11,b.cx+b.x11),!s),G.arc(b.cx,b.cy,m,oH(b.y11,b.x11),oH(b.y01,b.x01),!s))):(G.moveTo(M,k),G.arc(0,0,r,l,c,!s)):G.moveTo(M,k),dH<n&&dH<f?dH<y?(v=MH(j,A,I,T,n,-y,s),b=MH(M,k,N,z,n,-y,s),G.lineTo(v.cx+v.x01,v.cy+v.y01),y<_?G.arc(v.cx,v.cy,y,oH(v.y01,v.x01),oH(b.y01,b.x01),!s):(G.arc(v.cx,v.cy,y,oH(v.y01,v.x01),oH(v.y11,v.x11),!s),G.arc(0,0,n,oH(v.cy+v.y11,v.cx+v.x11),oH(b.cy+b.y11,b.cx+b.x11),s),G.arc(b.cx,b.cy,y,oH(b.y11,b.x11),oH(b.y01,b.x01),!s))):G.arc(0,0,n,d,u,s):G.lineTo(j,A)):G.moveTo(0,0),G.closePath(),t)return G=null,t+""||null}return e.centroid=function(){var t=(+R.apply(this,arguments)+ +Y.apply(this,arguments))/2,e=(+B.apply(this,arguments)+ +Z.apply(this,arguments))/2-fH/2;return[aH(e)*t,cH(e)*t]},e.innerRadius=function(t){return arguments.length?(R="function"==typeof t?t:rH(+t),e):R},e.outerRadius=function(t){return arguments.length?(Y="function"==typeof t?t:rH(+t),e):Y},e.cornerRadius=function(t){return arguments.length?(U="function"==typeof t?t:rH(+t),e):U},e.padRadius=function(t){return arguments.length?(F=null==t?null:"function"==typeof t?t:rH(+t),e):F},e.startAngle=function(t){return arguments.length?(B="function"==typeof t?t:rH(+t),e):B},e.endAngle=function(t){return arguments.length?(Z="function"==typeof t?t:rH(+t),e):Z},e.padAngle=function(t){return arguments.length?(H="function"==typeof t?t:rH(+t),e):H},e.context=function(t){return arguments.length?(G=null==t?null:t,e):G},e}function jH(t){this._context=t}function AH(t){return new jH(t)}function IH(t){return t[0]}function TH(t){return t[1]}function NH(){var a=IH,s=TH,l=rH(!0),c=null,u=AH,d=null;function e(t){var e,n=t.length,r,i=!1,o;for(null==c&&(d=u(o=nH())),e=0;e<=n;++e)!(e<n&&l(r=t[e],e,t))===i&&((i=!i)?d.lineStart():d.lineEnd()),i&&d.point(+a(r,e,t),+s(r,e,t));if(o)return d=null,o+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:rH(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:rH(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:rH(!!t),e):l},e.curve=function(t){return arguments.length?(u=t,null!=c&&(d=u(c)),e):u},e.context=function(t){return arguments.length?(null==t?c=d=null:d=u(c=t),e):c},e}function zH(){var u=IH,d=null,f=rH(0),h=TH,p=rH(!0),g=null,_=AH,y=null;function e(t){var e,n,r,i=t.length,o,a=!1,s,l=new Array(i),c=new Array(i);for(null==g&&(y=_(s=nH())),e=0;e<=i;++e){if(!(e<i&&p(o=t[e],e,t))===a)if(a=!a)n=e,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=e-1;n<=r;--r)y.point(l[r],c[r]);y.lineEnd(),y.areaEnd()}a&&(l[e]=+u(o,e,t),c[e]=+f(o,e,t),y.point(d?+d(o,e,t):l[e],h?+h(o,e,t):c[e]))}if(s)return y=null,s+""||null}function t(){return NH().defined(p).curve(_).context(g)}return e.x=function(t){return arguments.length?(u="function"==typeof t?t:rH(+t),d=null,e):u},e.x0=function(t){return arguments.length?(u="function"==typeof t?t:rH(+t),e):u},e.x1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:rH(+t),e):d},e.y=function(t){return arguments.length?(f="function"==typeof t?t:rH(+t),h=null,e):f},e.y0=function(t){return arguments.length?(f="function"==typeof t?t:rH(+t),e):f},e.y1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:rH(+t),e):h},e.lineX0=e.lineY0=function(){return t().x(u).y(f)},e.lineY1=function(){return t().x(u).y(h)},e.lineX1=function(){return t().x(d).y(f)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:rH(!!t),e):p},e.curve=function(t){return arguments.length?(_=t,null!=g&&(y=_(g)),e):_},e.context=function(t){return arguments.length?(null==t?g=y=null:y=_(g=t),e):g},e}function SH(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function EH(t){return t}function LH(){var p=EH,g=SH,_=null,y=rH(0),m=rH(pH),v=rH(0);function e(n){for(var t,e=n.length,r,i,o=0,a=new Array(e),s=new Array(e),l=+y.apply(this,arguments),c=Math.min(pH,Math.max(-pH,m.apply(this,arguments)-l)),u,d=Math.min(Math.abs(c)/e,v.apply(this,arguments)),f=d*(c<0?-1:1),h,t=0;t<e;++t)0<(h=s[a[t]=t]=+p(n[t],t,n))&&(o+=h);for(null!=g?a.sort(function(t,e){return g(s[t],s[e])}):null!=_&&a.sort(function(t,e){return _(n[t],n[e])}),t=0,i=o?(c-e*f)/o:0;t<e;++t,l=u)r=a[t],u=l+(0<(h=s[r])?h*i:0)+f,s[r]={data:n[r],index:t,value:h,startAngle:l,endAngle:u,padAngle:d};return s}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:rH(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,_=null,e):g},e.sort=function(t){return arguments.length?(_=t,g=null,e):_},e.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:rH(+t),e):y},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:rH(+t),e):m},e.padAngle=function(t){return arguments.length?(v="function"==typeof t?t:rH(+t),e):v},e}function DH(t){return t<0?-1:1}function CH(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(DH(o)+DH(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function OH(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function PH(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function RH(t){this._context=t}function YH(t){this._context=new UH(t)}function UH(t){this._context=t}function FH(t){return new RH(t)}function BH(t){this._context=t}function ZH(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function HH(t){return new BH(t)}function GH(t,e){this._context=t,this._t=e}function QH(t){return new GH(t,.5)}function qH(t){return new GH(t,0)}function VH(t){return new GH(t,1)}jH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},RH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PH(this,this._t0,OH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,PH(this,OH(this,n=CH(this,t,e)),n);break;default:PH(this,this._t0,n=CH(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(YH.prototype=Object.create(RH.prototype)).point=function(t,e){RH.prototype.point.call(this,e,t)},UH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},BH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=ZH(t),i=ZH(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},GH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:var n;this._t<=0?(this._context.lineTo(this._x,e),this._context.lineTo(t,e)):(n=this._x*(1-this._t)+t*this._t,this._context.lineTo(n,this._y),this._context.lineTo(n,e))}this._x=t,this._y=e}};var WH=LH().value(function(t){return t.value}).sort(TF);function $H(t){var e=WH(t);return e.forEach(function(t){t.label_formatted=t.data.label_formatted,t.metadata=t.data.metadata,t.row_values=t.data.row_values,t.value_display=t.data.value_display,t.SERIES=t.data.SERIES}),e}function XH(t,e,n,r){var i=SM((e=e||this)._current,{startAngle:t.startAngle,endAngle:t.endAngle});e._current=i(0);var o=SM(e._prev_r,n);return function(t){var e=o(t);return r.outerRadius(e).innerRadius(e*aS.donut_inner_radius/100),r(i(t))}}function JH(t){var e,n;return"translate("+(t.data.facet.scales.w/2+t.data.facet.chart_layout.margins.left)+","+(t.data.facet.scales.h/2+t.data.facet.chart_layout.margins.top)+")"}function KH(t){return Math.min(t.data.facet.scales.h,t.data.facet.scales.w)/2*Math.sqrt(t.data.facet.scales.sum_scale_ratio)}function tG(t,e,n){var r=kH().outerRadius(KH).innerRadius(function(t){return KH(t)*aS.donut_inner_radius/100}).cornerRadius(aS.donut_corner_radius).padAngle(aS.donut_pad_angle*Math.PI/180),i=t.selectAll(".data-point").data(function(t){return $H(t.data_points)},WF),o=i.enter().append("path").attr("class","data-point").attr("data-type","arc").each(function(t){this._current={startAngle:0,endAngle:0},this._prev_r=KH(t)}).attr("fill",function(t){return HF(t.data)}).attr("opacity",0).attr("d",r).attr("stroke-width",0).attr("transform",JH).on("click",mU).on("mouseout",bU);i.merge(o).on("mouseover",vU).attr("visibility","visible").each(function(t){this.__centroid__=r.centroid(t)}).attr("id",function(t){return"point-"+t.data.series+"-"+t.data.row_index}).transition().duration(e?0:aS.data_trans_duration).delay(n).attr("fill",function(t){return HF(t.data)}).attr("transform",JH).attr("opacity",1).attr("stroke-width",0).attrTween("d",function(t){var e=KH(t);return"arc"==this.getAttribute("data-type")?XH(t,this,e,r,t.data.facet.index):zZ(this.getAttribute("d"),BZ(r(t)),{maxSegmentLength:1})}).on("end",function(t){this.setAttribute("data-type","arc"),this._prev_r=KH(t),this._current=t}),i.exit().each(function(t){yb(this).attr("id",null),t.data?yb(this).transition().duration(e?0:aS.data_trans_duration).attrTween("d",function(t){return XH({startAngle:2*Math.PI,endAngle:2*Math.PI},this,KH(t),r)}).remove():yb(this).remove()})}var eG={area:zH,line:NH,curveLinear:AH,curveMonotoneX:FH,curveNatural:HH,curveStep:QH,curveStepAfter:VH,curveStepBefore:qH};function nG(t){return"log"==aS.y.numeric_scale_type&&t<=0?.01:t}function rG(t){return"translate("+t.facet.layout.x+","+t.facet.layout.y+")"}function iG(e){return eG.line().x(function(t){var e;return(0,t.facet.scales.label)(t.label)}).y(function(t){return t.facet.scales[e?"value_secondary":"value"](nG(t.value))}).curve(eG[aS.line_curve]||eG.curveLinear).defined(function(t){return null!==t})}function oG(t,e,n,r,a){var i=iG(a),o=a?"-secondary":"",s=yb("#lines"+o).selectAll(".series"+o).data(t,$F),l=s,c=VQ.remToPx(aS.line_width),u=s.exit(),d;u.attr("class",null).transition().duration(e?0:aS.data_trans_duration).delay(n).style("opacity",0).remove(),u.select("path").attr("clip-path",function(){return"url(#clip-"+this.getAttribute("clip-path-id")+"-exiting)"}),u.select("clipPath").attr("id",function(){return this.getAttribute("id")+"-exiting"}),LR.has_lines&&((d=s.enter().append("g").attr("class","series"+o)).append("clipPath").attr("id",function(t,e){return"clip-"+t.facet.index+"-"+e+o}).append("rect").attr("width",0).attr("x",function(t){return t.facet.chart_layout.margins().left}).attr("y",g).attr("height",_),d.append("path").attr("class","line").attr("opacity",aS.line_opacity).attr("pointer-events","none").attr("fill","none").attr("stroke-dasharray",fG).attr("stroke",GF).attr("stroke-width",c).attr("transform",rG).attr("clip-path",function(t,e){return"url(#clip-"+t.facet.index+"-"+e+o+")"}),l=s.merge(d));var f=3*l.size();function h(){LR.has_lines||0==--f&&l.remove()}l.select("clipPath").attr("id",function(t,e){return"clip-"+t.facet.index+"-"+e+o}).select("rect").transition().duration(e?0:aS.data_trans_duration).delay(e?0:r).attr("x",function(t){return t.facet.chart_layout.margins().left}).attr("y",g).attr("height",_).attr("width",function(t){return a||"line"==LR.mode?t.facet.layout.plot_w:0}).on("interrupt",function(t){yb(this).attr("height",_).transition().duration(e?0:aS.data_trans_duration).delay(e?0:r).attr("width",a||"line"==LR.mode?t.facet.layout.plot_w:0).attr("x",function(t){return t.facet.chart_layout.margins().left}).attr("y",g)}).on("end",h),l.select("path.line").attr("clip-path",function(t,e){return"url(#clip-"+t.facet.index+"-"+e+o+")"}).attr("clip-path-id",function(t,e){return t.facet.index+"-"+e+o}).transition().duration(e?0:aS.data_trans_duration).delay(n).attr("opacity",aS.line_opacity).attr("fill","none").attr("stroke-dasharray",fG).attr("stroke",GF).attr("stroke-width",c).attr("transform",rG).attr("d",function(t){return i(t[LR.getLineDataPoints(a)])}).on("end",h);var p=[];function g(t){return t.facet.chart_layout.margins().top-c}function _(t){return t.facet.layout.plot_h+2*c}LR.has_secondary_value_axis||(p=t.map(function(t){for(var e=t[LR.getLineDataPoints(a)],n=null,r=e.length-1;0<=r;r--)if(e[r]){n=e[r];break}if(!n)return null;var i=t.facet.scales.label,o=HZ(!0);return{x:i(n.label)+t.facet.layout.x+o+2,y:t.facet.scales[a?"value_secondary":"value"](n.value)+t.facet.layout.y,text:t.name,color:GF(t),group:t.facet.layout.x}}).filter(function(t){return null!==t})),a||iq.duration(e?0:aS.data_trans_duration).backgroundColor(aS.layout.background_color).foregroundColor(aS.layout.font_color).delay(r).group("group").data("line"==LR.mode&&aS.line_end_labels?p:[]).yBounds([0,VQ.getPrimaryHeight()]).update()}function aG(t,e){return"area"==e?0:"value_base"in t?t.value_base:t.value}var sG=null,lG,cG;function uG(e){return eG.area().x(function(t){return t.facet.scales.label(t.label)}).y0(function(t){return t.facet.scales.value(nG(t.value))}).y1(function(t){return t.facet.scales.value(nG(aG(t,e)))}).curve(eG[aS.line_curve]||eG.curveLinear).defined(function(t){return null!==t})}function dG(t,e,n){var r=uG(sG),i=uG(aS.chart_type),o=yb(".lines-secondary").selectAll(".series-secondary").size(),a=yb("#lines").selectAll(".series").data(),s=yb("#areas").selectAll(".series").data(t,$F),l=s,c,u;LR.area&&(u=(c=s.enter().append("g").attr("class","series").attr("pointer-events","none")).append("path").attr("class","area").attr("transform",rG).attr("fill-opacity",0).attr("fill",GF).attr("clip-path",function(t,e){return"url(#clip-"+t.facet.index+"-"+e+")"}),a&&a.length&&u.attr("d",function(t,e){var n=a[o+e];return n?r(n.data_points):null}),l=s.merge(c));var d=l.size();l.select("path.area").attr("clip-path",function(t,e){return"url(#clip-"+t.facet.index+"-"+e+")"}).attr("clip-path-id",function(t,e){return t.facet.index+"-"+e}).transition().duration(e?0:aS.data_trans_duration).delay(n).attr("transform",rG).attr("fill-opacity",LR.area?aS.area_opacity:0).attr("fill",GF).attr("d",function(t){return i(t[LR.getLineDataPoints()])}).on("end",function(){LR.area||0!=--d||l.remove()});var f=s.exit();f.attr("class",null).transition().duration(e?0:aS.data_trans_duration).delay(n).style("opacity",0).remove(),f.select("path").attr("clip-path",function(){return"url(#clip-"+this.getAttribute("clip-path-id")+"-exiting)"}),sG=aS.chart_type}function fG(t){var e;return-1<aS.line_dash_items.split("\n").map(function(t){return t.trim()}).indexOf(t.name)?aS.line_dash_width+" "+aS.line_dash_space_width:null}function hG(t,e){var n=t[LR.getLineDataPoints()],r=e[LR.getLineDataPoints()].slice().reverse(),i,o;return iG(t.secondary)(n)+"L"+iG(e.secondary)(r).substring(1)}function pG(t,e,n){var o=[],r,i;LR.has_lines&&!LR.area&&aS.shade_between_lines&&(r=[],aS.shade_between_lines_config.split(/\n/).forEach(function(t){var e=t.replace(/\s*::\s*/g,"::").trim().split("::");1<e.length&&r.push({a:e[0],b:e[1],color:e[2]||aS.shade_between_lines_color,opacity:+e[3]||aS.shade_between_lines_opacity})}),r.forEach(function(i){t.forEach(function(t,e){var n,r;t.series.forEach(function(t){t.name==i.a&&(n=t),t.name==i.b&&(r=t)}),n&&r&&o.push({a:n,b:r,facet:e,color:i.color,opacity:i.opacity})})}));var a=yb("#areas").selectAll(".shading").data(o),s=a.enter().append("path").attr("class","shading").attr("d",function(t){var e;return hG(t.a,t.b)}).attr("transform",function(t){return rG(t.a)}).attr("opacity",0).attr("pointer-events","none");a.merge(s).attr("clip-path",function(t){var e=t.a.secondary?"-secondary":"";return"url(#clip-"+t.facet+"-"+t.a.index+e+")"}).transition().duration(e?0:aS.data_trans_duration).delay(n).attr("d",function(t){var e;return hG(t.a,t.b)}).attr("transform",function(t){return rG(t.a)}).attr("fill",function(t){return t.color}).attr("opacity",function(t){return t.opacity}),a.exit().remove()}function gG(t,e,n,r,i){i||(dG(t,e,n),pG(aF,e,n)),oG(t,e,n,r,i)}function _G(t,n,e){var r=VQ.remToPx(aS.bar_labels_font_size),i=t.selectAll(".bar-label").data(LR.has_bar_labels?n.label_domain:[]),o=i.enter().append("text").attr("class","bar-label").attr("transform",l).attr("font-weight",aS.bar_labels_weight).attr("font-size",r).attr("fill",aS.bar_labels_color||"currentColor").attr("opacity",0).text(c),a=i.merge(o).attr("font-weight",aS.bar_labels_weight).attr("fill",aS.bar_labels_color||"currentColor").text(c),s=e?0:aS.data_trans_duration;function l(t){var e=n.scales.label(t)-n.scales.group_w/2-.2*r;return"translate("+n.chart_layout.margins.left+","+e+")"}function c(t){return aF.labelFormat(t)}a.transition().duration(s).attr("font-size",r).attr("transform",l).attr("opacity",1),i.exit().remove()}function yG(){return VQ.remToPx(aS.anno_x_font_size)}function mG(){return VQ.remToPx(aS.anno_y_font_size)}function vG(t){return t.replace(/\s*::\s*/g,"::").split("::")}function bG(t){return t.replace(/\s*>>\s*/,">>").split(">>")}function xG(t){return t.color}function wG(t,e){var n,r,n;return n="number"===e?isNaN(lG(t))?lG(t):t:"datetime"===e?aF.labelTest(t)?aF.labelParse(t):(r=WQ([t])[0],Flourish.warn({message:"Axis highlight date/time format did not match the input data",explanation:"Interpretting this annotation in the format "+r.description+"."}),r.parse(t)):t}function MG(t,a,e,n){var r=a.scales,o=a.chart_layout.margins.left,i=a.chart_layout.margins.top,s=r.h,l=aS.anno_x_label_align,c=aS.anno_x_label_vertical,u=LR.values_on_x?r.value:r.label,d=LR.values_on_x?"number":aF.label_type,f=[];aS.anno_x_enabled&&LR.has_axes&&aS.anno_x_lines&&n==aS.anno_x_stack&&aS.anno_x_lines.split("\n").forEach(function(t){var e=vG(t),n=e[0],r=e[1],i,o;void 0!==r&&(i=e[2]||aS.anno_x_line_color,(o=e[3]||null)&&a.name!=o||f.push({label:n,x:wG(r,d),color:i}))});var h=yb(t).selectAll("g.line.x").data(f),p=h.enter().append("g").attr("class","line x").attr("transform",function(t){return"translate("+(u(t.x)||o)+", "+i+")"});p.append("line"),p.append("text");var g=h.merge(p);g.transition().duration(cG).attr("transform",function(t){return"translate("+(u(t.x)||o)+", "+i+")"}),g.select("line").attr("stroke-dasharray",aS.anno_x_line_dash+" "+aS.anno_x_line_dash).attr("stroke",xG).attr("stroke-width",aS.anno_x_line_width).attr("y2",s),g.select("text").text(function(t){return t.label}).attr("fill",aS.anno_x_line_color).attr("font-size",yG()).attr("transform",function(t){var e=c?6:1.25*yG(),n="bottom"==l?s-e:"top"==l?e:s/2;if(c)return"translate("+.5*yG()+", "+n+") rotate("+(c?-90:0)+")";var r=this.getBoundingClientRect(),i=-yG()/2;return(u(t.x)||o)-r.width-yG()/2<u.range()[0]&&(i+=r.width+yG()),"translate("+i+", "+n+")"}).attr("text-anchor",function(){return c?"bottom"==l?"start":"top"==l?"end":"middle":"end"}).attr("dy",function(t){return c?(u(t.x)||0)<yG()+o?"0.75em":"-1em":null}),h.exit().remove()}function kG(t,a,e,n){var r=a.scales,i=a.chart_layout.margins.left,o=a.chart_layout.margins.top,s=r.h,l=aS.anno_x_label_align,c=aS.anno_x_label_vertical,u=LR.values_on_x?r.value:r.label,d=LR.values_on_x?"number":aF.label_type,f=[];aS.anno_x_enabled&&LR.has_axes&&aS.anno_x_areas&&n==aS.anno_x_stack&&aS.anno_x_areas.split("\n").map(function(t){var e=vG(t),n,r,i,o;e.length<2||(n=e[0],r=bG(e[1]).map(function(t,e){var n=u(wG(t,d));return"column"==LR.mode&&(n+=u.step()/2*(0==e?-1:1)),n}),i=e[2]||aS.anno_x_fill_color,(o=e[3]||null)&&a.name!=o||1<r.length&&f.push({label:n,range:r,color:i}))});var h=yb(t).selectAll("g.area.x").data(f),p=h.enter().append("g").attr("class","area x").attr("transform",function(t){return"translate("+(Math.min(t.range[0],t.range[1])||i)+", "+o+")"});p.append("rect").attr("height",s).attr("width",function(t){return Math.abs(t.range[1]-t.range[0])||0}),p.append("text");var g=h.merge(p);g.transition().duration(cG).attr("transform",function(t){return"translate("+(Math.min(t.range[0],t.range[1])||i)+", "+o+")"}),g.select("rect").attr("width",function(t){return Math.abs(t.range[1]-t.range[0])||0}).attr("fill",xG).attr("opacity",aS.anno_x_fill_opacity).attr("height",s),g.select("text").text(function(t){return t.label}).attr("fill",aS.anno_x_label_color).attr("font-size",yG()).attr("transform",function(){var t=c?6:1.25*yG(),e="bottom"==l?s-t:"top"==l?t:s/2;return"translate("+.5*yG()+", "+e+") rotate("+(c?-90:0)+")"}).attr("text-anchor",function(){return!c||"bottom"==l?"start":"top"==l?"end":"middle"}).attr("dy",c?"0.75em":null),h.exit().remove()}function jG(t,a,e,n){var r=a.scales,i=r.w,o=aS.anno_y_label_align,s=a.chart_layout.margins.left,l=a.chart_layout.margins.top,c=LR.values_on_x?r.label:r.value,u=LR.values_on_x?aF.label_type:"number",d=[];aS.anno_y_enabled&&LR.has_axes&&!LR.hide_y_axis&&aS.anno_y_lines&&n==aS.anno_y_stack&&aS.anno_y_lines.split("\n").forEach(function(t){var e=vG(t),n=e[0],r=e[1],i,o;void 0!==r&&(i=e[2]||aS.anno_y_line_color,(o=e[3]||null)&&a.name!=o||d.push({label:n,y:wG(r,u),color:i}))});var f=yb(t).selectAll("g.line.y").data(d),h=f.enter().append("g").attr("class","line y").attr("transform",function(t){return"translate("+s+", "+(c(t.y)||0)+")"});h.append("line").attr("width",0),h.append("text");var p=f.merge(h);p.transition().duration(cG).attr("transform",function(t){return"translate("+s+", "+(c(t.y)||0)+")"}),p.select("line").attr("stroke-dasharray",aS.anno_y_line_dash+" "+aS.anno_y_line_dash).attr("stroke",xG).attr("stroke-width",aS.anno_y_line_width).attr("x2",i),p.select("text").text(function(t){return t.label}).attr("fill",aS.anno_y_line_color).attr("x","left"==o?10:"right"==o?i-6:i/2).attr("text-anchor","left"==o?"start":"right"==o?"end":"middle").attr("dy",function(t){return(c(t.y)||0)<yG()+l?"1.25em":"-0.5em"}).attr("font-size",mG()),f.exit().remove()}function AG(t,a,e,n){var r=a.scales,i=r.w,o=aS.anno_y_label_align,s=a.chart_layout.margins.left,l=LR.values_on_x?r.label:r.value,c=LR.values_on_x?aF.label_type:"number",u=[];aS.anno_y_enabled&&LR.has_axes&&!LR.hide_y_axis&&aS.anno_y_areas&&n==aS.anno_y_stack&&aS.anno_y_areas.split("\n").map(function(t){var e=vG(t),n,r,i,o;e.length<2||(n=e[0],r=bG(e[1]).map(function(t,e){var n=l(wG(t,c));return"bar"==LR.mode&&(n+=l.step()/2*(0==e?1:-1)),n}),i=e[2]||aS.anno_y_fill_color,(o=e[3]||null)&&a.name!=o||1<r.length&&u.push({label:n,range:r,color:i}))});var d=yb(t).selectAll("g.area.y").data(u),f=d.enter().append("g").attr("class","area y").attr("transform",function(t){return"translate("+s+", "+Math.min(t.range[0],t.range[1])+")"});f.append("rect").attr("width",i).attr("height",function(t){return Math.abs(t.range[1]-t.range[0])}),f.append("text");var h=d.merge(f);h.transition().duration(cG).attr("transform",function(t){return"translate("+s+", "+Math.min(t.range[0],t.range[1])+")"}),h.select("rect").attr("height",function(t){return Math.abs(t.range[1]-t.range[0])}).attr("fill",xG).attr("opacity",aS.anno_y_fill_opacity).attr("width",i),h.select("text").text(function(t){return t.label}).attr("fill",aS.anno_y_label_color).attr("x","left"==o?10:"right"==o?i-6:i/2).attr("text-anchor","left"==o?"start":"right"==o?"end":"middle").attr("dominant-baseline","hanging").attr("dy","0.33em").attr("font-size",mG()),d.exit().remove()}function IG(t,n,r){var e=yb(".annotations."+r).selectAll("g.axis-highlights").data(aF),i=e.enter().append("g").attr("class","axis-highlights").attr("transform",function(t){return"translate("+t.layout.x+", "+t.layout.y+")"}).style("opacity",0);e.merge(i).transition().duration(n?0:aS.data_trans_duration).style("opacity",1).attr("transform",function(t){return"translate("+t.layout.x+", "+t.layout.y+")"}).each(function(t){var e=this;MG(e,t,n,r),kG(e,t,n,r),jG(e,t,n,r),AG(e,t,n,r)}),e.exit().remove()}function TG(t,e){cG=e?0:aS.data_trans_duration,lG=GQ.getParser(),IG(t,e,"above"),IG(t,e,"below")}var NG=Math.pow(2,-52),zG=new Uint32Array(512),SG=function(){function u(t){Pb(this,u);var e=t.length>>1;if(0<e&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}return Yb(u,null,[{key:"from",value:function t(e,n,r){for(var i=1<arguments.length&&void 0!==n?n:FG,o=2<arguments.length&&void 0!==r?r:BG,a=e.length,s=new Float64Array(2*a),l=0;l<a;l++){var c=e[l];s[2*l]=i(c),s[2*l+1]=o(c)}return new u(s)}}]),Yb(u,[{key:"update",value:function t(){for(var e=this.coords,n=this._hullPrev,r=this._hullNext,i=this._hullTri,o=this._hullHash,a=e.length>>1,s=1/0,l=1/0,c=-1/0,u=-1/0,d=0;d<a;d++){var f=e[2*d],h=e[2*d+1];f<s&&(s=f),h<l&&(l=h),c<f&&(c=f),u<h&&(u=h),this._ids[d]=d}for(var p=(s+c)/2,g=(l+u)/2,_=1/0,y,m,v,b=0;b<a;b++){var x=LG(p,g,e[2*b],e[2*b+1]);x<_&&(y=b,_=x)}for(var w=e[2*y],M=e[2*y+1],_=1/0,k=0,j;k<a;k++){k!==y&&((j=LG(w,M,e[2*k],e[2*k+1]))<_&&0<j&&(m=k,_=j))}for(var A=e[2*m],I=e[2*m+1],T=1/0,N=0,z;N<a;N++){N!==y&&N!==m&&((z=PG(w,M,A,I,e[2*N],e[2*N+1]))<T&&(v=N,T=z))}var S=e[2*v],E=e[2*v+1],L,D,C,m,A,I,v,S,E;if(T===1/0){for(var O=0;O<a;O++)this._dists[O]=e[2*O]-e[0]||e[2*O+1]-e[1];YG(this._ids,this._dists,0,a-1);for(var P=new Uint32Array(a),R=0,Y=0,U=-1/0;Y<a;Y++){var F=this._ids[Y];this._dists[F]>U&&(P[R++]=F,U=this._dists[F])}return this.hull=P.subarray(0,R),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}CG(w,M,A,I,S,E)&&(L=m,D=A,C=I,m=v,A=S,I=E,v=L,S=D,E=C);var B=RG(w,M,A,I,S,E);this._cx=B.x,this._cy=B.y;for(var Z=0;Z<a;Z++)this._dists[Z]=LG(e[2*Z],e[2*Z+1],B.x,B.y);YG(this._ids,this._dists,0,a-1);var H=3;r[this._hullStart=y]=n[v]=m,r[m]=n[y]=v,r[v]=n[m]=y,i[y]=0,i[m]=1,i[v]=2,o.fill(-1),o[this._hashKey(w,M)]=y,o[this._hashKey(A,I)]=m,o[this._hashKey(S,E)]=v,this.trianglesLen=0,this._addTriangle(y,m,v,-1,-1,-1);for(var G=0,Q,q;G<this._ids.length;G++){var V=this._ids[G],W=e[2*V],$=e[2*V+1];if(!(0<G&&Math.abs(W-Q)<=NG&&Math.abs($-q)<=NG)&&(Q=W,q=$,V!==y&&V!==m&&V!==v)){for(var X=0,J=0,K=this._hashKey(W,$);J<this._hashSize&&(-1===(X=o[(K+J)%this._hashSize])||X===r[X]);J++);for(var tt=X=n[X],et=void 0;et=r[tt],!CG(W,$,e[2*tt],e[2*tt+1],e[2*et],e[2*et+1]);)if((tt=et)===X){tt=-1;break}if(-1!==tt){var nt=this._addTriangle(tt,V,r[tt],-1,-1,i[tt]);i[V]=this._legalize(nt+2),i[tt]=nt,H++;for(var rt=r[tt];et=r[rt],CG(W,$,e[2*rt],e[2*rt+1],e[2*et],e[2*et+1]);)nt=this._addTriangle(rt,V,et,i[V],-1,i[rt]),i[V]=this._legalize(nt+2),r[rt]=rt,H--,rt=et;if(tt===X)for(;CG(W,$,e[2*(et=n[tt])],e[2*et+1],e[2*tt],e[2*tt+1]);)nt=this._addTriangle(et,V,tt,-1,i[tt],i[et]),this._legalize(nt+2),i[et]=nt,r[tt]=tt,H--,tt=et;this._hullStart=n[V]=tt,r[tt]=n[rt]=V,r[V]=rt,o[this._hashKey(W,$)]=V,o[this._hashKey(e[2*tt],e[2*tt+1])]=tt}}}this.hull=new Uint32Array(H);for(var it=0,ot=this._hullStart;it<H;it++)ot=r[this.hull[it]=ot];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function t(e,n){return Math.floor(EG(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function t(e){for(var n=this._triangles,r=this._halfedges,i=this.coords,o=0,a=0;;){var s=r[e],l=e-e%3,a=l+(e+2)%3;if(-1!==s){var c=s-s%3,u=l+(e+1)%3,d=c+(s+2)%3,f=n[a],h=n[e],p=n[u],g=n[d],_;if(OG(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[e]=g,n[s]=f;var y=r[d];if(-1===y){var m=this._hullStart;do{if(this._hullTri[m]===d){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,y),this._link(s,r[a]),this._link(a,d);var v=c+(s+1)%3;o<zG.length&&(zG[o++]=v)}else{if(0===o)break;e=zG[--o]}}else{if(0===o)break;e=zG[--o]}}return a}},{key:"_link",value:function t(e,n){-1!==(this._halfedges[e]=n)&&(this._halfedges[n]=e)}},{key:"_addTriangle",value:function t(e,n,r,i,o,a){var s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}]),u}();function EG(t,e){var n=t/(Math.abs(t)+Math.abs(e));return(0<e?3-n:1+n)/4}function LG(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function DG(t,e,n,r,i,o){var a=(r-e)*(i-t),s=(n-t)*(o-e);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function CG(t,e,n,r,i,o){var a;return(DG(i,o,t,e,n,r)||DG(t,e,n,r,i,o)||DG(n,r,i,o,t,e))<0}function OG(t,e,n,r,i,o,a,s){var l=t-a,c=e-s,u=n-a,d=r-s,f=i-a,h=o-s,p,g=u*u+d*d,_=f*f+h*h;return l*(d*_-g*h)-c*(u*_-g*f)+(l*l+c*c)*(u*h-d*f)<0}function PG(t,e,n,r,i,o){var a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,d=l*l+c*c,f=.5/(a*c-s*l),h=(c*u-s*d)*f,p=(a*d-l*u)*f;return h*h+p*p}function RG(t,e,n,r,i,o){var a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,d=l*l+c*c,f=.5/(a*c-s*l),h,p;return{x:t+(c*u-s*d)*f,y:e+(a*d-l*u)*f}}function YG(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=t[i],a=e[o],s=i-1;n<=s&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{var l,c=n+1,u=r;UG(t,n+r>>1,c),e[t[n]]>e[t[r]]&&UG(t,n,r),e[t[c]]>e[t[r]]&&UG(t,c,r),e[t[n]]>e[t[c]]&&UG(t,n,c);for(var d=t[c],f=e[d];;){for(;e[t[++c]]<f;);for(;e[t[--u]]>f;);if(u<c)break;UG(t,c,u)}t[n+1]=t[u],t[u]=d,u-n<=r-c+1?(YG(t,e,c,r),YG(t,e,n,u-1)):(YG(t,e,n,u-1),YG(t,e,c,r))}}function UG(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function FG(t){return t[0]}function BG(t){return t[1]}var ZG=1e-6,HG=function(){function t(){Pb(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Yb(t,[{key:"moveTo",value:function t(e,n){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+n)}},{key:"closePath",value:function t(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function t(e,n){this._+="L".concat(this._x1=+e,",").concat(this._y1=+n)}},{key:"arc",value:function t(e,n,r){var i=(e=+e)+(r=+r),o=n=+n;if(r<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(i,",").concat(o):(Math.abs(this._x1-i)>ZG||Math.abs(this._y1-o)>ZG)&&(this._+="L"+i+","+o),r&&(this._+="A".concat(r,",").concat(r,",0,1,1,").concat(e-r,",").concat(n,"A").concat(r,",").concat(r,",0,1,1,").concat(this._x1=i,",").concat(this._y1=o))}},{key:"rect",value:function t(e,n,r,i){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+n,"h").concat(+r,"v").concat(+i,"h").concat(-r,"Z")}},{key:"value",value:function t(){return this._||null}}]),t}(),GG=function(){function t(){Pb(this,t),this._=[]}return Yb(t,[{key:"moveTo",value:function t(e,n){this._.push([e,n])}},{key:"closePath",value:function t(){this._.push(this._[0].slice())}},{key:"lineTo",value:function t(e,n){this._.push([e,n])}},{key:"value",value:function t(){return this._.length?this._:null}}]),t}(),QG=function(){function s(t){var e,n=Wb(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],4),r=n[0],i=n[1],o=n[2],a=n[3];if(Pb(this,s),!((o=+o)>=(r=+r)&&(a=+a)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=r,this.ymax=a,this.ymin=i,this._init()}return Yb(s,[{key:"update",value:function t(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function t(){for(var e=this.delaunay,n=e.points,r=e.hull,i=e.triangles,o=this.vectors,a=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2),s=0,l=0,c=i.length,u,d;s<c;s+=3,l+=2){var f=2*i[s],h=2*i[s+1],p=2*i[s+2],g=n[f],_=n[1+f],y=n[h],m=n[1+h],v=n[p],b=n[1+p],x=y-g,w=m-_,M=v-g,k=b-_,j=x*x+w*w,A=M*M+k*k,I=2*(x*k-w*M),T,u,d;d=I?Math.abs(I)<1e-8?(u=(g+v)/2,(_+b)/2):(u=g+(k*j-w*A)*(T=1/I),_+(x*A-M*j)*T):(u=(g+v)/2-1e8*k,(_+b)/2+1e8*M),a[l]=u,a[l+1]=d}var N=r[r.length-1],z,S=4*N,E,L=n[2*N],D,C=n[2*N+1];o.fill(0);for(var O=0;O<r.length;++O)z=S,E=L,D=C,S=4*(N=r[O]),L=n[2*N],C=n[2*N+1],o[z+2]=o[S]=D-C,o[z+3]=o[S+1]=L-E}},{key:"render",value:function t(e){var n=null==e?e=new HG:void 0,r=this.delaunay,i=r.halfedges,o=r.inedges,a=r.hull,s=this.circumcenters,l=this.vectors;if(a.length<=1)return null;for(var c=0,u=i.length;c<u;++c){var d=i[c],f,h,p,g,_,y;d<c||(f=2*Math.floor(c/3),h=2*Math.floor(d/3),p=s[f],g=s[1+f],_=s[h],y=s[1+h],this._renderSegment(p,g,_,y,e))}for(var m,v=a[a.length-1],b=0;b<a.length;++b){m=v,v=a[b];var x=2*Math.floor(o[v]/3),w=s[x],M=s[1+x],k=4*m,j=this._project(w,M,l[2+k],l[3+k]);j&&this._renderSegment(w,M,j[0],j[1],e)}return n&&n.value()}},{key:"renderBounds",value:function t(e){var n=null==e?e=new HG:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}},{key:"renderCell",value:function t(e,n){var r=null==n?n=new HG:void 0,i=this._clip(e);if(null!==i&&i.length){n.moveTo(i[0],i[1]);for(var o=i.length;i[0]===i[o-2]&&i[1]===i[o-1]&&1<o;)o-=2;for(var a=2;a<o;a+=2)i[a]===i[a-2]&&i[a+1]===i[a-1]||n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}}},{key:"cellPolygons",value:regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:n=this.delaunay.points,r=0,i=n.length/2;case 2:if(!(r<i)){e.next=11;break}if(o=this.cellPolygon(r))return o.index=r,e.next=8,o;e.next=8;break;case 8:++r,e.next=2;break;case 11:case"end":return e.stop()}},t,this)})},{key:"cellPolygon",value:function t(e){var n=new GG;return this.renderCell(e,n),n.value()}},{key:"_renderSegment",value:function t(e,n,r,i,o){var a,s=this._regioncode(e,n),l=this._regioncode(r,i);0===s&&0===l?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}},{key:"contains",value:function t(e,n,r){return(n=+n)==n&&(r=+r)==r&&this.delaunay._step(e,n,r)===e}},{key:"neighbors",value:regeneratorRuntime.mark(function t(n){var r,i,o,a,s,l,c,u,d;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._clip(n))){e.next=33;break}i=ox(this.delaunay.neighbors(n)),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=25;break}if(a=o.value,!(s=this._clip(a))){e.next=23;break}l=0,c=r.length;case 10:if(!(l<c)){e.next=23;break}u=0,d=s.length;case 12:if(!(u<d)){e.next=20;break}if(r[l]==s[u]&&r[l+1]==s[u+1]&&r[(l+2)%c]==s[(u+d-2)%d]&&r[(l+3)%c]==s[(u+d-1)%d])return e.next=16,a;e.next=17;break;case 16:return e.abrupt("break",23);case 17:u+=2,e.next=12;break;case 20:l+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:case"end":return e.stop()}},t,this,[[3,27,30,33]])})},{key:"_cell",value:function t(e){var n=this.circumcenters,r=this.delaunay,i=r.inedges,o=r.halfedges,a=r.triangles,s=i[e];if(-1===s)return null;var l=[],c=s;do{var u=Math.floor(c/3);if(l.push(n[2*u],n[2*u+1]),a[c=c%3==2?c-2:c+1]!==e)break;c=o[c]}while(c!==s&&-1!==c);return l}},{key:"_clip",value:function t(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var n=this._cell(e);if(null===n)return null;var r=this.vectors,i=4*e;return r[i]||r[1+i]?this._clipInfinite(e,n,r[i],r[1+i],r[2+i],r[3+i]):this._clipFinite(e,n)}},{key:"_clipFinite",value:function t(e,n){for(var r=n.length,i=null,o,a,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),d,f,h=0;h<r;h+=2)if(o=s,a=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),0===c&&0===u)d=f,f=0,i?i.push(s,l):i=[s,l];else{var p=void 0,g=void 0,_=void 0,y=void 0,m=void 0;if(0===c){if(null===(p=this._clipSegment(o,a,s,l,c,u)))continue;var v,b=Wb(p,4),g=b[0],_=b[1],y=b[2],m=b[3]}else{if(null===(p=this._clipSegment(s,l,o,a,u,c)))continue;var x,w=Wb(p,4);y=w[0],m=w[1],g=w[2],_=w[3],d=f,f=this._edgecode(g,_),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(g,_):i=[g,_]}d=f,f=this._edgecode(y,m),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(y,m):i=[y,m]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(e,d,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}},{key:"_clipSegment",value:function t(e,n,r,i,o,a){for(;;){if(0===o&&0===a)return[e,n,r,i];if(o&a)return null;var s=void 0,l=void 0,c=o||a;8&c?(s=e+(r-e)*(this.ymax-n)/(i-n),l=this.ymax):4&c?(s=e+(r-e)*(this.ymin-n)/(i-n),l=this.ymin):s=2&c?(l=n+(i-n)*(this.xmax-e)/(r-e),this.xmax):(l=n+(i-n)*(this.xmin-e)/(r-e),this.xmin),o?(e=s,n=l,o=this._regioncode(e,n)):(r=s,i=l,a=this._regioncode(r,i))}}},{key:"_clipInfinite",value:function t(e,n,r,i,o,a){var s=Array.from(n),l;if((l=this._project(s[0],s[1],r,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(var c=0,u=s.length,d,f=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)d=f,f=this._edgecode(s[c],s[c+1]),d&&f&&(c=this._edge(e,d,f,s,c),u=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function t(e,n,r,i,o){for(;n!==r;){var a=void 0,s=void 0;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin}i[o]===a&&i[o+1]===s||!this.contains(e,a,s)||(i.splice(o,0,a,s),o+=2)}if(4<i.length)for(var l=0;l<i.length;l+=2){var c=(l+2)%i.length,u=(l+4)%i.length;(i[l]===i[c]&&i[c]===i[u]||i[l+1]===i[1+c]&&i[1+c]===i[1+u])&&(i.splice(c,2),l-=2)}return o}},{key:"_project",value:function t(e,n,r,i){var o=1/0,a,s,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,s=e+(o=a)*r)}else if(0<i){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,s=e+(o=a)*r)}if(0<r){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(s=this.xmax,l=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(s=this.xmin,l=n+(o=a)*i)}return[s,l]}},{key:"_edgecode",value:function t(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}},{key:"_regioncode",value:function t(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}]),s}(),qG=regeneratorRuntime.mark(nQ),VG=2*Math.PI,WG=Math.pow;function $G(t){return t[0]}function XG(t){return t[1]}function JG(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2],s;if(1e-10<(n[a]-n[i])*(n[1+o]-n[1+i])-(n[o]-n[i])*(n[1+a]-n[1+i]))return}return 1}function KG(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var tQ=function(){function l(t){Pb(this,l),this._delaunator=new SG(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return Yb(l,null,[{key:"from",value:function t(e,n,r,i){var o=1<arguments.length&&void 0!==n?n:$G,a=2<arguments.length&&void 0!==r?r:XG,s=3<arguments.length?i:void 0;return new l("length"in e?eQ(e,o,a,s):Float64Array.from(nQ(e,o,a,s)))}}]),Yb(l,[{key:"update",value:function t(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function t(){var e=this._delaunator,n=this.points;if(e.hull&&2<e.hull.length&&JG(e)){this.collinear=Int32Array.from({length:n.length/2},function(t,e){return e}).sort(function(t,e){return n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]});for(var r=this.collinear[0],i=this.collinear[this.collinear.length-1],o=[n[2*r],n[2*r+1],n[2*i],n[2*i+1]],a=1e-8*Math.hypot(o[3]-o[1],o[2]-o[0]),s=0,l=n.length/2;s<l;++s){var c=KG(n[2*s],n[2*s+1],a);n[2*s]=c[0],n[2*s+1]=c[1]}this._delaunator=new SG(n)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,d=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),p=this._hullIndex.fill(-1),g=0,_=u.length;g<_;++g){var y=f[g%3==2?g-2:g+1];-1!==u[g]&&-1!==h[y]||(h[y]=g)}for(var m=0,v=d.length;m<v;++m)p[d[m]]=m;d.length<=2&&0<d.length&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=d[0],this.triangles[1]=d[1],this.triangles[2]=d[1],h[d[0]]=1,2===d.length&&(h[d[1]]=0))}},{key:"voronoi",value:function t(e){return new QG(this,e)}},{key:"neighbors",value:regeneratorRuntime.mark(function t(n){var r,i,o,a,s,l,c,u,d,f,h;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,!(l=this.collinear)){e.next=10;break}if(0<(c=l.indexOf(n)))return e.next=6,l[c-1];e.next=6;break;case 6:if(c<l.length-1)return e.next=9,l[c+1];e.next=9;break;case 9:return e.abrupt("return");case 10:if(-1===(u=r[n]))return e.abrupt("return");e.next=13;break;case 13:d=u,f=-1;case 14:return e.next=16,f=s[d];case 16:if(s[d=d%3==2?d-2:d+1]!==n)return e.abrupt("return");e.next=19;break;case 19:if(-1!==(d=a[d])){e.next=26;break}if((h=i[(o[n]+1)%i.length])!==f)return e.next=25,h;e.next=25;break;case 25:return e.abrupt("return");case 26:if(d!==u){e.next=14;break}case 27:case"end":return e.stop()}},t,this)})},{key:"find",value:function t(e,n,r){var i=2<arguments.length&&void 0!==r?r:0;if((e=+e)!=e||(n=+n)!=n)return-1;for(var o=i,a;0<=(a=this._step(i,e,n))&&a!==i&&a!==o;)i=a;return a}},{key:"_step",value:function t(e,n,r){var i=this.inedges,o=this.hull,a=this._hullIndex,s=this.halfedges,l=this.triangles,c=this.points;if(-1===i[e]||!c.length)return(e+1)%(c.length>>1);var u=e,d=WG(n-c[2*e],2)+WG(r-c[2*e+1],2),f=i[e],h=f;do{var p=l[h],g=WG(n-c[2*p],2)+WG(r-c[2*p+1],2);if(g<d&&(d=g,u=p),l[h=h%3==2?h-2:h+1]!==e)break;if(-1===(h=s[h])){if((h=o[(a[e]+1)%o.length])!==p&&WG(n-c[2*h],2)+WG(r-c[2*h+1],2)<d)return h;break}}while(h!==f);return u}},{key:"render",value:function t(e){for(var n=null==e?e=new HG:void 0,r=this.points,i=this.halfedges,o=this.triangles,a=0,s=i.length;a<s;++a){var l=i[a],c,u;l<a||(c=2*o[a],u=2*o[l],e.moveTo(r[c],r[1+c]),e.lineTo(r[u],r[1+u]))}return this.renderHull(e),n&&n.value()}},{key:"renderPoints",value:function t(e,n){for(var r=1<arguments.length&&void 0!==n?n:2,i=null==e?e=new HG:void 0,o=this.points,a=0,s=o.length;a<s;a+=2){var l=o[a],c=o[a+1];e.moveTo(l+r,c),e.arc(l,c,r,0,VG)}return i&&i.value()}},{key:"renderHull",value:function t(e){var n=null==e?e=new HG:void 0,r=this.hull,i=this.points,o=2*r[0],a=r.length;e.moveTo(i[o],i[1+o]);for(var s=1;s<a;++s){var l=2*r[s];e.lineTo(i[l],i[1+l])}return e.closePath(),n&&n.value()}},{key:"hullPolygon",value:function t(){var e=new GG;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function t(e,n){var r=null==n?n=new HG:void 0,i=this.points,o=this.triangles,a=2*o[e*=3],s=2*o[e+1],l=2*o[e+2];return n.moveTo(i[a],i[1+a]),n.lineTo(i[s],i[1+s]),n.lineTo(i[l],i[1+l]),n.closePath(),r&&r.value()}},{key:"trianglePolygons",value:regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:n=this.triangles,r=0,i=n.length/3;case 2:if(r<i)return e.next=5,this.trianglePolygon(r);e.next=8;break;case 5:++r,e.next=2;break;case 8:case"end":return e.stop()}},t,this)})},{key:"trianglePolygon",value:function t(e){var n=new GG;return this.renderTriangle(e,n),n.value()}}]),l}();function eQ(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=t[a];o[2*a]=e.call(r,s,a,t),o[2*a+1]=n.call(r,s,a,t)}return o}function nQ(n,r,i,o){var a,s,l,c;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:a=0,s=ox(n),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=13;break}return c=l.value,e.next=8,r.call(o,c,a,n);case 8:return e.next=10,i.call(o,c,a,n);case 10:++a;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),s.e(e.t0);case 18:return e.prev=18,s.f(),e.finish(18);case 21:case"end":return e.stop()}},qG,null,[[2,15,18,21]])}function rQ(t,e,n,r){var i=r.select(".fl-data-foreground").selectAll(".series").data(t,$F),o=i.enter().append("g").attr("class","series"),a=i.merge(o);i.exit().remove();var s=[];LR.has_lines&&aS.popup.show_popups&&a.each(function(t){var e;"line"!=LR.mode&&!t.secondary||(e=t.secondary?"data_points":LR.data_points,s=s.concat(t[e]))});for(var l=r.datum(),c=l.chart_layout.margins,u=tQ.from(s,function(t){return e.label(t.label)},function(t){return e[t.secondary?"value_secondary":"value"](t.value)}).voronoi([c.left,c.top,c.left+l.layout.plot_w,c.top+l.layout.plot_h]),d=[],f=0;f<s.length;f++){var h=u.cellPolygon(f);h&&(h.data=s[f],d.push(h))}var p=a.selectAll("path").data(d,WF),g=p.enter().append("path").style("opacity",0).on("mouseover",function(){vU(this.getAttribute("data-target"))}).on("click",function(){mU(this.getAttribute("data-target"))}).on("mouseout",bU);p.merge(g).attr("data-target",function(t){return"point-"+t.data.series+"-"+t.data.row_index}).attr("d",function(t){return null==t?null:"M"+t.join("L")+"Z"}),p.exit().remove()}var iQ=Object.freeze({limit_top:-1/0,limit_right:1/0,limit_bottom:1/0,limit_left:-1/0,padding_top_bottom:0,padding_left_right:0}),oQ,aQ;function sQ(t,e){return!(t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function lQ(t){var e=0<arguments.length&&void 0!==t?t:{},a=Object.assign({},iQ,e),s=[],n=function t(e){if(!e||!e.getBoundingClientRect)return!0;var n=e.getBoundingClientRect();if(n.top<a.limit_top||n.bottom>a.limit_bottom)return!0;if(n.left<a.limit_left||n.right>a.limit_right)return!0;var r=ox(s),i,o;try{for(r.s();!(i=r.n()).done;){if(sQ(n,i.value))return!0}}catch(t){r.e(t)}finally{r.f()}return s.push({top:n.top-a.padding_top_bottom,right:n.right+a.padding_left_right,bottom:n.bottom+a.padding_top_bottom,left:n.left-a.padding_left_right}),!1};return function t(e){return e&&e.getBoundingClientRect?n(e):(Array.isArray(e)||(e=Array.from(e)),e.map(n))}}function cQ(t){return aS.y_axis_log&&t<=0?.01:t}function uQ(t){return t.stack_label&&"auto"!=aS.stack_labels_font_size_mode?VQ.remToPx(aS.stack_labels_font_size):t.slack_label||"auto"==aS.labels_font_size_mode?"bar"==LR.mode?Math.min(.8*t.facet.scales.col_w,VQ.remToPx(1.25)):VQ.remToPx(.9):VQ.remToPx(aS.labels_font_size)}function dQ(t){if("off"==aS.labels_bg_mode)return 0;var e=uQ(t)/(100/aS.labels_bg_size);return"on"!=aS.labels_bg_mode&&"data"!=aS.labels_color_mode&&"contrast"!=aS.labels_color_mode&&"bar"==LR.mode?0:e}function fQ(t){var e,e=aS.chart_bg.background_color_enabled?aS.chart_bg.background_color:aS.layout.background_color_enabled?aS.layout.background_color:"white",n=!1;return"column"==LR.mode&&(n=!LR.stack&&"above"==aS.labels_column_align||t.too_tall),"bar"==LR.mode&&(n=!LR.stack&&"out"==aS.labels_bar_align),"line"!=LR.mode||LR.area||aS.labels_dot_center||(n=!0),"contrast"!=aS.labels_color_mode||n?e:yQ(this,t.label)}function hQ(t,e){return t.getBBox().width*e/parseFloat(t.getAttribute("font-size"))}function pQ(t,e){var n=HZ(t,e,this),r=uQ(t),i=hQ(this,r),o=t.facet.scales,a=t.facet.scales.label(t.label),s=t.facet.scales[t.secondary?"value_secondary":"value"](cQ(t.value))+.33*r,l=LR.facet_by_series?0:t.series_primary,c,u,d,f,h,p,u,a,s;if(t.secondary||"line"==LR.mode)aS.labels_dot_center&&!t.stack_label||(c=n+.66*r,u=t.value<=0,(s+=t.stack_label&&!u||!t.stack_label&&u?-c:c)<r/2&&(s+=2*c),s-r/2>t.facet.scales.h&&(s-=2*c),a<i/2+t.facet.chart_layout.margins.left&&(a+=i/2),a>t.facet.scales.w-i/2&&(a-=i/2));else if("column"==LR.mode){var g=o.value(t.value_base||0),_=Math.abs(s-.33*r-g),y=r*(.5+(0==t.value?0:aS.labels_column_padding)),u=t.value<=0;t.stack_label||!LR.stack&&"above"==aS.labels_column_align||t.too_tall?s+=u?y:-y:"top"==aS.labels_column_align||"above"==aS.labels_column_align?s+=u?-y:y:"middle"==aS.labels_column_align?s+=u?-_/2:_/2:"bottom"==aS.labels_column_align&&(s+=u?y-_:_-y),a+=t.facet.scales.col_w/2+t.facet.scales.col_padding/2-t.facet.scales.group_w/2,LR.stack||(a+=l*(t.facet.scales.col_w+t.facet.scales.col_padding))}else{if("donut"==LR.mode){var m="point-"+t.series+"-"+t.row_index,v=document.getElementById(m).__centroid__;return"translate("+(v[0]+t.facet.scales.w/2+t.facet.chart_layout.margins.left)+","+(v[1]+t.facet.scales.h/2+t.facet.chart_layout.margins.top)+")"}"bar"==LR.mode&&(a=o.value(t.value),f=o.value(t.value_base||0),h=Math.abs(a-f),p=r/4,u=0<=t.value,a=t.stack_label||!LR.stack&&"out"==aS.labels_bar_align?u?a+i/2+p:a-i/2-p:"left"==aS.labels_bar_align?u?f+p+i/2:f-p-i/2:"right"==aS.labels_bar_align||"out"==aS.labels_bar_align?u?a-i/2-p:a+i/2+p:u?a-h/2:a+h/2,s=t.facet.scales.label(t.label)-t.facet.scales.group_w/2+.33*r,s+=t.facet.scales.col_w/2+t.facet.scales.col_padding/2,LR.stack||(s+=l*(t.facet.scales.col_w+t.facet.scales.col_padding)))}return"translate("+a+","+s+")"}function gQ(t){return aF.labelFormat(t.label)}function _Q(t){return t.secondary?oF(t.value):!t.stack_label&&LR.stack?iF(t.value_display):iF(t.value)}function yQ(t,e){return YF?ZF(e):BF(t.parentNode.__data__.series)}function mQ(t){if(t){var e=yw(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}function vQ(t,e){return e?"currentColor":mQ(t)?"black":"white"}function bQ(){return aS.labels_fixed_color||aS.layout.font_color}function xQ(t){if("fixed"==aS.labels_color_mode)return bQ();var e=yQ(this,t.label),n=!1,n=!1;return"column"==LR.mode&&(n=!LR.stack&&"above"==aS.labels_column_align||t.too_tall),"bar"==LR.mode&&(n=!LR.stack&&"out"==aS.labels_bar_align),"line"!=LR.mode||LR.area||aS.labels_dot_center||(n=!0),"contrast"==aS.labels_color_mode?vQ(e,n):"data"==aS.labels_color_mode||"line"==LR.mode?e:"bar"==LR.mode?vQ(e,n):bQ()}function wQ(t,e){var n=e.facet.scales.value,r=uQ(e),i=Math.abs(n(e.value)-n(e.value_base||0)),o=!(e.stack_label||!LR.stack&&"out"==aS.labels_bar_align)&&hQ(t,r)>.9*i,a=e.facet.scales.col_w<r;return o||a}function MQ(t,e){var n=e.facet.scales.value,r=uQ(e),i="top"==aS.labels_column_align||"bottom"==aS.labels_column_align?VQ.remToPx(aS.labels_column_padding):0,o,a;return.75*Math.abs(n(e.value)-n(e.value_base||0))<r+i}function kQ(t,e){return"bar"==LR.mode&&wQ(e,t)&&!t.stack_label&&aS.labels_bar_autohide||"column"==LR.mode&&LR.stack&&t.too_tall?0:1}function jQ(t){t.too_tall=MQ(this,t)}function AQ(t,e,n){var r=e?0:aS.data_trans_duration,i=t.selectAll(".data-label").data(function(t){return aS.labels?t[t.secondary?"data_points":LR.data_points]:[]},WF),o=i.enter().append("g").attr("class","data-label").attr("text-anchor","middle").attr("font-weight",aS.labels_font_weight).attr("font-size",function(t){return uQ(t)+"px"}).attr("pointer-events","none").attr("opacity",0),a=o.append("text").attr("class","back").attr("stroke-width",dQ).attr("stroke",fQ),s=o.append("text").attr("class","front").attr("fill",xQ),l=aS.labels_content,c="label"==l||"both"==l||"auto"==l&&"donut"==LR.mode,u="value"==l||"both"==l||"auto"==l&&"donut"!=LR.mode;s.append("tspan").attr("class","label").text(c?gQ:""),s.append("tspan").attr("class","value").text(u?_Q:"").attr("x",0).attr("dy",c?"1.05em":0),a.append("tspan").attr("class","label").text(c?gQ:""),a.append("tspan").attr("class","value").text(u?_Q:"").attr("x",0).attr("dy",c?"1.05em":0),o.each(jQ).attr("transform",pQ);var d=i.merge(o).each(jQ).attr("font-weight",aS.labels_font_weight),f=d.select(".back").transition().duration(r).delay(n).attr("stroke-width",dQ).attr("stroke",fQ),h=d.select(".front").transition().duration(r).delay(n).attr("fill",xQ);h.select("tspan.label").text(c?gQ:""),h.select("tspan.value").text(u?_Q:"").attr("x",0).attr("dy",c?"1.05em":0),f.select("tspan.label").text(c?gQ:""),f.select("tspan.value").text(u?_Q:"").attr("x",0).attr("dy",c?"1.05em":0);var p=lQ();d.transition().duration(r).delay(n).attr("font-size",function(t){return uQ(t)+"px"}).attr("transform",pQ).end().then(function(){d.each(function(t){kQ(t,this)&&yb(this).style("visibility",aS.labels_hide_overlaps&&p(this)?"hidden":null)})},function(){console.warn("Label transition-end rejection")}),d.transition("opacity").duration(.5*r).delay(n+.8*r).attr("opacity",function(t){return kQ(t,this)}),i.exit().remove()}function IQ(t,e,n){var r=e?0:aS.data_trans_duration,i=aS.stack_labels&&LR.has_stack_labels,o=yb("#stack-labels").selectAll(".stack-label").data(i?t.stack_labels:[]),a=o.enter().append("text").attr("class","stack-label").attr("text-anchor","middle").attr("font-size",function(t){return uQ(t)+"px"}).attr("pointer-events","none").attr("opacity",0).attr("fill",aS.stack_labels_color||"currentColor").attr("transform",pQ).attr("x",function(t){return t.facet.layout.x}).attr("y",function(t){return t.facet.layout.y}),s=o.merge(a);s.text(_Q).attr("font-weight",aS.stack_labels_weight).transition().duration(r).delay(n).attr("fill",aS.stack_labels_color||"currentColor").attr("font-size",function(t){return uQ(t)+"px"}).attr("transform",pQ).attr("x",function(t){return t.facet.layout.x}).attr("y",function(t){return t.facet.layout.y}),s.transition("opacity").duration(.5*r).delay(n+.8*r).attr("opacity",function(t){return kQ(t,this)}),o.exit().remove()}function TQ(t){var e;SU(),aS.highlighted&&(e=document.getElementById(aS.highlighted),setTimeout(function(){e&&xU(e)},t))}function NQ(t,e,n,r){var i=e.scales,o=yb(t);"_mode"in t||(t._mode=LR.mode);var a=LR.single_series?aS.current_series:0,s=LR.single_series?a+1:void 0,l=e.series.slice(a,s);switch(LR.mode){case"bar":case"column":i.num_series=e.series_primary.length;var c=LR.stack||i.num_series<2,u=i.label.step?i.label.step():0,d=LR.has_bar_labels?VQ.remToPx(1.2*aS.bar_labels_font_size):0,f=u*(1-aS.column_padding_inner/100)-d,h=f,p=0,g,h;c||(h=f/i.num_series,h-=p+=h*(aS.column_padding_in_group/100)),i.group_w=Math.max(1,f),i.col_w=Math.max(1,h),i.col_padding=Math.max(0,p);break;case"line":break;case"donut":i.sum_scale_ratio=aS.donut_auto_scale?l[0].data_points_positive_sum/e.dataset_max_series_sum:1}rQ(l,i,n,o),_G(o,e,r)}function zQ(t){var e,n;return"translate("+t.facet.layout.x+","+t.facet.layout.y+")"}function SQ(t,e){var n=e&&"except-data-points"!=e,r=LR.single_series&&!LR.facet_by_series,i=t.series_primary.filter(function(t){return!r||t.index==aS.current_series}),o=0,a=0;"line"!=oQ&&"line"==LR.mode&&(a=aS.data_trans_duration),"line"==oQ&&"line"!=LR.mode&&(o=aS.data_trans_duration);var s=yb("#data-points").selectAll(".series").data(i,$F),l=s.enter().append("g").attr("class","series").attr("transform",zQ).attr("clip-path",function(t){return"url(#facet-clip-"+t.facet.index+")"}),c=s.merge(l);c.transition().duration(e?0:aS.data_trans_duration).delay(o).attr("transform",zQ).attr("clip-path",function(t){return"url(#facet-clip-"+t.facet.index+")"}).style("opacity",1).on("end",function(){oQ=LR.mode});var u=s.exit();u.selectAll(".data-point").attr("id",null),u.transition().duration(e?0:aS.data_trans_duration).delay(o).style("opacity",0).remove();var d=t.series.filter(function(t){return!r||t.index==aS.current_series}),f=yb("#data-point-labels").selectAll(".series").data(d,$F),h=f.enter().append("g").attr("class","series").attr("transform",zQ).attr("clip-path",function(t){return"url(#facet-clip-"+t.facet.index+")"}),p=f.merge(h);p.transition().duration(e?0:aS.data_trans_duration).delay(o).attr("transform",zQ).attr("clip-path",function(t){return"url(#facet-clip-"+t.facet.index+")"}),f.exit().transition().duration(e?0:aS.data_trans_duration).delay(o).style("opacity",0).remove();var g=yb("#data-points").selectAll(".series-secondary").data(t.series_secondary,function(t){return"secondary-"+t.name}),_=g.enter().append("g").attr("class","series-secondary").attr("transform",zQ),y=g.merge(_);y.transition().duration(e?0:aS.data_trans_duration).delay(o).attr("transform",zQ);var m=g.exit();switch(m.selectAll(".data-point").attr("id",null),m.transition().duration(e?0:aS.data_trans_duration).delay(o).style("opacity",0).remove(),LR.mode){case"bar":WZ(c,n,o);break;case"column":$Z(c,n,o);break;case"line":VZ(c,n,o);break;case"donut":tG(c,n,o)}gG(i,n,o,a),TQ(e?0:o+aS.data_trans_duration),IQ(t,n,o),VZ(y,n,o,!0),gG(t.series_secondary,n,o,a,!0),AQ(p,n,o)}function EQ(t,e){TG(t,e)}function LQ(t){return"translate("+t.layout.x+","+t.layout.y+")"}function DQ(t){return VQ.remToPx(t)}var CQ=!1,OQ;function PQ(n){aQ={};var l=LR.values_on_x,c=n?0:aS.data_trans_duration,t=yb(".facets").selectAll(".facet").data(aF),e=t.enter().append("g").attr("class","facet").each(function(){this._chart_layout=lS(this)}),u={top:0,right:0,bottom:0,left:0},r=t.merge(e).each(function(t){var e,n=l?aS.x_axis_matching:aS.y_axis_matching,e=LR.proportional?[0,100]:n?LR.stack?t.dataset_value_extent_stack.slice():t.dataset_value_extent.slice():LR.stack?t.value_extent_stack.slice():t.value_extent.slice();LR.stack_offset&&(e[0]=-e[1]/2,e[1]=e[1]/2);var r,i=(l?aS.y_axis_matching:aS.x_axis_matching)?aF[0].label_domain:t.label_domain,o=[];LR.has_secondary_value_axis&&(o=aS.y_secondary_axis_matching?t.dataset_value_extent_secondary:t.value_extent_secondary),"line"!=LR.mode&&(aS.y.numeric_scale_type="linear"),t.chart_layout=this._chart_layout,t.chart_layout.xData(l?e:i).yData(l?i:e).y2Data(o).xFormat(function(t){return l?iF(t):aF.labelFormat(t)}).yFormat(function(t){return l?aF.labelFormat(t):iF(t)}).y2Format(function(t){return oF(t)}).xAutoTitle("").yAutoTitle("").y2AutoTitle("").xZeroAxis(!!l).yZeroAxis(!l).xHide(!1).yHide(!aS.y.axis_visible||LR.has_bar_labels||!!LR.hide_y_axis).y2Hide(!LR.has_secondary_value_axis).animationDuration(0).width(VQ.getPrimaryWidth()).height(VQ.getPrimaryHeight()).xDatetimeParse(aF.labelParse||"").update({skip_rendering:!0});var a=t.chart_layout.margins();for(var s in a)LR.has_axes&&(u[s]=Math.max(u[s],a[s]))}),i=VQ.getPrimaryWidth(),o=aF.length,a=0,s,a;"line"==LR.mode&&aS.line_end_labels&&!LR.has_secondary_value_axis&&(s=aF.series_primary.map(function(t){return{text:t.name}}),a=iq.data(s).getWidth(),a+=HZ(!0));var d=DQ(aS.facet_gutter_w)+a,f=aS.y_axis_first_col_only&&aS.y_axis_matching,h=aS.y_secondary_axis_last_col_only&&aS.y_secondary_axis_matching;f||(d+=u.left),h||(d+=u.right);var p=i-u.left-u.right-a,g,_;if("facets"==aS.facet_layout&&aS.facet_fixed_cols)g=Math.floor(aS.facet_cols),_=Math.ceil(o/g);else for(var y=Math.floor((p+d)/(aS.facet_min_w+d)),g=Math.max(1,Math.min(y,o)),_=Math.ceil(o/g),m=g;0<m&&Math.ceil(o/(g-1))==_;m--)g--;var v=o%g!=0&&g<o,b=(p-d*(g-1))/g,x=Math.abs(u.top-u.bottom),w=Math.min(u.top,u.bottom),M=aF.length<2?0:1.5*DQ(aS.facet_header_font_size),k=DQ(aS.facet_gutter_h),j=1==_||aS.x_axis_last_row_only&&aS.x_axis_matching&&!v&&("bottom"==aS.x.axis_position||"top"==aS.x.axis_position),A=j&&"top"==aS.x.axis_position,I=LR.has_axes?j?1:_:0,T,N,z=b*(i<=aS.facet_aspect_breakpoint?aS.facet_aspect_mobile:aS.facet_aspect)/100,S,E=_*(z+M+k+2*w)+I*x-k,L=(VQ.remToPx(aS.bar_height)*(LR.stack?1:aF[0].series.length)*(100+aS.column_padding_in_group)/100+(aS.bar_labels_above?DQ(aS.y.tick_label_size):0))*(100+aS.column_padding_inner)/100,D=aF.row_names.length*L,C,O=_*(D+M+k+2*w)+I*x-k,P=Math.max(VQ.getDefaultPrimaryHeight(),1),R,Y=(Math.max(P,1)-_*(M+2*w)-I*x-(_-1)*k)/_,U;function F(){VQ.setHeight(null),N=P,T=Y}function B(){N=E,T=z,VQ.setHeight(N)}function Z(){N=O,T=D,VQ.setHeight(N)}(Flourish.fixed_height||"fill_space"==aS.height_mode?F:"aspect"==aS.height_mode?B:"bar"==LR.mode?Z:(b<aS.facet_min_w||Y<100)&&P<E?B:F)(),b=Math.max(b,0),T=Math.max(T,0);var H=M+T+2*w+k;!A&&j||(H+=x);var G=M+T+2*w+k;A||j||(G+=x),yb("#graphic").transition().duration(c).attr("width",i).attr("height",N);for(var m=0;m<o;m++){var Q=Math.ceil(m%g),q=Math.floor(m/g),V=aF[m].layout={};V.row=q,V.has_y_axis=LR.has_axes&&!LR.hide_y_axis&&(0==Q||!f)&&!LR.has_bar_labels,V.has_y_secondary_axis=LR.has_secondary_value_axis&&(Q==g-1||!h),V.has_x_axis=LR.has_axes&&(A&&0==q||!A&&q==_-1||!j),V.x=Q*(b+d),V.y=M+(0==q?0:H+(q-1)*G),V.w=b+(V.has_y_axis?u.left:0)+(V.has_y_secondary_axis?u.right:0),V.h=M+T+(V.has_x_axis?x:0),V.plot_h=T,V.plot_w=b}var W=DQ(aS.facet_header_padding*aS.facet_header_font_size),$="center"==aS.facet_title_align||"auto"==aS.facet_title_align&&"donut"==aS.chart_type;e.attr("transform",function(t){return LQ(CQ?aF[0]:t)}).attr("opacity",0);var X=e.append("g").attr("class","facet-title").attr("transform","translate(0, "+-M+")"),J;X.append("rect").attr("class","facet-title-bg"),X.append("text").attr("class","facet-title-text").attr("font-size",DQ(aS.facet_header_font_size)).attr("font-weight","bold").attr("dx",$||"none"==aS.facet_header_bg?0:W).attr("dy",.7*M).each(at).attr("x",tt).attr("fill",nt),e.select(".facet-title-bg").attr("width",it).attr("height",M).attr("fill",rt).attr("x",et),e.append("clipPath").attr("class","facet-clip").attr("id",function(t,e){return"facet-clip-"+e}).append("rect").attr("transform",ot).attr("width",function(t){return t.layout.w+d}).attr("height",function(t){return t.layout.h+k}),r.each(function(t){var e=t.layout.has_y_axis,n=t.layout.has_y_secondary_axis,r=t.layout.has_x_axis,i={};for(var o in u)i[o]=u[o];A&&0<t.layout.row&&(i.top=w);var a={keep_gridlines:LR.has_axes},s={keep_gridlines:LR.has_axes&&!LR.hide_y_axis&&!LR.has_bar_labels};t.chart_layout.xHide(!r&&a).yHide(!e&&s).y2Hide(!n&&a).width(t.layout.plot_w+i.left+i.right).height(t.layout.plot_h+i.bottom+i.top).animationDuration(c).update({margins:i}),aQ[t.key]=UQ(t.layout.x,t.layout.y,t.chart_layout)}).transition().duration(c).attr("transform",LQ).attr("opacity",1);var K=r.select(".facet-title");function tt(t){var e=t.chart_layout.margins().left;return $?e+b/2-this.parentNode.__title_width__/2:e}function et(t){var e=t.chart_layout.margins().left;return"full"!=aS.facet_header_bg&&$?e+b/2-this.parentNode.__title_width__/2-W:e}function nt(t,e){var n;return"fixed"==aS.facet_header_color_mode||"row"==LR.legend_type||!LR.facet_by_series?aS.facet_header_color:BF(e)}function rt(t,e){var n;return"fixed"==aS.facet_header_bg_mode||"row"==LR.legend_type||!LR.facet_by_series?aS.facet_header_bg_color:BF(e)}function it(){if("none"!=aS.facet_header_bg)return"full"==aS.facet_header_bg?b:this.parentNode.__title_width__+2*W}function ot(t){var e=-d/2;return t.layout.has_y_axis||(e+=t.chart_layout.margins().left),"translate("+e+", "+-(M+k/2)+")"}function at(){var t=this.getBBox().width,e=parseFloat(this.getAttribute("font-size")),n=DQ(aS.facet_header_font_size);this.parentNode.__title_width__=t*n/e}K.transition().duration(c).attr("transform","translate(0, "+-M+")"),K.select(".facet-title-text").text(function(t){return t.name}).transition().duration(c).attr("font-size",DQ(aS.facet_header_font_size)).attr("clip-path",function(t,e){return"url(#facet-clip-"+e+")"}).attr("fill",nt).attr("opacity",aF.length<2?0:1).attr("dx",$||"none"==aS.facet_header_bg?0:W).attr("dy",.7*M).each(at).attr("x",tt),K.select(".facet-title-bg").attr("clip-path",function(t,e){return"url(#facet-clip-"+e+")"}).transition().duration(c).attr("height",M).attr("width",it).attr("fill",rt).attr("x",et),r.select(".facet-clip").attr("id",function(t,e){return"facet-clip-"+e}).select("rect").transition().duration(c).attr("transform",ot).attr("width",function(t){return t.layout.w+d}).attr("height",function(t){return t.layout.h+k}),r.select(".fl-chart").each(function(t,e){t.scales={},t.scales.w=Math.max(0,t.chart_layout.plot_width),t.scales.h=Math.max(0,t.chart_layout.plot_height),t.scales.label_type=aF.label_type,t.scales.label=l?t.chart_layout.yScale({global:!0}):t.chart_layout.xScale({global:!0}),t.scales.value=l?t.chart_layout.xScale({global:!0}):t.chart_layout.yScale({global:!0}),t.scales.value_secondary=t.chart_layout.y2Scale({global:!0}),NQ(this,t,e,n)}),t.exit().transition().duration(c).attr("transform",function(){return LQ(aF[aF.length-1])}).attr("opacity",0).remove(),SQ(aF,n),EQ(aF,n),CQ=1==aF.length}function RQ(){var t=VQ.getSection("primary"),e=VQ.getSidebar();OQ=new MR(t,e,aS.annotations,{getDataFromCursor:FQ,getPositionFromData:BQ})}function YQ(){OQ.update()}function UQ(t,e,n){var r=n.xScale({global:!0}),i=n.yScale({global:!0}),o=r.range(),a=i.range(),s=r.domain(),l=i.domain();return{x:t,y:e,x_scale:r,y_scale:i,x_range:o,y_range:a,x_domain:s,y_domain:l}}function FQ(t,e){for(var n in aQ){var r=aQ[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var i=e[0]-r.x,o=e[1]-r.y,a=r.x_range[1]-r.x_range[0],s=r.y_range[0]-r.y_range[1],l=(i-r.x_range[0])/a,c=(o-r.y_range[1])/s,u=HQ(r.x_scale,r.x_domain),d=HQ(r.y_scale,r.y_domain),f,h;return{facet_id:n,x:"ordinal"!=u?r.x_scale.invert(i):ZQ(i,r.x_range,r.x_domain),y:"ordinal"!=d?r.y_scale.invert(o):ZQ(o,r.y_range,r.y_domain),x_fallback:l,y_fallback:c,x_type:u,y_type:d}}}}function BQ(t){var e=aQ[t.facet_id];if(e){var n,r,i=HQ(e.x_scale,e.x_domain),o=HQ(e.y_scale,e.y_domain),n=i==t.x_type?"ordinal"==t.x_type?e.x_scale(t.x.id)+e.x_scale.step()*t.x.offset:"date"==t.x_type?e.x_scale(new Date(t.x)):e.x_scale(t.x):t.x_fallback*(e.x_range[1]-e.x_range[0])+e.x_range[0],r=o==t.y_type?"ordinal"==t.y_type?e.y_scale(t.y.id)+e.y_scale.step()*-t.y.offset:"date"==t.y_type?e.y_scale(new Date(t.y)):e.y_scale(t.y):t.y_fallback*(e.y_range[0]-e.y_range[1])+e.y_range[1];return[e.x+n,e.y+r]}}function ZQ(t,e,n){var r=e[e.length-1]-e[0],i=(t-=e[0])/r,o=n.length,a,s;return{id:n[Math.floor(i*o)],offset:i*o%1-.5,ordinal:!0}}function HQ(t,e){return t.invert?"number"!=typeof e[0]?"date":"number":"ordinal";var n,r}var GQ=FL(aS.localization),QQ=QL(aS.number_format),qQ=QL(aS.number_format_secondary),VQ=xL(aS.layout),WQ=hE(),$Q=PS(document.body,aS.popup),XQ=bD(aS.legend),JQ=AC(aS.log_control_y),KQ=AC(aS.series_control_single),tq=AC(aS.row_filter_control),eq=DL(aS.controls_style,".fl-control",aS.layout),nq=OL(aS.dropdown_style,".fl-control-dropdown",aS.layout),rq=CL(aS.button_style,".fl-control-buttons",aS.layout),iq=CC(aS.line_labels);return sS(),RQ(),"font_size"in aS.popup&&"text_color"in aS.popup&&"show_popups"in aS.popup&&"is_custom"in aS.popup||console.error("popup.js relies on data-popup module having `font_size`, `text_color` and `popups_show` properties."),t.data=SR,t.draw=LU,t.state=aS,t.update=UU,t}({});
//# sourceMappingURL=template.js.map
</script><script src="https://public.flourish.studio/resources/v3/embedded.js"></script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"chart_type":"line","color.categorical_palette":["#1d6996","#edad08","#38a6a5","#73af48","#94346e","#e17c05","#5f4690","#0f8554","#6f4070","#cc503e","#994e95","#666666"],"dot_mode":"off","facet_header_color":null,"facet_layout":"single","labels":true,"labels_bg_mode":"on","labels_bg_size":35,"labels_color_mode":"auto","labels_content":"value","labels_dot_center":false,"labels_font_size":0.8,"labels_font_size_mode":"fixed","labels_font_weight":"600","labels_hide_overlaps":false,"layout.footer_note":"Visualização: A Mensagem","layout.multiple_sources":false,"layout.source_label":"Fonte:","layout.source_name":"INE","layout.title":"Evolução Preço m2 Habitação vs Remunaração Base","line_curve":"curveStep","line_dash_space_width":0,"line_dash_width":0,"line_end_labels":false,"line_interpolate":true,"line_labels.hide_overlaps":true,"line_labels.lines":"on","line_labels.line_style":"step","line_labels.position":"spread-y","line_opacity":1,"line_width":0.2,"number_format.suffix":"€","y.axis_visible":true,"y.gridlines_visible":false,"y.linear_min":null,"y.nice":true,"y.numeric_scale_type":"linear","y.show_scale_settings":true,"y.zero_axis":"auto"};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"data":{"label":"Ano","value":["Habitação Preço m2","Remuneração Base Média Mensal"]}},
		    _Flourish_data_metadata = {"data":{"value":[null,null]}},
		    _Flourish_data = {"data":[{"label":"2015","value":["€2 100","€1 268"]},{"label":"2016","value":["€2 757","€1 272"]},{"label":"2017","value":["€3 641","€1 294"]},{"label":"2018","value":["€4 110","€1 319"]},{"label":"2019","value":["€4 433"," "]},{"label":"2020","value":["€4 656"," "]},{"label":"2021","value":["€4 737"," "]}]};
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}
		window.template.draw();
	</script></body></html>